/*
 * Kiosked CFE library
 * @copyright Kiosked Ltd. - All rights reserved
 * @see http://kiosked.com
 */
(function(){function W(){var a=arguments,b=a.length;if(1===b)return function(){var b=Array.prototype.slice.call(arguments);return b.shift().extend(a[0].apply(a[0],b))};if(2===b)return function(){return a[0].extend(a[1].apply(a[1]))};throw Error("Invalid number of arguments");}(function(a,b){function c(a){p[x]=d.apply(b,a);return x++}function d(a){var c=[].slice.call(arguments,1);return function(){"function"===typeof a?a.apply(b,c):(new Function(""+a))()}}function f(b){if(w)setTimeout(d(f,b),0);else{var a=
p[b];if(a){w=!0;try{a()}finally{g(b),w=!1}}}}function g(b){delete p[b]}function k(){m=function(){var b=c(arguments);process.nextTick(d(f,b));return b}}function h(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;a.onmessage=function(){b=!1};a.postMessage("","*");a.onmessage=c;return b}}function l(){var b="setImmediate$"+Math.random()+"$",d=function(c){c.source===a&&"string"===typeof c.data&&0===c.data.indexOf(b)&&f(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",
d,!1):a.attachEvent("onmessage",d);m=function(){var d=c(arguments);a.postMessage(b+d,"*");return d}}function n(){var b=new MessageChannel;b.port1.onmessage=function(b){f(b.data)};m=function(){var a=c(arguments);b.port2.postMessage(a);return a}}function u(){var b=v.documentElement;m=function(){var a=c(arguments),d=v.createElement("script");d.onreadystatechange=function(){f(a);d.onreadystatechange=null;b.removeChild(d);d=null};b.appendChild(d);return a}}function A(){m=function(){var b=c(arguments);
setTimeout(d(f,b),0);return b}}if(!a.setImmediate){var x=1,p={},w=!1,v=a.document,m,C=Object.getPrototypeOf&&Object.getPrototypeOf(a),C=C&&C.setTimeout?C:a;"[object process]"==={}.toString.call(a.process)?k():h()?l():a.MessageChannel?n():v&&"onreadystatechange"in v.createElement("script")?u():A();C.setImmediate=m;C.clearImmediate=g}})("undefined"===typeof self?"undefined"===typeof global?this:global:self);(function(a){function b(b,a){return function(){b.apply(a,arguments)}}function c(a){if("object"!==
typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this._value=this._state=null;this._deferreds=[];l(a,b(f,this),b(g,this))}function d(b){var a=this;null===this._state?this._deferreds.push(b):n(function(){var c=a._state?b.onFulfilled:b.onRejected;if(null===c)(a._state?b.resolve:b.reject)(a._value);else{var d;try{d=c(a._value)}catch(e){b.reject(e);return}b.resolve(d)}})}function f(a){try{if(a===this)throw new TypeError("A promise cannot be resolved with itself.");
if(a&&("object"===typeof a||"function"===typeof a)){var c=a.then;if("function"===typeof c){l(b(c,a),b(f,this),b(g,this));return}}this._state=!0;this._value=a;k.call(this)}catch(d){g.call(this,d)}}function g(b){this._state=!1;this._value=b;k.call(this)}function k(){for(var b=0,a=this._deferreds.length;b<a;b++)d.call(this,this._deferreds[b]);this._deferreds=null}function h(b,a,c,d){this.onFulfilled="function"===typeof b?b:null;this.onRejected="function"===typeof a?a:null;this.resolve=c;this.reject=
d}function l(b,a,c){var d=!1;try{b(function(b){d||(d=!0,a(b))},function(b){d||(d=!0,c(b))})}catch(e){d||(d=!0,c(e))}}var n="function"===typeof setImmediate&&setImmediate||function(b){setTimeout(b,1)},u=Array.isArray||function(b){return"[object Array]"===Object.prototype.toString.call(b)};c.prototype["catch"]=function(b){return this.then(null,b)};c.prototype.then=function(b,a){var e=this;return new c(function(c,f){d.call(e,new h(b,a,c,f))})};c.all=function(){var b=Array.prototype.slice.call(1===arguments.length&&
u(arguments[0])?arguments[0]:arguments);return new c(function(a,c){function d(f,h){try{if(h&&("object"===typeof h||"function"===typeof h)){var g=h.then;if("function"===typeof g){g.call(h,function(b){d(f,b)},c);return}}b[f]=h;0===--e&&a(b)}catch(l){c(l)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})};c.resolve=function(b){return b&&"object"===typeof b&&b.constructor===c?b:new c(function(a){a(b)})};c.reject=function(b){return new c(function(a,c){c(b)})};c.race=function(b){return new c(function(a,
c){for(var d=0,e=b.length;d<e;d++)b[d].then(a,c)})};c._setImmediateFn=function(b){n=b};"undefined"!==typeof module&&module.exports?module.exports=c:a.Promise||(a.Promise=c)})(this||window);(function(a,b){"object"===typeof module&&module.exports?module.exports=a.lamd:a.lamd=b()})(this||window,function(){function a(b){"string"===typeof b&&(b=f[b]||null);return b&&void 0!==b.output}function b(b,a){b="string"===typeof b?[b]:b;return d(b).then(function(b){a.apply(null,b.map(function(b){return b.output}))})}
function c(b){var c=f[b]=f[b]||{id:b,def:!1,output:void 0};return new Promise(function(d){a(b)?d(c):(c.waitList=c.waitList||[]).push(function(){d(c)})})}function d(b){var a=[];return Promise.all(b.map(function(d){return c(d).then(function(c){a[b.indexOf(c.id)]=c})})).then(function(){return a})}var f={},g={define:function(){var a=arguments.length,c=null,d=[];if(2===a)c=arguments[1];else if(3===a)d=arguments[1],c=arguments[2];else throw Error("Invalid number of arguments");var a=arguments[0],e=f[a]=
f[a]||{id:a,def:!1,output:void 0};if(!1!==e.def)throw Error("Module already defined: "+a);e.factory=c;e.def=!0;return b(d,function(){var b=Array.prototype.slice.call(arguments);e.output="function"===typeof e.factory?e.factory.apply(e.factory,b):e.factory;if(void 0===e.output)throw Error("Module factory output cannot be undefined");(e.waitList||[]).forEach(function(b){b()})})},require:b};g.define.amd={};return g});var I=lamd.define,M=lamd.require,a=window.ITGS=window.ITGS||{};a.Includes=a.Includes||
{};a.Plugins=a.Plugins||{};a.Facades=a.Facades||{};a.Analyzers=a.Analyzers||{};a.AdProviders=a.AdProviders||{};a.MessageHandlers=a.MessageHandlers||{};a.MessageSources=a.MessageSources||{};a.Sniffing=a.Sniffing||{};a.External=a.External||{};a.overrideFunctions=a.overrideFunctions||{};a.destructors={};a.eventCallbacks=a.eventCallbacks||[];a.r=M;a.tools=function(){return{animations:[],easingFunctions:{backInCubic:function(a,b,c,d){d=(a/=d)*a;return b+c*(4*d*a+-3*d)},backInQuartic:function(a,b,c,d){d=
(a/=d)*a;return b+c*(2*d*d+2*d*a+-3*d)},inOutQuintic:function(a,b,c,d){d=(a/=d)*a;a*=d;return b+c*(6*a*d+-15*d*d+10*a)},linear:function(a,b,c,d){return b+a/d*(c-b)},outElastic:function(a,b,c,d){d=(a/=d)*a;var f=d*a;return b+c*(56*f*d+-175*d*d+200*f+-100*d+20*a)},outQuartic:function(a,b,c,d){d=(a/=d)*a;return b+c*(-1*d*d+4*d*a+-6*d+4*a)},outQuintic:function(a,b,c,d){d=(a/=d)*a;var f=d*a;return b+c*(f*d+-5*d*d+10*f+-10*d+5*a)}},addAttributes:function(a,b){for(var c in b)if(b.hasOwnProperty(c))try{a[c]=
b[c]}catch(d){}},addClass:function(a,b){this.hasClass(a,b)||(a.className+=" "+b)},addCSSRule:function(a,b,c,d){"insertRule"in a?a.insertRule(b+"{"+c+"}",d):"addRule"in a&&a.addRule(b,c,d)},_getValues:function(a,b){var c={},d=window.getComputedStyle(a),f;for(f in b)b.hasOwnProperty(f)&&(c[f]=parseFloat(a.style[f]||d.getPropertyValue(f)),c[f]=c[f]?c[f]:0);return c},_getUnits:function(a){var b={},c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c].toString().match(/[A-Za-z%]+/g);b[c]={value:parseFloat(a[c].toString().match(/-?[0-9\.]+/)),
unit:null!==d?d[0]:null}}return b},animate:function(e,b){var c=Date.now(),d=b.easing||"linear",f=a.tools.isset(b.duration)?b.duration:1E3,g=this._getValues(e,b.properties),k=this._getUnits(b.properties),h=this,l;return new Promise(function(a){(function A(){var x=Date.now()-c,p,m,v;for(v in b.properties)b.properties.hasOwnProperty(v)&&(m=k[v].value-g[v],p=h.easingFunctions[d](x,g[v],m,f),p=(x>f?g[v]+m:p)+k[v].unit,e.style[v]=p);x>f?(b.callback&&b.callback(e),cancelAnimationFrame(l),a()):l=requestAnimationFrame(A)})()})},
calculateZIndex:function(a){if(!(a instanceof HTMLElement))throw Error("Expected HTMLElement, received "+typeof a+" instead");return window.getComputedStyle?(a=parseInt(document.defaultView.getComputedStyle(a,null).zIndex,10),isNaN(a)?!1:a):a.currentStyle?(a=parseInt(a.currentStyle.zIndex,10),isNaN(a)?!1:a):!1},calculateZIndexOfChildren:function(e){var b=0;if(!(e instanceof HTMLElement))return!1;for(var c=e.childNodes.length,d=0;d<c;d+=1)if(!(!0!==e.childNodes[d]instanceof HTMLElement||0<=(e.childNodes[d].className||
"").indexOf("kskd"))&&a.tools.isVisible(e.childNodes[d])){var f=a.tools.calculateZIndex(e.childNodes[d]);f>b&&(b=f)}return b},compose:function(){function a(c){for(var d=b.length-1;-1<d;d-=1)try{c=b[d].call(this,c)}catch(f){throw f.message=a.toString()+" blew up on "+b[d].toString(),f;}return c}var b=arguments;a.toString=function(){return"compose("+[].slice.call(b).map(function(b){return b.toString()}).join(", ")+")"};return a},corsSupported:function(){return m.XMLHttpRequestSupported()||m.XDomainRequestSupported()},
create:function(e,b,c,d){e=document.createElement(e);e.className="kskdDiv";if(b){if(b.className){for(var f=b.className.split(" "),g=b.design?b.design:!1,k=0;k<f.length;k+=1)T.setStyle(e,f[k],g);delete b.className}b.style&&(T.style(e,b.style),delete b.style);b.cssClass&&(e.className="kskdDiv "+b.cssClass);this.addAttributes(e,b)}c&&(d&&"first"===d?c.insertBefore(e,c.firstChild):d instanceof HTMLElement&&a.tools.dom.isDescendant(c,d)?c.insertBefore(e,d.nextSibling):c.appendChild(e));return e},curry:function(a,
b){var c=a.length;b=b?b:null;return function f(){var g=Array.prototype.slice.call(arguments,0);return g.length>=c?a.apply(b,g):function(){var a=Array.prototype.slice.call(arguments,0);return f.apply(b,g.concat(a))}}},curryWhole:function(a,b){b=b?b:null;return function(){var c=Array.prototype.slice.call(arguments,0);return function(){return a.apply(b,c)}}},deepClone:function b(a,d){m.isset(d)||(d=!1);if(null===a||"object"!==typeof a)return a;if(a instanceof Date){var f=new Date;f.setTime(a.getTime());
return f}if(a instanceof Array){for(var f=[],g=0,k=a.length;g<k;g+=1)f[g]=b(a[g],d);return f}if(a instanceof HTMLElement)return a;if(a instanceof Object){f={};for(g in a)if(a.hasOwnProperty(g)||d)f[g]=b(a[g],d);return f}throw Error("Unable to clone object - Type not supported");},deepFreeze:function(b){Object.getOwnPropertyNames(b).forEach(function(c){c=b[c];"object"!==typeof c||Object.isFrozen(c)||a.tools.deepFreeze(c)});return Object.freeze(b)},delay:function(b,c){a.tools.isset(c)||(c=!1);var d=
function(){return new Promise(function(a){setTimeout(a,b||1)})};return c?d:d()},escapeHTML:function(b){b=(b||"").replace(/&#([^\s]*);/g,function(b,a){return String.fromCharCode(Number(a))});return b.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},getElementOffset:function(b,a,d){var f,g,k=0,h=0,l,n,u,A,x,p,w,v,y,C,F,B;a||(B=document.defaultView.getComputedStyle(b,""),l=parseInt(B.borderLeftWidth,10),n=parseInt(B.borderRightWidth,10),u=parseInt(B.borderTopWidth,10),A=parseInt(B.borderBottomWidth,
10),x=parseInt(B.paddingLeft,10),p=parseInt(B.paddingRight,10),w=parseInt(B.paddingTop,10),v=parseInt(B.paddingBottom,10),y=parseInt(B.paddingLeft,10),C=parseInt(B.paddingRight,10),F=parseInt(B.paddingTop,10),B=parseInt(B.paddingBottom,10));d||(f=b.offsetWidth,g=b.offsetHeight);a=b&&b.ownerDocument;d={top:0,left:0};a&&(h=a.documentElement,b.getBoundingClientRect&&(d=b.getBoundingClientRect()),b=m.dom.getWindow(h),k=d.top+b.pageYOffset-h.clientTop,h=d.left+b.pageXOffset-h.clientLeft);return{top:k,
left:h,height:g,width:f,border:{left:l,right:n,top:u,bottom:A},padding:{left:x,right:p,top:w,bottom:v},margin:{left:y,right:C,top:F,bottom:B},screen:d}},getObjectLength:function(b){var a=0;if("object"===typeof b)for(var d in b)b.hasOwnProperty(d)&&(a+=1);return a},getRandomInt:function(b,a){a+=1;return Math.floor(Math.random()*(a-b))+b},getRange:function(b,a){return 0<=b?0<=a?a-b:0-(Math.abs(a)+b):0<=a?Math.abs(b)+a:a-b},getWindowLocationPath:function(){var b=m.overrideCall("tools.getWindowLocationPath");
return b?b():window.location.protocol+"//"+window.location.hostname+window.location.pathname},getWindowSize:function(){var b=0,a=0;window.innerWidth?(b=window.innerWidth,a=window.innerHeight):0!==document.documentElement.clientWidth&&(b=document.documentElement.clientWidth,a=document.documentElement.clientHeight);return{width:parseInt(b,10),height:parseInt(a,10)}},hasClass:function(b,a){return null!==b.className.match(new RegExp("(\\s|^)"+a+"(\\s|$)"))},hash:function(b){m.isString(b)||(b+="");var a,
d,f=2166136261;a=0;for(d=b.length;a<d;a+=1)f^=b.charCodeAt(a),f+=(f<<1)+(f<<4)+(f<<7)+(f<<8)+(f<<24);return("0000000"+(f>>>0).toString(16)).substr(-8)},isBrowser:{chrome:function(){return!!window.chrome},edge:function(){return/edge/i.test(navigator.userAgent)},firefox:function(){return/firefox/i.test(navigator.userAgent)},internetExplorer:function(){return a.tools.isBrowser.internetExplorer11()||-1!==navigator.appVersion.indexOf("MSIE")},internetExplorer9:function(){return m.isBrowser.internetExplorer()&&
9===parseInt(document.documentMode,10)},internetExplorer11:function(){var b=-1<navigator.userAgent.indexOf("Trident/7.0"),a=-1<navigator.userAgent.indexOf(".NET4.0E")||-1<navigator.userAgent.indexOf(".NET CLR");return b&&a}},isDifferentPosition:function(b,a){return b.top!==a.top||b.left!==a.left},isDifferentSize:function(b,a){return b.width!==a.width||b.height!==a.height},isEmpty:function(b){if(null===b||!1===b)return!0;switch(typeof b){case "undefined":return!0;case "boolean":return!1===b;case "number":return 0===
b;case "string":return 0===b.length||""===b||"0"===b;case "object":return b instanceof Array?0===b.length:0===Object.getOwnPropertyNames(b).length;default:throw Error("unexpected case: "+b);}},isLandscapeOrientation:function(){return window.innerWidth>window.innerHeight},isMobileType:function(){var b=/Android/i.test(navigator.userAgent),a=/BlackBerry/i.test(navigator.userAgent),d=/iPhone|iPad|iPod|iPhone Simulator|iPad Simulator/i.test(navigator.userAgent),f=/iPad|iPad Simulator/i.test(navigator.userAgent),
g=/iPhone|iPod|iPhone Simulator/i.test(navigator.userAgent),k=/Opera Mini/i.test(navigator.userAgent),h=/IEMobile|Windows Phone/i.test(navigator.userAgent),l;l=navigator.userAgent||navigator.vendor||window.opera;l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(l)||
/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(l.substr(0,
4))?!0:!1;return{Android:b,BlackBerry:a,iOS:d,iPad:f,iPhone:g,Opera:k,Windows:h,any:l}}(),isOnScreen:function(b,a){var d=!1,f="object"===typeof a?a:m.deepClone(b.getBoundingClientRect(),!0);if(f.top>-1*f.height&&f.bottom-window.innerHeight<f.height&&f.left>-1*f.width&&f.right-window.innerWidth<f.width){0===f.height&&(f.height=1);0===f.width&&(f.width=1);var d=f.height-(f.height+f.top),g=f.bottom-window.innerHeight,k=f.width-(f.width+f.left),h=f.right-window.innerWidth,d=(f.width-(0<k?k:0)-(0<h?h:
0))*(f.height-(0<d?d:0)-(0<g?g:0))/(f.width*f.height)*100}return d},isset:function(b){return"undefined"!==typeof b&&null!==b},isString:function(b){return"string"===typeof b||b instanceof String},isVisible:function(b){var a=window.getComputedStyle(b);return 0===a.getPropertyValue("opacity")||"none"===a.getPropertyValue("display")||"hidden"===a.getPropertyValue("visibility")||0===parseInt(b.style.opacity,10)||"none"===b.style.display||"hidden"===b.style.visibility?!1:!0},mergeDefaults:function c(a,
f){for(var g in f)if(f.hasOwnProperty(g))try{a[g]=f[g].constructor===Object?a[g]instanceof HTMLElement||f[g]instanceof HTMLElement?f[g]:c(a[g],f[g]):f[g]}catch(k){a[g]=f[g]}return a?a:f},outerHeight:function(a){if("undefined"===typeof a)return 0;var d=parseInt(a.offsetHeight,10);a.style.marginTop&&(d+=parseInt(a.style.marginTop,10));a.style.marginBottom&&(d+=parseInt(a.style.marginBottom,10));return d},overrideCall:function(c){return a.overrideFunctions[c]&&"function"===typeof a.overrideFunctions[c]?
a.overrideFunctions[c]:!1},pageProtocol:function(){var a=["http:","https:"];return 0<=a.indexOf(window.location.protocol)?window.location.protocol:a[0]}(),parseBoolean:function(a){return"string"!==typeof a||"true"!==a.toLowerCase()&&"yes"!==a.toLowerCase()?"boolean"===typeof a?a:0<parseInt(a,10):!0},preventDefault:function(a,d){a&&(a.preventDefault&&a.preventDefault(),a.returnValue=!1,d&&(a.cancelBubble=!0,a.cancel=!0,a.stopPropagation&&a.stopPropagation()))},processPluginsArray:function(c,d){var f,
g=m.deepClone(c);if(d.isSet("overridePlugins")){var k,g=[];try{if(k=JSON.parse(d.get("overridePlugins")),m.array.isArray(k))for(f=0;f<k.length;f+=1)g.push(k[f]);else g=[k]}catch(h){for(k=d.get("overridePlugins").split(","),f=0;f<k.length;f+=1){var l=m.trim(k[f]);a.Plugins.hasOwnProperty(l)?g.push({name:l}):(l=0>=l.length?"(empty)":l,m.debug.log("/Tools/","(Override Plugins)","Failed loading plugin with invalid name:",l))}}}return g},promiseRace:function(a){return new Promise(function(d,f){for(var g=
0,k=a.length;g<k;g+=1)a[g].then(d,f)})},routeSettingsOutput:function(a){var d={settings:{},targets:{}};if("[object Array]"===Object.prototype.toString.call(a)){var f=a.length;if(0<f)for(var g=0;g<f;g+=1)a[g].hasOwnProperty("key")&&a[g].hasOwnProperty("value")&&(a[g].hasOwnProperty("target")&&m.isset(a[g].target)?(d.targets.hasOwnProperty(a[g].target)||(d.targets[a[g].target]={}),d.targets[a[g].target][a[g].key]=a[g].value):d.settings[a[g].key]=a[g].value)}return d},safeDestroy:function(a){if(a)try{var d=
a.destroy();if(d instanceof Promise)return d}catch(f){}return Promise.resolve()},sequence:function(){return a.tools.compose.apply(this,Array.prototype.slice.call(arguments).reverse())},settingsDiff:function(a,d){var f=function(a,c){return a.filter(function(a){return 0===c.filter(function(c){return c.key===a.key&&c.target===a.target&&parseInt(c.targetDeviceFamily,10)===parseInt(a.targetDeviceFamily,10)}).length})},g=a.length;return{deleted:f(a,d),added:f(d,a),changed:d.filter(function(d){for(var f=
0;f<g;f+=1)if(d.key===a[f].key&&d.target===a[f].target&&parseInt(d.targetDeviceFamily,10)===parseInt(a[f].targetDeviceFamily,10)&&d.value!==a[f].value)return!0;return!1}).map(function(d){for(var f=null,l=0;l<g;l+=1)if(d.key===a[l].key&&d.target===a[l].target&&parseInt(d.targetDeviceFamily,10)===parseInt(a[l].targetDeviceFamily,10)){f=a[l].value;break}d.originalValue=f;return d})}},shuffleArray:function(a){for(var d=[];a.length;)d.push(a.splice(Math.random()*a.length,1)[0]);for(;d.length;)a.push(d.pop());
return a},trim:function(a){return a?a.replace(/^\s+|\s+$/g,""):""}}}();var m=a.tools=a.tools||{};a.tools.decorators=a.tools.decorators||function(){return{decorateWithMeta:function(e){if("object"!==typeof e)throw new a.Exceptions.InvalidTypeException("object",typeof e,e);e._metaStore={};e.getMeta=function(b,a){return this._metaStore.hasOwnProperty(b)?this._metaStore[b]:a};e.setMeta=function(b,a){this._metaStore[b]=a}},decorateWithMutex:function(a,b){if("object"!==typeof a)throw new z("Target is not an object");
a.isLocked=function(){return b.isLocked.apply(b,arguments)};a.lock=function(){return b.lock.apply(b,arguments)};a.lockMany=function(){return b.lockMany.apply(b,arguments)};a.unlock=function(){return b.unlock.apply(b,arguments)}},decorateWithPubSub:function(a,b){if("object"!==typeof a)throw new z("Target is not an object");a.onEvents=function(){return b.onEvents.apply(b,arguments)};a.publish=function(){return b.publish.apply(b,arguments)};a.removeSubscriptions=function(){return b.removeAll.apply(b,
arguments)};a.subscribe=function(){return b.subscribe.apply(b,arguments)}},decorateWithStatus:function(e,b){if("object"!==typeof e)throw new a.Exceptions.InvalidTypeException("object",typeof e,e);if(!b instanceof a.Status)throw new a.Exceptions.InvalidTypeException("ITGS.Status",typeof b,b);e.is=function(){return b.is.apply(b,arguments)};e.isNot=function(){return b.isNot.apply(b,arguments)};e.has=e.is;e.hasNot=e.isNot;e.set=function(){e.publish&&e.publish("statusSet",Array.prototype.slice.call(arguments));
b.set.apply(b,arguments)};e.unset=function(){e.publish&&e.publish("statusUnset",Array.prototype.slice.call(arguments));return b.unset.apply(b,arguments)};e.addStatus=function(a){return b.registerStatus(a)};e.addStatusSet=function(){b.addSelection.apply(b,arguments)}}}}();(function(a){function b(b,c){return Object.prototype.hasOwnProperty.call(b,c)?b[c]:a}function c(b){f=!0;b=new b;f=!1;return b}var d=this,f=!1;if(!d.KskdClass){var g=0<function(){$super()}.toString().indexOf("$super"),k=function(){};
k.$classyVersion="1.4";k.extend=function(h){var l=this.prototype,n=c(this);if(h.__include__)for(var u=0,A=h.__include__.length;u!==A;u+=1){var m=h.__include__[u],p;for(p in m)b(m,p)!==a&&(n[p]=m[p])}h.__classvars__=h.__classvars__||{};if(n.__classvars__)for(var w in n.__classvars__)h.__classvars__[w]||(u=b(n.__classvars__,w),h.__classvars__[w]=u);for(var v in h)w=b(h,v),"__include__"!==v&&w!==a&&(n[v]="function"!==typeof w||g&&!/\B\$super\b/.test(w.toString())?w:function(c,d){return function(){var f=
b(this,"$super");this.$super=l[d];try{return c.apply(this,arguments)}finally{f===a?delete this.$super:this.$super=f}}}(w,v));var y=function(){if(f)return null;var b=d===this?c(arguments.callee):this;b.construct&&b.construct.apply(b,arguments);b.$class=y;return b},C;for(C in h.__classvars__)v=b(h.__classvars__,C),v!==a&&(y[C]=v);y.prototype=n;y.constructor=y;y.extend=k.extend;y.$withData=k.$withData;return y};k.$withData=function(d){var f=c(this),g;for(g in d){var k=b(d,g);k!==a&&(f[g]=k)}return f};
d.KskdClass=k}})();a.tools.scope=a.tools.scope||function(){return{enforceCaller:function(e,b,c){c=c&&0<c.length?c:"Invalid caller - unexpected context";if(!(e instanceof b))throw new a.Exceptions.IllegalInvocationException(c,this);},hasOwnProperties:function(e,b,c){var d=!1;"string"===typeof b&&(b=[b]);c=c||function(b,a){return b.hasOwnProperty(a)};if("object"===typeof e&&a.tools.array.isArray(b))for(var d=!0,f=0;f<b.length;f+=1)if(!c(e,b[f])){d=!1;break}return d}}}();a.Mutex=a.Mutex||function(){var a=
function(){this._locks={}};a.prototype.isLocked=function(b){return this._locks.hasOwnProperty(b)&&!0===this._locks[b].locked};a.prototype.lock=function(b,a){a=a||0;var d=this._locks[b]=this._locks.hasOwnProperty(b)?this._locks[b]:{locked:!1,queue:[]};if(d.locked){if(0!==a&&d.queue.length>=a)return Promise.reject();var e={activate:!1};e.promise=new Promise(function(b){e.activate=b});d.queue.push(e);return e.promise}d.locked=!0;return Promise.resolve()};a.prototype.lockMany=function(){var b=this;return Promise.all(Array.prototype.slice.call(arguments).map(function(a){return b.lock(a)}))};
a.prototype.unlock=function(b){if(this._locks.hasOwnProperty(b)){b=this._locks[b];var a=b.queue.shift();a?a.activate():b.locked=!1}};return a}();(function(){a.Status=function(){if(!this instanceof a.Status)return new a.Status;this._selectorsBin=[];this._selectors={};this._statuses={};return this};a.Status.prototype.addSelection=function(a,b){if("[object Array]"!==Object.prototype.toString.call(a))throw new TypeError("Expected array");var c=a.length;if(0>=c)throw Error("Empty options array");b||(b=
a[0]);if(0>a.indexOf(b))throw Error("Default not in options array");for(var d=0;d<c;d+=1)if(this.statusExists(a[d]))throw Error("Cannot register status '"+a[d]+"' - already exists");for(var d=this._selectorsBin.push(a)-1,f=0;f<c;f+=1)if(!0!==this.registerStatus(a[f],d))throw Error("Failed registering status: '"+a[f]+"'");this.set(b)};a.Status.prototype.is=function(a){var b=arguments.length;if(0<b){for(var c=0;c<b;c+=1)if(!this.statusSet(arguments[c]))return!1;return!0}return!1};a.Status.prototype.isNot=
function(a){var b=arguments.length;if(0<b){for(var c=0;c<b;c+=1)if(this.statusSet(arguments[c]))return!1;return!0}return!1};a.Status.prototype.isSelector=function(a){return this.statusExists(a)&&-1<this._selectors[a]};a.Status.prototype.registerStatus=function(a,b){if(null===b||void 0===b)b=-1;return"string"!==typeof a||this._selectors.hasOwnProperty(a)?!1:(this._selectors[a]=b,!0)};a.Status.prototype.set=function(a){var b=arguments.length;if(0<b)for(var c=0;c<b;c+=1)this.setStatus(arguments[c])};
a.Status.prototype.setStatus=function(a){if(this.statusExists(a)){if(this.isSelector(a)){var b=this._selectorsBin[this._selectors[a]].slice(0);b.splice(b.indexOf(a),1);for(var c=b.length,d=0;d<c;d+=1)if(this._statuses.hasOwnProperty(b[d])&&(delete this._statuses[b[d]],this._statuses[b[d]]))throw Error("Failed disabling status: '"+b[d]+"'");}}else this.registerStatus(a);this._statuses[a]=!0};a.Status.prototype.statusExists=function(a){return this._selectors.hasOwnProperty(a)};a.Status.prototype.statusSet=
function(a){return this.statusExists(a)&&this._statuses[a]};a.Status.prototype.unset=function(a){var b=arguments.length;if(0<b){for(var c=!0,d=0;d<b;d+=1)!0!==this.unsetStatus(arguments[d])&&(c=!1);return c}return!1};a.Status.prototype.unsetStatus=function(a){if(this.statusExists(a)){if(this.isSelector(a))throw Error("Cannot unset optioned status: '"+a+"'");delete this._statuses[a];if(this._statuses[a])throw Error("Failed disabling status: '"+a+"'");return!0}return!1}})();(function(){a.PubSub=a.PubSub||
function(){this._topics={}};a.PubSub.prototype.onEvents=function(){var a=Array.prototype.slice.call(arguments),b=this;return{publishOn:function(c){a.forEach(function(a){b.subscribe(a,function(b){c&&c.publish&&c.publish(a,b)})})}}};a.PubSub.prototype.publish=function(e,b,c){this._topics.hasOwnProperty(e)&&(b=b||null,a.tools.isset(c)||(c=!0),this._topics[e].forEach(function(a){c?setImmediate(function(){a(b)}):a(b)}))};a.PubSub.prototype.removeAll=function(){this._topics={}};a.PubSub.prototype.subscribe=
function(a,b){this._topics.hasOwnProperty(a)||(this._topics[a]=[]);this._topics[a].push(b);var c=this;return{remove:function(){c._topics.hasOwnProperty(a)&&c._topics[a].splice(c._topics[a].indexOf(b),1)}}}})();var pa=function(){return{construct:function(){this._status=new a.Status;a.tools.decorators.decorateWithStatus(this,this._status);this._pubSub=new a.PubSub;a.tools.decorators.decorateWithPubSub(this,this._pubSub);a.tools.decorators.decorateWithMeta(this);this._mutex=new a.Mutex;a.tools.decorators.decorateWithMutex(this,
this._mutex)},bindMember:function(e){var b=this[e];if("function"!==typeof b)throw new z("Provided member name did not match any member function: "+e);return a.tools.compatibility.bindFunction(b,this)},destroy:function(){this._pubSub.removeAll();this.destroyed=!0},destroyMembers:function(){for(var e=Array.prototype.slice.call(arguments)||[],b=[],c=this,d=0,f=e.length;d<f;d+=1)(function(d){b.push(a.tools.safeDestroy(c[d]).then(function(){c[d]=null;try{delete c[d]}catch(a){}}))})(e[d]);return Promise.all(b)},
isBuilt:function(){return!0}}};a.KioskedObject=a.KioskedObject||KskdClass.extend(pa());I("core/KioskedObject",W(KskdClass,pa));(function(){function a(b){return function(){return this[b]}}function b(a){return function(){return a}}function c(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&
"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function d(a){return"string"==typeof a}function f(a,b,c){return a.call.apply(a.bind,arguments)}function g(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,
2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function k(a,b,c){k=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:g;return k.apply(null,arguments)}function h(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function l(a){function b(){}var c=U;b.prototype=
c.prototype;a.u=c.prototype;a.prototype=new b;a.t=function(a,b,d){return c.prototype[b].apply(a,Array.prototype.slice.call(arguments,2))}}function n(a,b,c){this.a=a;this.b=b||1;this.d=c||1}function u(a,b){return a<b?-1:a>b?1:0}function A(a,b){var c;a:{c=a.length;for(var e=d(a)?a.split(""):a,f=0;f<c;f++)if(f in e&&b.call(void 0,e[f],f,a)){c=f;break a}c=-1}return 0>c?null:d(a)?a.charAt(c):a[c]}function m(a){return O.concat.apply(O,arguments)}function p(a,b,c){return 2>=arguments.length?O.slice.call(a,
b):O.slice.call(a,b,c)}function w(a){return-1!=ga.indexOf(a)}function v(){var a=ba.document;return a?a.documentMode:void 0}function y(a){if(!Ma[a]){for(var b=0,c=String(Na).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var h=c[f]||"",g=d[f]||"",l=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var k=l.exec(h)||["","",""],p=n.exec(g)||["","",""];if(0==k[0].length&&0==p[0].length)break;
b=u(0==k[1].length?0:parseInt(k[1],10),0==p[1].length?0:parseInt(p[1],10))||u(0==k[2].length,0==p[2].length)||u(k[2],p[2])}while(0==b)}Ma[a]=0<=b}}function C(a,b,c,d){this.a=a;this.nodeName=c;this.nodeValue=d;this.nodeType=2;this.parentNode=this.ownerElement=b}function F(a,b){var c=Oa&&"href"==b.nodeName?a.getAttribute(b.nodeName,2):b.nodeValue;return new C(b,a,b.nodeName,c)}function B(a){this.b=a;this.a=0}function s(a){a=a.match(pb);for(var b=0;b<a.length;b++)qb.test(a[b])&&a.splice(b,1);return new B(a)}
function q(a,b){return a.b[a.a+(b||0)]}function r(a){return a.b[a.a++]}function t(a){return a.b.length<=a.a}function Pa(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Qa(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(P&&!(P&&9<=qa)){if(9==a.nodeType)return-1;if(9==b.nodeType)return 1}if("sourceIndex"in
a||a.parentNode&&"sourceIndex"in a.parentNode){var c=1==a.nodeType,d=1==b.nodeType;if(c&&d)return a.sourceIndex-b.sourceIndex;var e=a.parentNode,f=b.parentNode;return e==f?Ra(a,b):!c&&Pa(e,b)?-1*Sa(a,b):!d&&Pa(f,a)?Sa(b,a):(c?a.sourceIndex:e.sourceIndex)-(d?b.sourceIndex:f.sourceIndex)}d=9==a.nodeType?a:a.ownerDocument||a.document;c=d.createRange();c.selectNode(a);c.collapse(!0);d=d.createRange();d.selectNode(b);d.collapse(!0);return c.compareBoundaryPoints(ba.Range.START_TO_END,d)}function Sa(a,
b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return Ra(d,a)}function Ra(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1}function X(a){var b=null,c=a.nodeType;1==c&&(b=a.textContent,b=void 0==b||null==b?a.innerText:b,b=void 0==b||null==b?"":b);if("string"!=typeof b)if(Z&&"title"==a.nodeName.toLowerCase()&&1==c)b=a.text;else if(9==c||1==c){a=9==c?a.documentElement:a.firstChild;for(var c=0,d=[],b="";a;){do 1!=a.nodeType&&(b+=a.nodeValue),Z&&"title"==
a.nodeName.toLowerCase()&&(b+=a.text),d[c++]=a;while(a=a.firstChild);for(;c&&!(a=d[--c].nextSibling););}}else b=a.nodeValue;return""+b}function ca(a,b,c){if(null===b)return!0;try{if(!a.getAttribute)return!1}catch(d){return!1}Oa&&"class"==b&&(b="className");return null==c?!!a.getAttribute(b):a.getAttribute(b,2)==c}function ka(a,b,c,e,f){return(Z?rb:sb).call(null,a,b,d(c)?c:null,d(e)?e:null,f||new D)}function rb(a,b,c,d,e){if(a instanceof fa||8==a.b||c&&null===a.b){var f=b.all;if(!f)return e;a=E(a);
if("*"!=a&&(f=b.getElementsByTagName(a),!f))return e;if(c){for(var h=[],g=0;b=f[g++];)ca(b,c,d)&&h.push(b);f=h}for(g=0;b=f[g++];)"*"==a&&"!"==b.tagName||H(e,b);return e}z(a,b,c,d,e);return e}function sb(a,b,c,d,e){b.getElementsByName&&d&&"name"==c&&!P?(b=b.getElementsByName(d),$(b,function(b){a.a(b)&&H(e,b)})):b.getElementsByClassName&&d&&"class"==c?(b=b.getElementsByClassName(d),$(b,function(b){b.className==d&&a.a(b)&&H(e,b)})):a instanceof Y?z(a,b,c,d,e):b.getElementsByTagName&&(b=b.getElementsByTagName(a.d()),
$(b,function(a){ca(a,c,d)&&H(e,a)}));return e}function tb(a,b,c,d,e){var f;if((a instanceof fa||8==a.b||c&&null===a.b)&&(f=b.childNodes)){var h=E(a);if("*"!=h&&(f=Ta(f,function(a){return a.tagName&&a.tagName.toLowerCase()==h}),!f))return e;c&&(f=Ta(f,function(a){return ca(a,c,d)}));$(f,function(a){"*"==h&&("!"==a.tagName||"*"==h&&1!=a.nodeType)||H(e,a)});return e}return Ua(a,b,c,d,e)}function Ua(a,b,c,d,e){for(b=b.firstChild;b;b=b.nextSibling)ca(b,c,d)&&a.a(b)&&H(e,b);return e}function z(a,b,c,d,
e){for(b=b.firstChild;b;b=b.nextSibling)ca(b,c,d)&&a.a(b)&&H(e,b),z(a,b,c,d,e)}function E(a){if(a instanceof Y){if(8==a.b)return"!";if(null===a.b)return"*"}return a.d()}function D(){this.b=this.a=null;this.i=0}function Va(a){this.d=a;this.a=this.b=null}function I(a,b){if(!a.a)return b;if(!b.a)return a;for(var c=a.a,d=b.a,e=null,f=null,h=0;c&&d;){var f=c.d,g=d.d;f==g||f instanceof C&&g instanceof C&&f.a==g.a?(f=c,c=c.a,d=d.a):0<Qa(c.d,d.d)?(f=d,d=d.a):(f=c,c=c.a);(f.b=e)?e.a=f:a.a=f;e=f;h++}for(f=
c||d;f;)f.b=e,e=e.a=f,h++,f=f.a;a.b=e;a.i=h;return a}function T(a,b){var c=new Va(b);c.a=a.a;a.b?a.a.b=c:a.a=a.b=c;a.a=c;a.i++}function H(a,b){var c=new Va(b);c.b=a.b;a.a?a.b.a=c:a.a=a.b=c;a.b=c;a.i++}function M(a){return(a=a.a)?a.d:null}function W(a){return(a=M(a))?X(a):""}function da(a,b){return new pa(a,!!b)}function pa(a,b){this.d=a;this.b=(this.c=b)?a.b:a.a;this.a=null}function J(a){var b=a.b;if(null==b)return null;var c=a.a=b;a.b=a.c?b.b:b.a;return c.d}function Ca(a){switch(a.nodeType){case 1:return h(Wa,
a);case 9:return Ca(a.documentElement);case 11:case 10:case 6:case 12:return Xa;default:return a.parentNode?Ca(a.parentNode):Xa}}function Xa(){return null}function Wa(a,b){if(a.prefix==b)return a.namespaceURI||"http://www.w3.org/1999/xhtml";var c=a.getAttributeNode("xmlns:"+b);return c&&c.specified?c.value||null:a.parentNode&&9!=a.parentNode.nodeType?Wa(a.parentNode,b):null}function U(a){this.g=a;this.b=this.f=!1;this.d=null}function K(a){return"\n  "+a.toString().split("\n").join("\n  ")}function Ya(a,
b){a.f=b}function Za(a,b){a.b=b}function N(a,b){var c=a.a(b);return c instanceof D?+W(c):+c}function L(a,b){var c=a.a(b);return c instanceof D?W(c):""+c}function ha(a,b){var c=a.a(b);return c instanceof D?!!c.i:!!c}function la(a,b,c){U.call(this,a.g);this.c=a;this.e=b;this.j=c;this.f=b.f||c.f;this.b=b.b||c.b;this.c==ub&&(c.b||c.f||4==c.g||0==c.g||!b.d?b.b||b.f||4==b.g||0==b.g||!c.d||(this.d={name:c.d.name,l:b}):this.d={name:b.d.name,l:c})}function ia(a,b,c,d,e){b=b.a(d);c=c.a(d);var f;if(b instanceof
D&&c instanceof D){e=da(b);for(d=J(e);d;d=J(e))for(b=da(c),f=J(b);f;f=J(b))if(a(X(d),X(f)))return!0;return!1}if(b instanceof D||c instanceof D){b instanceof D?e=b:(e=c,c=b);e=da(e);b=typeof c;for(d=J(e);d;d=J(e)){switch(b){case "number":d=+X(d);break;case "boolean":d=!!X(d);break;case "string":d=X(d);break;default:throw Error("Illegal primitive type for comparison.");}if(a(d,c))return!0}return!1}return e?"boolean"==typeof b||"boolean"==typeof c?a(!!b,!!c):"number"==typeof b||"number"==typeof c?a(+b,
+c):a(b,c):a(+b,+c)}function $a(a,b,c,d){this.a=a;this.p=b;this.g=c;this.k=d}function Q(a,b,c,d){if(Da.hasOwnProperty(a))throw Error("Binary operator already created: "+a);a=new $a(a,b,c,d);return Da[a.toString()]=a}function ra(a,b){if(b.a.length&&4!=a.g)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");U.call(this,a.g);this.c=a;this.e=b;this.f=a.f;this.b=a.b}function sa(a,b){if(b.length<a.o)throw Error("Function "+a.h+" expects at least"+a.o+" arguments, "+b.length+
" given");if(null!==a.n&&b.length>a.n)throw Error("Function "+a.h+" expects at most "+a.n+" arguments, "+b.length+" given");a.s&&$(b,function(b,c){if(4!=b.g)throw Error("Argument "+c+" to function "+a.h+" is not of type Nodeset: "+b);});U.call(this,a.g);this.e=a;this.c=b;Ya(this,a.f||ta(b,function(a){return a.f}));Za(this,a.r&&!b.length||a.q&&!!b.length||ta(b,function(a){return a.b}))}function ab(a,b,c,d,e,f,h,g,l){this.h=a;this.g=b;this.f=c;this.r=d;this.q=e;this.k=f;this.o=h;this.n=void 0!==g?g:
h;this.s=!!l}function G(a,b,c,d,e,f,h,g){if(Ea.hasOwnProperty(a))throw Error("Function already created: "+a+".");Ea[a]=new ab(a,b,c,d,!1,e,f,h,g)}function Y(a,b){this.e=a;this.c=void 0!==b?b:null;this.b=null;switch(a){case "comment":this.b=8;break;case "text":this.b=3;break;case "processing-instruction":this.b=7;break;case "node":break;default:throw Error("Unexpected argument");}}function Fa(a){return"comment"==a||"text"==a||"processing-instruction"==a||"node"==a}function ua(a){U.call(this,3);this.c=
a.substring(1,a.length-1)}function fa(a,b){this.h=a.toLowerCase();this.c=b?b.toLowerCase():"http://www.w3.org/1999/xhtml"}function va(a){U.call(this,1);this.c=a}function wa(a,b){U.call(this,a.g);this.e=a;this.c=b;this.f=a.f;this.b=a.b;if(1==this.c.length){var c=this.c[0];c.m||c.c!=bb||(c=c.j,"*"!=c.d()&&(this.d={name:c.d(),l:null}))}}function ma(){U.call(this,4)}function xa(){U.call(this,4)}function Ga(a){return"/"==a||"//"==a}function ya(a,b){this.a=a;this.b=!!b}function Ha(a,b,c){for(c=c||0;c<a.a.length;c++)for(var d=
a.a[c],e=da(b),f=b.i,h,g=0;h=J(e);g++){var l=a.b?f-g:g+1;h=d.a(new n(h,l,f));if("number"==typeof h)l=l==h;else if("string"==typeof h||"boolean"==typeof h)l=!!h;else if(h instanceof D)l=0<h.i;else throw Error("Predicate.evaluate returned an unexpected type.");if(!l){l=e;h=l.d;var k=l.a;if(!k)throw Error("Next must be called at least once before remove.");var u=k.b,k=k.a;u?u.a=k:h.a=k;k?k.b=u:h.b=u;h.i--;l.a=null}}return b}function ea(a,b,c,d){U.call(this,4);this.c=a;this.j=b;this.e=c||new ya([]);this.m=
!!d;b=this.e;b=0<b.a.length?b.a[0].d:null;a.b&&b&&(a=b.name,a=Z?a.toLowerCase():a,this.d={name:a,l:b.l});a:{a=this.e;for(b=0;b<a.a.length;b++)if(c=a.a[b],c.f||1==c.g||0==c.g){a=!0;break a}a=!1}this.f=a}function cb(a,b,c,d){this.h=a;this.d=b;this.a=c;this.b=d}function R(a,b,c,d){if(Ia.hasOwnProperty(a))throw Error("Axis already created: "+a);b=new cb(a,b,c,!!d);return Ia[a]=b}function za(a){U.call(this,1);this.c=a;this.f=a.f;this.b=a.b}function Aa(a){U.call(this,4);this.c=a;Ya(this,ta(this.c,function(a){return a.f}));
Za(this,ta(this.c,function(a){return a.b}))}function vb(a,b){this.a=a;this.b=b}function Ba(a){for(var b,c=[];;){S(a,"Missing right hand side of binary expression.");b=db(a);var d=r(a.a);if(!d)break;var e=(d=Da[d]||null)&&d.p;if(!e){a.a.a--;break}for(;c.length&&e<=c[c.length-1].p;)b=new la(c.pop(),c.pop(),b);c.push(b,d)}for(;c.length;)b=new la(c.pop(),c.pop(),b);return b}function S(a,b){if(t(a.a))throw Error(b);}function Ja(a,b){var c=r(a.a);if(c!=b)throw Error("Bad token, expected: "+b+" got: "+c);
}function eb(a){a=r(a.a);if(")"!=a)throw Error("Bad token: "+a);}function fb(a){a=r(a.a);if(2>a.length)throw Error("Unclosed literal string");return new ua(a)}function gb(a){var b=r(a.a),c=b.indexOf(":");if(-1==c)return new fa(b);var d=b.substring(0,c);a=a.b(d);if(!a)throw Error("Namespace prefix not declared: "+d);b=b.substr(c+1);return new fa(b,a)}function hb(a){var b,c=[],d;if(Ga(q(a.a))){b=r(a.a);d=q(a.a);if("/"==b&&(t(a.a)||"."!=d&&".."!=d&&"@"!=d&&"*"!=d&&!/(?![0-9])[\w]/.test(d)))return new ma;
d=new ma;S(a,"Missing next location step.");b=Ka(a,b);c.push(b)}else{a:{b=q(a.a);d=b.charAt(0);switch(d){case "$":throw Error("Variable reference not allowed in HTML XPath");case "(":r(a.a);b=Ba(a);S(a,'unclosed "("');Ja(a,")");break;case '"':case "'":b=fb(a);break;default:if(isNaN(+b))if(!Fa(b)&&/(?![0-9])[\w]/.test(d)&&"("==q(a.a,1)){b=r(a.a);b=Ea[b]||null;r(a.a);for(d=[];")"!=q(a.a);){S(a,"Missing function argument list.");d.push(Ba(a));if(","!=q(a.a))break;r(a.a)}S(a,"Unclosed function argument list.");
eb(a);b=new sa(b,d)}else{b=null;break a}else b=new va(+r(a.a))}"["==q(a.a)&&(d=new ya(ib(a)),b=new ra(b,d))}if(b)if(Ga(q(a.a)))d=b;else return b;else b=Ka(a,"/"),d=new xa,c.push(b)}for(;Ga(q(a.a));)b=r(a.a),S(a,"Missing next location step."),b=Ka(a,b),c.push(b);return new wa(d,c)}function Ka(a,b){var c,d,e;if("/"!=b&&"//"!=b)throw Error('Step op should be "/" or "//"');if("."==q(a.a))return d=new ea(wb,new Y("node")),r(a.a),d;if(".."==q(a.a))return d=new ea(xb,new Y("node")),r(a.a),d;var f;if("@"==
q(a.a))f=bb,r(a.a),S(a,"Missing attribute name");else if("::"==q(a.a,1)){if(!/(?![0-9])[\w]/.test(q(a.a).charAt(0)))throw Error("Bad token: "+r(a.a));c=r(a.a);f=Ia[c]||null;if(!f)throw Error("No axis with name: "+c);r(a.a);S(a,"Missing node name")}else f=jb;c=q(a.a);if(/(?![0-9])[\w]/.test(c.charAt(0)))if("("==q(a.a,1)){if(!Fa(c))throw Error("Invalid node type: "+c);c=r(a.a);if(!Fa(c))throw Error("Invalid type name: "+c);Ja(a,"(");S(a,"Bad nodetype");e=q(a.a).charAt(0);var h=null;if('"'==e||"'"==
e)h=fb(a);S(a,"Bad nodetype");eb(a);c=new Y(c,h)}else c=gb(a);else if("*"==c)c=gb(a);else throw Error("Bad token: "+r(a.a));e=new ya(ib(a),f.a);return d||new ea(f,c,e,"//"==b)}function ib(a){for(var b=[];"["==q(a.a);){r(a.a);S(a,"Missing predicate expression.");var c=Ba(a);b.push(c);S(a,"Unclosed predicate expression.");Ja(a,"]")}return b}function db(a){if("-"==q(a.a))return r(a.a),new za(db(a));var b=hb(a);if("|"!=q(a.a))a=b;else{for(b=[b];"|"==r(a.a);)S(a,"Missing next union location path."),b.push(hb(a));
a.a.a--;a=new Aa(b)}return a}function kb(a,d){if(!a.length)throw Error("Empty XPath expression.");var e=s(a);if(t(e))throw Error("Invalid XPath expression.");d?"function"==c(d)||(d=k(d.lookupNamespaceURI,d)):d=b(null);var f=Ba(new vb(e,d));if(!t(e))throw Error("Bad token: "+r(e));this.evaluate=function(a,b){var c=f.a(new n(a));return new V(c,b)}}function V(a,b){if(0==b)if(a instanceof D)b=4;else if("string"==typeof a)b=2;else if("number"==typeof a)b=1;else if("boolean"==typeof a)b=3;else throw Error("Unexpected evaluation result.");
if(2!=b&&1!=b&&3!=b&&!(a instanceof D))throw Error("value could not be converted to the specified type");this.resultType=b;var c;switch(b){case 2:this.stringValue=a instanceof D?W(a):""+a;break;case 1:this.numberValue=a instanceof D?+W(a):+a;break;case 3:this.booleanValue=a instanceof D?0<a.i:!!a;break;case 4:case 5:case 6:case 7:var d=da(a);c=[];for(var e=J(d);e;e=J(d))c.push(e instanceof C?e.a:e);this.snapshotLength=a.i;this.invalidIteratorState=!1;break;case 8:case 9:d=M(a);this.singleNodeValue=
d instanceof C?d.a:d;break;default:throw Error("Unknown XPathResult type.");}var f=0;this.iterateNext=function(){if(4!=b&&5!=b)throw Error("iterateNext called with wrong result type");return f>=c.length?null:c[f++]};this.snapshotItem=function(a){if(6!=b&&7!=b)throw Error("snapshotItem called with wrong result type");return a>=c.length||0>a?null:c[a]}}function yb(a){this.lookupNamespaceURI=Ca(a)}function lb(a){a=a||ba;var b=a.document;b.evaluate||(a.XPathResult=V,b.evaluate=function(a,b,c,d){return(new kb(a,
c)).evaluate(b,d)},b.createExpression=function(a,b){return new kb(a,b)},b.createNSResolver=function(a){return new yb(a)})}var ba=this;Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return k.apply(null,c)}return k(this,a)};var O=Array.prototype,zb=O.indexOf?function(a,b,c){return O.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(d(a))return d(b)&&1==b.length?a.indexOf(b,
c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},$=O.forEach?function(a,b,c){O.forEach.call(a,b,c)}:function(a,b,c){for(var e=a.length,f=d(a)?a.split(""):a,h=0;h<e;h++)h in f&&b.call(c,f[h],h,a)},Ta=O.filter?function(a,b,c){return O.filter.call(a,b,c)}:function(a,b,c){for(var e=a.length,f=[],h=0,g=d(a)?a.split(""):a,l=0;l<e;l++)if(l in g){var n=g[l];b.call(c,n,l,a)&&(f[h++]=n)}return f},ja=O.reduce?function(a,b,c,d){d&&(b=k(b,d));return O.reduce.call(a,b,c)}:function(a,b,c,d){var e=
c;$(a,function(c,f){e=b.call(d,e,c,f,a)});return e},ta=O.some?function(a,b,c){return O.some.call(a,b,c)}:function(a,b,c){for(var e=a.length,f=d(a)?a.split(""):a,h=0;h<e;h++)if(h in f&&b.call(c,f[h],h,a))return!0;return!1},ga;a:{var mb=ba.navigator;if(mb){var nb=mb.userAgent;if(nb){ga=nb;break a}}ga=""}var Ab=w("Opera")||w("OPR"),P=w("Trident")||w("MSIE"),La=w("Gecko")&&-1==ga.toLowerCase().indexOf("webkit")&&!(w("Trident")||w("MSIE")),Bb=-1!=ga.toLowerCase().indexOf("webkit"),Na=function(){var a=
"",b;if(Ab&&ba.opera)return a=ba.opera.version,"function"==c(a)?a():a;La?b=/rv\:([^\);]+)(\)|;)/:P?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:Bb&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(ga))?a[1]:"");return P&&(b=v(),b>parseFloat(a))?String(b):a}(),Ma={},ob=ba.document,qa=ob&&P?v()||("CSS1Compat"==ob.compatMode?parseInt(Na,10):5):void 0,Z=P&&!(P&&9<=qa),Oa=P&&!(P&&8<=qa),pb=RegExp("\\$?(?:(?![0-9-])[\\w-]+:)?(?![0-9-])[\\w-]+|\\/\\/|\\.\\.|::|\\d+(?:\\.\\d*)?|\\.\\d+|\"[^\"]*\"|'[^']*'|[!<>]=|\\s+|.","g"),
qb=/^\s/;!La&&!P||P&&P&&9<=qa||La&&y("1.9.1");P&&y("9");l(la);la.prototype.a=function(a){return this.c.k(this.e,this.j,a)};la.prototype.toString=function(){var a="Binary Expression: "+this.c,a=a+K(this.e);return a+K(this.j)};$a.prototype.toString=a("a");var Da={};Q("div",6,1,function(a,b,c){return N(a,c)/N(b,c)});Q("mod",6,1,function(a,b,c){return N(a,c)%N(b,c)});Q("*",6,1,function(a,b,c){return N(a,c)*N(b,c)});Q("+",5,1,function(a,b,c){return N(a,c)+N(b,c)});Q("-",5,1,function(a,b,c){return N(a,
c)-N(b,c)});Q("<",4,2,function(a,b,c){return ia(function(a,b){return a<b},a,b,c)});Q(">",4,2,function(a,b,c){return ia(function(a,b){return a>b},a,b,c)});Q("<=",4,2,function(a,b,c){return ia(function(a,b){return a<=b},a,b,c)});Q(">=",4,2,function(a,b,c){return ia(function(a,b){return a>=b},a,b,c)});var ub=Q("=",3,2,function(a,b,c){return ia(function(a,b){return a==b},a,b,c,!0)});Q("!=",3,2,function(a,b,c){return ia(function(a,b){return a!=b},a,b,c,!0)});Q("and",2,2,function(a,b,c){return ha(a,c)&&
ha(b,c)});Q("or",1,2,function(a,b,c){return ha(a,c)||ha(b,c)});l(ra);ra.prototype.a=function(a){a=this.c.a(a);return Ha(this.e,a)};ra.prototype.toString=function(){return"Filter:"+K(this.c)+K(this.e)};l(sa);sa.prototype.a=function(a){return this.e.k.apply(null,m(a,this.c))};sa.prototype.toString=function(){var a="Function: "+this.e;if(this.c.length)var b=ja(this.c,function(a,b){return a+K(b)},"Arguments:"),a=a+K(b);return a};ab.prototype.toString=a("h");var Ea={};G("boolean",2,!1,!1,function(a,b){return ha(b,
a)},1);G("ceiling",1,!1,!1,function(a,b){return Math.ceil(N(b,a))},1);G("concat",3,!1,!1,function(a,b){var c=p(arguments,1);return ja(c,function(b,c){return b+L(c,a)},"")},2,null);G("contains",2,!1,!1,function(a,b,c){b=L(b,a);a=L(c,a);return-1!=b.indexOf(a)},2);G("count",1,!1,!1,function(a,b){return b.a(a).i},1,1,!0);G("false",2,!1,!1,b(!1),0);G("floor",1,!1,!1,function(a,b){return Math.floor(N(b,a))},1);G("id",4,!1,!1,function(a,b){function c(a){if(Z){var b=e.all[a];if(b){if(b.nodeType&&a==b.id)return b;
if(b.length)return A(b,function(b){return a==b.id})}return null}return e.getElementById(a)}var d=a.a,e=9==d.nodeType?d:d.ownerDocument,d=L(b,a).split(/\s+/),f=[];$(d,function(a){a=c(a);!a||0<=zb(f,a)||f.push(a)});f.sort(Qa);var h=new D;$(f,function(a){H(h,a)});return h},1);G("lang",2,!1,!1,b(!1),1);G("last",1,!0,!1,function(a){if(1!=arguments.length)throw Error("Function last expects ()");return a.d},0);G("local-name",3,!1,!0,function(a,b){var c=b?M(b.a(a)):a.a;return c?c.localName||c.nodeName.toLowerCase():
""},0,1,!0);G("name",3,!1,!0,function(a,b){var c=b?M(b.a(a)):a.a;return c?c.nodeName.toLowerCase():""},0,1,!0);G("namespace-uri",3,!0,!1,b(""),0,1,!0);G("normalize-space",3,!1,!0,function(a,b){return(b?L(b,a):X(a.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},0,1);G("not",2,!1,!1,function(a,b){return!ha(b,a)},1);G("number",1,!1,!0,function(a,b){return b?N(b,a):+X(a.a)},0,1);G("position",1,!0,!1,function(a){return a.b},0);G("round",1,!1,!1,function(a,b){return Math.round(N(b,a))},1);G("starts-with",
2,!1,!1,function(a,b,c){b=L(b,a);a=L(c,a);return 0==b.lastIndexOf(a,0)},2);G("string",3,!1,!0,function(a,b){return b?L(b,a):X(a.a)},0,1);G("string-length",1,!1,!0,function(a,b){return(b?L(b,a):X(a.a)).length},0,1);G("substring",3,!1,!1,function(a,b,c,d){c=N(c,a);if(isNaN(c)||Infinity==c||-Infinity==c)return"";d=d?N(d,a):Infinity;if(isNaN(d)||-Infinity===d)return"";c=Math.round(c)-1;var e=Math.max(c,0);a=L(b,a);if(Infinity==d)return a.substring(e);b=Math.round(d);return a.substring(e,c+b)},2,3);G("substring-after",
3,!1,!1,function(a,b,c){b=L(b,a);a=L(c,a);c=b.indexOf(a);return-1==c?"":b.substring(c+a.length)},2);G("substring-before",3,!1,!1,function(a,b,c){b=L(b,a);a=L(c,a);a=b.indexOf(a);return-1==a?"":b.substring(0,a)},2);G("sum",1,!1,!1,function(a,b){for(var c=da(b.a(a)),d=0,e=J(c);e;e=J(c))d+=+X(e);return d},1,1,!0);G("translate",3,!1,!1,function(a,b,c,d){b=L(b,a);c=L(c,a);var e=L(d,a);a=[];for(d=0;d<c.length;d++){var f=c.charAt(d);f in a||(a[f]=e.charAt(d))}c="";for(d=0;d<b.length;d++)f=b.charAt(d),c+=
f in a?a[f]:f;return c},3);G("true",2,!1,!1,b(!0),0);Y.prototype.a=function(a){return null===this.b||this.b==a.nodeType};Y.prototype.d=a("e");Y.prototype.toString=function(){var a="Kind Test: "+this.e;null===this.c||(a+=K(this.c));return a};l(ua);ua.prototype.a=a("c");ua.prototype.toString=function(){return"Literal: "+this.c};fa.prototype.a=function(a){var b=a.nodeType;return 1!=b&&2!=b?!1:"*"!=this.h&&this.h!=a.nodeName.toLowerCase()?!1:this.c==(a.namespaceURI?a.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")};
fa.prototype.d=a("h");fa.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.h};l(va);va.prototype.a=a("c");va.prototype.toString=function(){return"Number: "+this.c};l(wa);l(ma);ma.prototype.a=function(a){var b=new D;a=a.a;9==a.nodeType?H(b,a):H(b,a.ownerDocument);return b};ma.prototype.toString=b("Root Helper Expression");l(xa);xa.prototype.a=function(a){var b=new D;H(b,a.a);return b};xa.prototype.toString=b("Context Helper Expression");wa.prototype.a=
function(a){var b=this.e.a(a);if(!(b instanceof D))throw Error("Filter expression must evaluate to nodeset.");a=this.c;for(var c=0,d=a.length;c<d&&b.i;c++){var e=a[c],f=da(b,e.c.a),h;if(e.f||e.c!=Cb)if(e.f||e.c!=Db)for(h=J(f),b=e.a(new n(h));null!=(h=J(f));)h=e.a(new n(h)),b=I(b,h);else h=J(f),b=e.a(new n(h));else{for(h=J(f);(b=J(f))&&(!h.contains||h.contains(b))&&b.compareDocumentPosition(h)&8;h=b);b=e.a(new n(h))}}return b};wa.prototype.toString=function(){var a;a="Path Expression:"+K(this.e);if(this.c.length){var b=
ja(this.c,function(a,b){return a+K(b)},"Steps:");a+=K(b)}return a};ya.prototype.toString=function(){return ja(this.a,function(a,b){return a+K(b)},"Predicates:")};l(ea);ea.prototype.a=function(a){var b=a.a,c=null,c=this.d,d=null,e=null,f=0;c&&(d=c.name,e=c.l?L(c.l,a):null,f=1);if(this.m)if(this.f||this.c!=jb)if(a=da((new ea(Eb,new Y("node"))).a(a)),b=J(a))for(c=this.k(b,d,e,f);null!=(b=J(a));)c=I(c,this.k(b,d,e,f));else c=new D;else c=ka(this.j,b,d,e),c=Ha(this.e,c,f);else c=this.k(a.a,d,e,f);return c};
ea.prototype.k=function(a,b,c,d){a=this.c.d(this.j,a,b,c);return Ha(this.e,a,d)};ea.prototype.toString=function(){var a;a="Step:"+K("Operator: "+(this.m?"//":"/"));this.c.h&&(a+=K("Axis: "+this.c));a+=K(this.j);if(this.e.a.length){var b=ja(this.e.a,function(a,b){return a+K(b)},"Predicates:");a+=K(b)}return a};cb.prototype.toString=a("h");var Ia={};R("ancestor",function(a,b){for(var c=new D,d=b;d=d.parentNode;)a.a(d)&&T(c,d);return c},!0);R("ancestor-or-self",function(a,b){var c=new D,d=b;do a.a(d)&&
T(c,d);while(d=d.parentNode);return c},!0);var bb=R("attribute",function(a,b){var c=new D,d=a.d();if("style"==d&&b.style&&Z)return H(c,new C(b.style,b,"style",b.style.cssText)),c;var e=b.attributes;if(e)if(a instanceof Y&&null===a.b||"*"==d)for(var d=0,f;f=e[d];d++)Z?f.nodeValue&&H(c,F(b,f)):H(c,f);else(f=e.getNamedItem(d))&&(Z?f.nodeValue&&H(c,F(b,f)):H(c,f));return c},!1),jb=R("child",function(a,b,c,e,f){return(Z?tb:Ua).call(null,a,b,d(c)?c:null,d(e)?e:null,f||new D)},!1,!0);R("descendant",ka,!1,
!0);var Eb=R("descendant-or-self",function(a,b,c,d){var e=new D;ca(b,c,d)&&a.a(b)&&H(e,b);return ka(a,b,c,d,e)},!1,!0),Cb=R("following",function(a,b,c,d){var e=new D;do for(var f=b;f=f.nextSibling;)ca(f,c,d)&&a.a(f)&&H(e,f),e=ka(a,f,c,d,e);while(b=b.parentNode);return e},!1,!0);R("following-sibling",function(a,b){for(var c=new D,d=b;d=d.nextSibling;)a.a(d)&&H(c,d);return c},!1);R("namespace",function(){return new D},!1);var xb=R("parent",function(a,b){var c=new D;if(9==b.nodeType)return c;if(2==b.nodeType)return H(c,
b.ownerElement),c;var d=b.parentNode;a.a(d)&&H(c,d);return c},!1),Db=R("preceding",function(a,b,c,d){var e=new D,f=[];do f.unshift(b);while(b=b.parentNode);for(var h=1,g=f.length;h<g;h++){var l=[];for(b=f[h];b=b.previousSibling;)l.unshift(b);for(var n=0,k=l.length;n<k;n++)b=l[n],ca(b,c,d)&&a.a(b)&&H(e,b),e=ka(a,b,c,d,e)}return e},!0,!0);R("preceding-sibling",function(a,b){for(var c=new D,d=b;d=d.previousSibling;)a.a(d)&&T(c,d);return c},!0);var wb=R("self",function(a,b){var c=new D;a.a(b)&&H(c,b);
return c},!1);l(za);za.prototype.a=function(a){return-N(this.c,a)};za.prototype.toString=function(){return"Unary Expression: -"+K(this.c)};l(Aa);Aa.prototype.a=function(a){var b=new D;$(this.c,function(c){c=c.a(a);if(!(c instanceof D))throw Error("Path expression must evaluate to NodeSet.");b=I(b,c)});return b};Aa.prototype.toString=function(){return ja(this.c,function(a,b){return a+K(b)},"Union Expression:")};V.ANY_TYPE=0;V.NUMBER_TYPE=1;V.STRING_TYPE=2;V.BOOLEAN_TYPE=3;V.UNORDERED_NODE_ITERATOR_TYPE=
4;V.ORDERED_NODE_ITERATOR_TYPE=5;V.UNORDERED_NODE_SNAPSHOT_TYPE=6;V.ORDERED_NODE_SNAPSHOT_TYPE=7;V.ANY_UNORDERED_NODE_TYPE=8;V.FIRST_ORDERED_NODE_TYPE=9;var na=["wgxpath","install"],aa=ba;na[0]in aa||!aa.execScript||aa.execScript("var "+na[0]);for(var oa;na.length&&(oa=na.shift());)na.length||void 0===lb?aa[oa]?aa=aa[oa]:aa=aa[oa]={}:aa[oa]=lb})();a.tools.environment=a.tools.environment||function(){var e=null,b="",c="",d=null,f=0,g=window.performance&&window.performance.timing&&window.performance.navigation,
k=window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("resource")instanceof Array;return{generateEventHash:function(b,c){f+=1;var d=a.tools.hashing.md5(""+b+c),e=a.tools.hashing.md5(""+f+a.tools.getRandomInt(1,999999)+Date.now()+a.tools.getRandomInt(1,999999));return d+e},generatePageEventHash:function(){0>=c.length&&(c=a.tools.hashing.md5(a.tools.environment.getPageUrl()+a.tools.getRandomInt(1,999999))+a.tools.hashing.md5(""+a.tools.getRandomInt(1,999999)+
Date.now()));return c},getAnalyticsConsumerData:function(){return{"browser.ts":a.tools.environment.getCurrentTimestamp(),"browser.device":a.tools.environment.getDeviceType(),distinct_id:"",run_id:a.tools.environment.generatePageEventHash(),user_agent:a.tools.environment.getUserAgent(),"library.version":a.Config.VERSION}},getAnalyticsPageData:function(b){var c=E.length,d=0,e=a.GrandCentralStationLocator.getGrandCentralStation();if(0<c)for(var f=0;f<c;f+=1)E[f].isHealthy()&&(d+=1);b=b||a.SnifferControllerLocator.getSnifferController();
var f=b.getPageProperties(),c=f.publisherID,f=f.siteID,g=m.environment.getContainerTypesCount(),k=m.environment.getPageUrl(),w=a.SnifferUtilities.processPageURL(k),v={};if(0<E.length){var y=E[0].getPlacement().getOptions();y.categories&&(y=a.tools.matching.getMostRelevantCategory(y.categories,"iabtier1"))&&(v=y)}return m.mergeDefaults({"page.uri":w,"page.original_uri":k,"page.publisher_id":c,"page.album_id":f,"page.containers":d,"page.unfiltered_containers":b.getUnfilteredContainers(),"page.valid_containers":e.getValidContainers(),
"page.valid_inventory":e.getValidInventory(),environment:a.tools.environment.getContext(),"library.version":a.Config.VERSION,"page.container_types.total":g.all,"page.container_types.in-content":g["in-content"],"page.container_types.in-line":g["in-line"],"page.container_types.in-screen":g["in-screen"],"page.container_types.interstitial":g.interstitial,"page.container_types.in-scroll":g["in-scroll"],"page.category":v,"page.meta.keywords":a.tools.dom.getMetaKeywords()},m.environment.getAnalyticsConsumerData())},
getContainerTypesCount:function(){var b,c=E.length;b={all:0,"in-content":0,"in-line":0,"in-screen":0,interstitial:0,"in-scroll":0};if(0<c)try{for(var d=0;d<c;d+=1)if(E[d].isHealthy()){var e=E[d].getPlacement().getAnchor();b.all+=1;e instanceof a.PlacementBoxAnchor&&(b["in-content"]+=1);e instanceof a.PlacementStubAnchor&&(b["in-line"]+=1);e instanceof a.PlacementLaunchpadAnchor&&(b["in-screen"]+=1);e instanceof a.PlacementInterstitialAnchor&&(b.interstitial+=1);e instanceof a.PlacementInScrollAnchor&&
(b["in-scroll"]+=1)}}catch(f){a.tools.debug.warn("Failed counting container types",f)}return b},getContext:function(){return e},getCurrentTimestamp:function(){return Number((new Date).getTime())},getDataEndpoint:function(){return b},getDeviceType:function(){var b=a.tools.environment.device.isTablet();return a.tools.environment.device.isMobile()||b?b?"tablet":"mobile":"desktop"},getDeviceNumericalType:function(){switch(a.tools.environment.getDeviceType()){case "mobile":return a.Config.SETTINGS_DEVICE_TARGET.MOBILE;
case "tablet":return a.Config.SETTINGS_DEVICE_TARGET.TABLET;case "desktop":return a.Config.SETTINGS_DEVICE_TARGET.DESKTOP;default:return a.Config.SETTINGS_DEVICE_TARGET.ANY}},getImageFullURL:function(a){var b=document.createElement("div"),c;try{c=a.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")}catch(d){c=a}b.innerHTML='<a href="'+c+'">x</a>';return b.firstChild.href},getIOWAdServerURL:function(){return a.Config.IOW_AD_SERVER.PRODUCTION},getPageDomain:function(){return 0<
window.location.hostname.length?window.location.hostname:window.location.host},getPageUrl:function(){return document.URL+""},getPlacementIndex:function(b){var c=b.getOptions().kioskID,c=a.PlacementContainerLocator.getPlacementContainerByID(c);return b instanceof a.Placement?E.indexOf(c):!1},getPublisherID:function(){return d},getUserAgent:function(){return navigator.userAgent},getZoneDataURL:function(){var b=a.tools.environment.getDataEndpoint();return b&&0<b.length?"//"+b+a.Config.ZONE_DATA_URL_SUFFIX:
""},getZoneReportURL:function(){var b=a.tools.environment.getDataEndpoint();return b&&0<b.length?"//"+b+a.Config.ZONE_REPORT_URL_SUFFIX:""},navigationTimingSupported:function(){return g},resourcePerfSupported:function(){return k},setContext:function(a){e=a+""},setDataEndpoint:function(a){b=a},setPublisherID:function(a){d=a}}}();a.QuantcastManager=a.QuantcastManager||a.KioskedObject.extend(function(){return{construct:function(e){this.$super();e=e||{};this._options=a.tools.mergeDefaults({name:"QuantcastManager",
publisherID:"",siteID:""},e);this.addStatus("setupQuantcast")},boot:function(){if(this.hasNot("setupQuantcast")){m.scope.enforceCaller(this,a.QuantcastManager,"Expected caller to be instance of QuantcastManager");var e=this.getOptions();this.set("setupQuantcast");try{this._initiateQuantcastScript(),this._pushEvent(e.publisherID,e.siteID),a.tools.debug.log("/QuantcastManager/","Quantcast booted publisher "+e.publisherID+" and site "+e.siteID)}catch(b){a.tools.debug.error("/QuantcastManager/","Failed setting up Quantcast: "+
b.message)}}},getOptions:function(){return this._options},_initiateQuantcastScript:function(a){a=a||function(a){var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)};window._qevents=window._qevents||[];var b=document.createElement("script");b.src=("https:"===document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js";b.async=!0;b.type="text/javascript";a(b);return b},_pushEvent:function(a,b){window._qevents.push({qacct:"p-ynz_3dxL9ZLvx",labels:"publisher."+
a+",site."+b})}}}());a.tools.compatibility=a.tools.compatibility||function(){window.wgxpath?window.wgxpath.install():console.warn("(Kiosked) Unable to install wgxPath!");(function(){for(var a=0,b=["webkit","moz"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,
c){var g=(new Date).getTime(),k=Math.max(0,16-(g-a)),h=window.setTimeout(function(){b(g+k)},k);a=g+k;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})})();return{bindFunction:function(a,b){if("function"!==typeof a)throw new TypeError("bindFunction - what is trying to be bound is not callable");var c=Array.prototype.slice.call(arguments,2),d=function(){},f=function(){return a.apply(this instanceof d&&b?this:b,c.concat(Array.prototype.slice.call(arguments)))};
d.prototype=a.prototype;f.prototype=new d;return f},checkDocumentQuerySelectorAll:function(){if(0>document.querySelectorAll.toString().indexOf("[native code]"))throw new a.Exceptions.NotSupportedException("Non-native document.querySelectorAll method detected, unable to perform any DOM-querying.");},enforcePrototypeMinimumVersion:function(e,b){var c=m.compatibility.getPrototypeVersion();if(c){var d=c.split("."),f=parseInt(d[0],10),d=parseInt(d[1],10);if(f>=e&&d>=b)m.debug.log("/Compatibility/","Prototype detected: "+
c);else throw new a.Exceptions.NotSupportedException("Prototype "+c+" detected. Versions below 1.7 are not supported.");}},getPrototypeVersion:function(){return window.Prototype&&window.Prototype.Version?window.Prototype.Version:!1},isLocalStorageNameSupported:function(){var a=window.localStorage;try{return a.setItem("test","1"),a.removeItem("test"),!0}catch(b){return!1}}}}();a.tools.debug=a.tools.debug||function(){function a(b,d,e){var g=m.environment&&"production"===m.environment.getContext();if((!g||
(void 0===e?0:e))&&window.console&&window.console[b]){try{console[b].apply(console,d)}catch(k){console[b](d.join(" "))}return!0}return!1}function b(a,b){return m.formatting&&m.formatting.zeroPad?m.formatting.zeroPad(a,b):a}return{error:function(){var b=m.debug.getLogPrefix();if(0<arguments.length){var d=Array.prototype.slice.call(arguments,0);d.unshift(b);return a.call(this,"error",d,!0)}return!1},getLogPrefix:function(){var a=new Date;return"[Kiosked] ("+b(a.getHours(),2)+":"+b(a.getMinutes(),2)+
":"+b(a.getSeconds(),2)+")"},log:function(){var b=m.debug.getLogPrefix();if(0<arguments.length){var d=Array.prototype.slice.call(arguments,0);d.unshift(b);return a.call(this,"log",d)}return!1},warn:function(){var b=m.debug.getLogPrefix();if(0<arguments.length){var d=Array.prototype.slice.call(arguments,0);d.unshift(b);return a.call(this,"warn",d)}return!1}}}();a.styles=a.styles||{AdContainerElement:{"default":{position:"absolute",overflow:"hidden",pointerEvents:"all"}},BannerCloseImage:{"default":{__stylesheet:"images.BannerCloseImage"},
mobile:{__stylesheet:"images.BannerCloseImageMobile"}},BannerCloseImageInside:{"default":{__stylesheet:"images.BannerCloseImageInside"},mobile:{__stylesheet:"images.BannerCloseImageInsideMobile"}},BannerDisclaimerContainer:{"default":{position:"absolute",overflow:"hidden",zIndex:2,height:"18px",right:"0px",minWidth:"18px",marginBottom:"0px",opacity:"0"},mobile:{__include:"default",height:"20px",marginTop:"0px"},hd:{__include:"mobile"}},BannerDisclaimerContainerInside:{"default":{position:"absolute",
overflow:"hidden",zIndex:11,height:"18px",left:"0px",minWidth:"18px",opacity:"0"},mobile:{__include:"default",height:"20px",marginTop:"0px"},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonContainer:{"default":{position:"absolute",right:"0px",top:"0px",width:"18px",height:"18px",cursor:"pointer",zIndex:2},mobile:{__include:"default",width:"20px",height:"20px"},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonContainerLeft:{"default":{position:"absolute",left:"0px",top:"0px",width:"18px",height:"18px",
cursor:"pointer",zIndex:2},mobile:{__include:"default",width:"20px",height:"20px"},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonIcon:{"default":{__include:"BannerCloseImage.default.normal",width:"100%",height:"100%"},mobile:{__include:["default","BannerCloseImage.mobile.normal"]},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonIconInside:{"default":{__include:["BannerDisclaimerCloseButtonIcon.default.normal","BannerCloseImageInside.default.normal"]},mobile:{__include:["default","BannerCloseImageInside.mobile.normal"]},
hd:{__include:"mobile"}},BannerDisclaimerAdsLogo:{"default":{__include:"BannerAdsLogo.default.normal",position:"relative","float":"left",width:"100%",height:"100%",backgroundSize:"auto 100%"},mobile:{__include:["default","BannerAdsLogo.mobile.normal"],backgroundSize:"85px 20px"},hd:{__include:["mobile","BannerAdsLogo.hd.normal"]}},BannerDisclaimerAdsLogoExternal:{"default":{__include:["BannerDisclaimerAdsLogo.default.normal","BannerAdsLogoGrey.default.normal"]},mobile:{__include:["default","BannerAdsLogoGrey.mobile.normal"]},
hd:{__include:["default","BannerAdsLogoGrey.hd.normal"]}},BannerDisclaimerAdsLogoInside:{"default":{__include:["BannerAdsLogoBackground.default.normal"],position:"relative","float":"left",width:"100%",height:"100%"},mobile:{__include:["default","BannerAdsLogoBackground.mobile.normal"]},hd:{__include:["default","BannerAdsLogoBackground.hd.normal"]}},BannerDisclaimerAdsLogoFloor:{"default":{__include:["BannerDisclaimerAdsLogo.default.normal","BannerAdsLogoGrey.default.normal"]},mobile:{__include:["BannerDisclaimerAdsLogo.mobile.normal",
"BannerAdsLogo.mobile.normal"]},hd:{__include:["BannerDisclaimerAdsLogo.hd.normal","BannerAdsLogoGrey.hd.normal"]}},BannerDisclaimerAdsLogoContainer:{"default":{position:"relative",height:"18px",width:"77px",marginRight:"18px"},mobile:{__include:"default",height:"20px",width:"85px",marginRight:"20px"},hd:{__include:"mobile"}},BannerDisclaimerAdsLogoContainerLeft:{"default":{normal:{position:"relative",height:"18px",width:"18px",marginLeft:"19px"},hover:{position:"relative",height:"18px",width:"77px",
marginLeft:"19px"}},mobile:{__include:"default",height:"20px",width:"20px",marginLeft:"21px"},hd:{__include:"mobile"}},BannerAdsLogo:{"default":{__stylesheet:"images.BannerAdsLogoDefault"},mobile:{__stylesheet:"images.BannerAdsLogoMobile"},hd:{__include:"mobile"}},BannerAdsLogoGrey:{"default":{__stylesheet:"images.BannerAdsLogoGreyDefault"},mobile:{__stylesheet:"images.BannerAdsLogoGreyMobile"},hd:{__include:"mobile"}},BannerAdsLogoBackground:{"default":{__stylesheet:"images.BannerAdsLogoBackgroundDefault"},
mobile:{__stylesheet:"images.BannerAdsLogoBackgroundMobile"},hd:{__include:"mobile"}},BannerFooterContainer:{"default":{position:"fixed",left:"0px",right:"0px",bottom:"-500px",backgroundColor:"rgba(0,0,0,0.1)"},mobile:{__include:"default",backgroundColor:"initial"}},InterstitialLightBox:{"default":{position:"fixed",overflow:"auto",overflowX:"hidden",background:"rgba(0, 0, 0, 0.70)",top:0,left:0,right:0,bottom:0,border:0,opacity:0,display:"block",zIndex:"72101021"},mobile:{__include:"default"},hd:{__include:"default"}},
InterstitialContentBox:{"default":{position:"absolute",top:"50%",left:"50%",opacity:0,"webkit-transform-origin":"0% 100%"},mobile:{__include:"default"},hd:{__include:"mobile"}},InterstitialContainerCloseButton:{"default":{position:"absolute",right:"18px",top:"18px",width:"36px",height:"36px",cursor:"pointer",zIndex:"72101021",display:"none"},mobile:{__include:"default",width:"50px",height:"50px",top:"0px",right:"0px"},hd:{__include:"mobile"}},InterstitialCloseButtonIcon:{"default":{__stylesheet:"images.BannerCloseImageInterstitial",
width:"100%",height:"100%",backgroundSize:"100%"},mobile:{__include:"default",__stylesheet:"images.BannerCloseImageInterstitialMobile"},hd:{__include:"mobile"}},InScrollWrapper:{"default":{position:"fixed",backgroundColor:"rgba(0, 0, 0, 0)",top:"100vh",height:"100vh",left:0,right:0,display:"none",zIndex:"72101021",pointerEvents:"none"},mobile:{__include:"default"},hd:{__include:"default"}},InScrollContentWrapper:{"default":{position:"absolute",top:"100%",left:0,right:0,height:"100vh"}},InScrollContentBox:{"default":{position:"absolute",
top:"50%",transform:"translateY(-50%)","-webkit-transform":"translateY(-50%)",left:0,right:0,padding:"20px"}},InScrollAdContainerElement:{"default":{position:"relative",overflow:"hidden",pointerEvents:"all",boxShadow:"0px 0px 50px 15px rgba(0, 0, 0, 0.6)",margin:"0 auto",borderRadius:"0.5px"}},InScrollIFrameClickHandler:{"default":{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0,0,0,0)",zIndex:20}},InScrollVisibilityFrame:{"default":{position:"absolute",top:"20px",bottom:"20px",
left:"20px",right:"20px"}},InScrollSwipeGuide:{"default":{position:"absolute",top:"100%",left:"50%",width:"50px",height:"26px",marginLeft:"-25px",opacity:0,transition:"opacity .4s","-webkit-transition":"opacity .4s",__stylesheet:"images.InScrollSwipeGuideMobile"}},InScrollTrickery:{"default":{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)","-webkit-transform":"translate(-50%,-50%)",overflow:"scroll","-webkit-overflow-scrolling":"touch"}},ExpandableBannerDisclaimerContainer:{"default":{position:"absolute",
top:"-20px",right:"0px",overflow:"hidden",zIndex:2,height:"20px",minWidth:"20px",marginTop:"0px"},mobile:{__include:"default",top:"-20px",height:"20px",marginTop:"0px"},hd:{__include:"mobile"}}};a.tools.environment.device=a.tools.environment.device||function(){var e=null,b=null,c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,
d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,
f=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i;return{getOperatingSystem:function(){var b=a.tools.environment.device.getPlatform(),c=/(u|li)n[ui]x|X11/i;if(b&&0<b.length){if(/^Windows|Win[a-z0-9]{2}($|[^a-z0-9])|OS\/2/i.test(b))return a.Config.OPERATING_SYSTEM.WINDOWS;
if(/Macintosh|Mac(Intel|PPC|68K)/i.test(b))return a.Config.OPERATING_SYSTEM.MAC_OS}else{b=a.tools.environment.device.getUserAgent();if(/Windows|Win(\d{2}|NT|CE| 9x)($|[^a-z0-9])/i.test(b))return a.Config.OPERATING_SYSTEM.WINDOWS;if(/MacPPC|MacIntel|Mac_PowerPC|Macintosh|Mac OS X/i.test(b))return a.Config.OPERATING_SYSTEM.MAC_OS}return c.test(b)?a.Config.OPERATING_SYSTEM.LINUX:a.Config.OPERATING_SYSTEM.UNKNOWN},getPlatform:function(){return window.navigator.platform||""},getUserAgent:function(){return""+
(navigator.userAgent||navigator.vendor||window.opera)},isMobile:function(b){if(null===e||b)b=a.tools.environment.device.getUserAgent(),e=c.test(b)||d.test(b.substr(0,4));return e},isTablet:function(c){if(null===b||c)c=a.tools.environment.device.getUserAgent(),b=f.test(c)||d.test(c.substr(0,4));return b&&!a.tools.environment.device.isMobile()}}}();I("sniffing/SnifferController",["core/KioskedObject","factories/PlacementContainerFactory"],W(function(e){function b(b){var c=this,d=b.context.getSettings().clone(),
f=this.getOptions(),g=a.AnchorTypeResolver.resolveAnchorTypeForSettings(d),k=a.AnchorTypeResolver.convertAnchorTypeToPlacementType(g),k=a.WaterfallResolver.prepareWaterfallResolver(this.getAdZoneTemplates()).selectByLocation(f.countryCode||a.Config.COUNTRY_CODE_UNKNOWN).selectByDevice().selectByOperatingSystem().selectByURI().selectByPlacementType(k).getWaterfalls();b={anchorType:g,categories:b.categories,kioskedZoneID:b.hash,settings:d,settingsMeta:f.settingsData.meta,targetElement:b.element,publisherID:this.getPageProperties().publisherID,
siteID:this.getPageProperties().siteID,waterfall:0<k.length?k[0]:null};return e.createPlacementContainerWithOptions(b).then(function(b){c._unfilteredContainers+=1;a.createWithMedia(b);a.tools.debug.log("/SnifferController/","Created placement")},function(b){a.tools.debug.warn("/SnifferController/","Placement was not created: "+b)})}function c(a,b){var c=b.getInt("ui.sniff.maxBanners",50),d=this.getActivatedElements().length,e=c-d,d=a.length;if(0>=e){for(c=0;c<d;c+=1)this.setReservedElementByZoneID(a[c].hash,
!0);return[]}var f=function(a){return a.width&&a.height?a.width*a.height:parseFloat(a.element.offsetWidth)*parseFloat(a.element.offsetHeight)};a=a.sort(function(a,b){var c=f(a),d=f(b);return c<d?1:d<c?-1:0});a=this.getReservedElements().concat(a);d=a.length;if(d>e)for(c=a.splice(e,d),d-=e,e=0;e<d;e+=1)this.setReservedElementByZoneID(c[e].hash,!0);return a}function d(){var b=this;if(this.isNot("running"))return this.set("idle"),Promise.resolve();this.set("sniffing");var e=Promise.resolve([]),f=this.getSettings();
this.getRootSearchNode().forEachNode(function(c){e=e.then(function(d){return new Promise(function(e){var f=[].concat(d),g=new a.Sniffing.SnifferConveyor(b,c);g.retrieveItems().then(function(a){f=f.concat(a);e(f)});g.destroy()})})});return e.then(function(d){d=c.call(b,d,f);var e=d.length;d.forEach(function(a){b.setReservedElementByZoneID(a.hash,!1);b.setActivatedElementByZoneID(a.hash,!0)});b.getElementQueue().addItems(d);b.hasNot("timedFirstElementsCreation")&&(b.set("timedFirstElementsCreation"),
a.GrandCentralStationLocator.getGrandCentralStation().dispatch("timingEvent",{name:"snifferFirstBatch",properties:{item_count:e}}))}).then(function(){b.unset("sniffing");setTimeout(function(){d.call(b)},a.Config.SNIFFER_INTERVAL)})}function f(){var b=this,c=a.GrandCentralStationLocator.getGrandCentralStation();c.addListener("mediaPageImpression",function(){var c=b.getQuantcastManager();a.tools.isset(c)&&c.boot()});c.addListener("bannerProviderNotInitiated",function(b){a.SnifferControllerLocator.getSnifferController().setActivatedElementByZoneID(b.placementID,
!1)});c.addListener("maxPluginsExceeded",function(b){a.SnifferControllerLocator.getSnifferController().setActivatedElementByZoneID(b.placementID,!1)});c.addListener("BannerDestroyedForSizeRestriction",function(b){a.SnifferControllerLocator.getSnifferController().setActivatedElementByZoneID(b.placementID,!1)});c.addListener("incorrectPluginName",function(b){a.SnifferControllerLocator.getSnifferController().setActivatedElementByZoneID(b.placementID,!1)})}function g(){var b=a.GrandCentralStationLocator.getGrandCentralStation(),
c=this.getSettings();b.prepareTimingController().then(function(d){if(a.LocalStorage.storageAvailable()&&!0===c.getBool("ui.analytics.sendTimingData",!1)){var e=a.LocalStorage.get("kskdTimingEvents"),f=a.LocalStorage.get("kskdTimingEventsVersion");if("string"===typeof e){var g=a.tools.environment.getAnalyticsConsumerData();g["library.send_version"]=a.Config.VERSION;g["library.version"]="string"===typeof f?f:"pre-v3";g.records=JSON.parse(e);d.registerResources();g.resources=d.getResources();g[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]=
"pageTimings";b.dispatch(a.Config.ANALYTICS_EVENT_NAME,g);a.LocalStorage.remove("kskdTimingEvents");a.LocalStorage.remove("kskdTimingEventsVersion")}M("locators/UnloadManagerLocator",function(c){c=c.getUnloadManager();c.registerShutdownHandler(function(){b.dispatch("timingEvent",{name:"unload"});d.registerInitialsEvents();var c=d.getTimingEvents();a.LocalStorage.set("kskdTimingEvents",JSON.stringify(c));a.LocalStorage.set("kskdTimingEventsVersion",a.Config.VERSION)},c.PRIORITY_HIGH)})}})}var k=[{name:"BannerSlot"}];
return{construct:function(b,c){this.$super();b=b||{};var d=b.settingsData||{};c=c||new a.Sniffing.SearchContextsAdapter(d);this._options=m.mergeDefaults({elementHashAttribute:"kioskedhash_"+a.tools.environment.getContext(),countryCode:"",settingsData:{},zoneDataEndpoint:a.tools.environment.getZoneDataURL(),zoneReportEndpoint:a.tools.environment.getZoneReportURL()},b);this._markedElements=[];this._pageType=null;this._rootContext=c.getRootContext();this._settings=c.getBaseSettingsContext().getSettings();
this._adZoneTemplates=[];this._pageProperties={publisherID:b.hasOwnProperty("publisherID")?parseInt(b.publisherID,10):null,siteID:b.hasOwnProperty("siteID")?parseInt(b.siteID,10):null};this.addStatusSet(["idle","running","stopping","disabled"],"idle");this.addStatus("sniffing");if(!a.tools.isset(this._pageProperties.publisherID)||0>this._pageProperties.publisherID)throw Error("Invalid/unset publisher ID: "+this._pageProperties.publisherID);if(!a.tools.isset(this._pageProperties.siteID)||0>this._pageProperties.siteID)throw Error("Invalid/unset site ID: "+
this._pageProperties.siteID);d=this.getOptions();this._rootSearchNode=(new a.Sniffing.SearchNodeFactory(this._rootContext,{hashAttribute:d.elementHashAttribute})).getRootNode();var e=this.getSettings(),d=a.InstanceControlManager.getSharedInstance(),k=e.getInt("ui.media.maxPlugins.BannerSlot",0),x=e.getInt("ui.media.maxPlugins.ExternalBannerSlot",0),e=e.getInt("ui.media.maxPlugins.VastPreroll",0);d.applyLimit(a.InstanceControlManager.InstanceType.Anchor,a.Config.PLACEMENT_ANCHOR_TYPE.BOX,k);d.applyLimit(a.InstanceControlManager.InstanceType.Anchor,
a.Config.PLACEMENT_ANCHOR_TYPE.STUB,x);d.applyLimit(a.InstanceControlManager.InstanceType.AdFill,"AdFillVast",e);c.destroy();this._elementQueue=new a.Sniffing.ElementQueue(this,{publisherID:this._pageProperties.publisherID,siteID:this._pageProperties.siteID,zoneDataURL:this._options.zoneDataEndpoint,zoneReportURL:this._options.zoneReportEndpoint,cachedZones:this.getOptions().cachedZoneResponse&&this.getOptions().cachedZoneResponse.hasOwnProperty("results")?this.getOptions().cachedZoneResponse.results:
[]});a.SnifferUtilities.processDOMModifications(this);a.styling.placeHeaderStylesheet(a.stylesheets.images,"images");this._quantcastManager=null;!0===this.getSettings().getBool("ui.sniff.quantcastEnabled",!1)&&(this._quantcastManager=new a.QuantcastManager({publisherID:this.getPageProperties().publisherID,siteID:this.getPageProperties().siteID}));this._unfilteredContainers=this._unfilteredContainers||0;f.call(this);g.call(this);!0!==a.Sniffing.preFlightCheck(this.getSettings(),this.getOptions().countryCode)&&
(a.tools.debug.warn("/SnifferController/","Sniffer disabled due to pre-flight check failure"),this.set("disabled"))},destroy:function(){var a=this,b=this.bindMember("$super");return this.stop().then(function(){a.getElementQueue().destroy();a.getRootSearchNode().destroy();a.unMarkAllElements();b()})},addMarkedItem:function(a){this._markedElements.push(a)},deactivateItemByZoneID:function(a){this.setActivatedElementByZoneID(a,!1);this.setReservedElementByZoneID(a,!1)},getActivatedElements:function(){for(var a=
[],b=this.getMarkedElements(),c=b.length,d=0;d<c;d+=1)b[d].activated&&!0===b[d].activated&&a.push(b[d]);return a},getAdZoneTemplates:function(){return this._adZoneTemplates},getCategories:function(b){var c,d,e,f={};if(!a.tools.isset(b))return f;for(var g=0;g<b.length;g+=1){c=b[g].type;d=m.mergeDefaults({},b[g].result);d.items||(d.items=[]);if(d)if(d.state&&"error"===d.state)continue;else if(!d.state||"ok"!==d.state)continue;if(m.isset(d))if("focus100k"===c){c=d.items;d=Math.min(3,c.length);var k=
[];for(e=0;e<d;e+=1)k.push(c[e]);f.focus100k=k}else if("iabtier2"===c){c=d.items;d=Math.min(2,c.length);k=[];for(e=0;e<d;e+=1)k.push(c[e]);f.iabtier2=k}else if("iabtier1"===c){c=d.items;d=Math.min(2,c.length);k=[];for(e=0;e<d;e+=1)k.push(c[e]);f.iabtier1=k}}return f},getUnfilteredContainers:function(){return this._unfilteredContainers},getElementQueue:function(){return this._elementQueue},getItemByZoneID:function(a){for(var b=this.getMarkedElements(),c=b.length,d=0;d<c;d+=1)if(b[d].hash===a)return b[d];
return null},getMarkedElements:function(){return this._markedElements},getOptions:function(){return this._options},getPageProperties:function(){return this._pageProperties},getPageType:function(){return!1===this.getSettings().getBool("ui.sniff.disableIndexPageAnalysis",!1)?this._pageType=this._pageType||a.SnifferUtilities.getPageType():"article"},getQuantcastManager:function(){return this._quantcastManager},getReservedElements:function(){for(var a=[],b=this.getMarkedElements(),c=b.length,d=0;d<c;d+=
1)b[d].reserved&&!0===b[d].reserved&&a.push(b[d]);return a},getRootSearchNode:function(){return this._rootSearchNode},getSettings:function(){return this._settings},getSettingsMetaAbTesting:function(){var a=-1,b=0,c=this.getOptions();c.hasOwnProperty("settingsMeta")&&(a=c.settingsMeta.hasOwnProperty("appliedAbTestStatus")?c.settingsMeta.appliedAbTestStatus:a,b=c.settingsMeta.hasOwnProperty("appliedAbTest")?c.settingsMeta.appliedAbTest:b);return{status:a,test:b}},getUniqueNodeIndex:function(b){var c=
[],d=this.getMarkedElements(),e=d.length;if(0<e){if(b instanceof HTMLImageElement)for(var f=0;f<e;f+=1){var g;g=d[f].element;g=b===g?!0:b.src&&g.src&&b.src===g.src;g&&c.push(d[f].element)}else for(f=a.SnifferUtilities.elementAsString(b),g=0;g<e;g+=1)f===a.SnifferUtilities.elementAsString(d[g].element)&&c.push(d[g].element);return c.push(b)-1}return 0},isLargeEnough:function(a){var b=a.context.getSettings();return a.width>=b.getInt("ui.sniff.minMediaWidth",300)&&a.height>=b.getInt("ui.sniff.minMediaHeight",
250)},isPermittedBySettings:function(b){var c=!0,d=b.element;if((b=b.context.getSettings().get("ui.sniff.disableKiosksInElements",!1))&&(b=a.tools.dom.query(b))&&0<b.length)for(var e=0;e<b.length;e+=1){var f=b[e];if(d===f||a.tools.dom.isDescendant(f,d)){c=!1;break}}return c},loadItemWithData:function(c,d){if(a.tools.isEmpty(d))a.tools.debug.log("/SnifferController/","Unable to load item, no categories data (possibly blacklisted): "+c);else{for(var e=!1,f=this.getActivatedElements(),g=f.length,m=0;m<
g;m+=1)if(f[m].hash===c){e=f[m];break}if(!1!==e){e.categories=this.getCategories(d);e.plugins=this.processPluginsForSettings(k,e.context.getSettings());try{b.call(this,e)}catch(p){throw a.tools.debug.warn("/SnifferController/","Failed creating placement"),p;}}else a.tools.debug.error("/SnifferController/","Unable to find media item for zone:",c)}},markElementAsProcessed:function(b){if(!(b instanceof HTMLElement))throw Error("Invalid element: not a HTMLElement");var c=this.getUniqueNodeIndex(b),c=
a.SnifferUtilities.createElementHash(b,c,this._pageProperties.publisherID);b.setAttribute(this.getOptions().elementHashAttribute,c);return c},processPluginsForSettings:function(b,c){return a.tools.processPluginsArray(a.tools.deepClone(b),c)},setActivatedElementByZoneID:function(a,b){this.getItemByZoneID(a).activated=b},setAdZoneTemplates:function(a){this._adZoneTemplates=a},setReservedElementByZoneID:function(a,b){this.getItemByZoneID(a).reserved=b},start:function(){return this.is("idle")?(this.set("running"),
d.call(this),!0):!1},stop:function(){var a=this;return new Promise(function(b){if(a.is("running")){a.set("stopping");var c=setInterval(function(){a.is("idle")&&(clearInterval(c),b(!0))},80)}else b(!1)})},unMarkAllElements:function(){for(var b=this.getOptions().elementHashAttribute,c=a.tools.dom.query("["+b+"]"),d=c.length,e=0;e<d;e+=1)c[e].removeAttribute(b);return d},unsniffItemWithZoneID:function(b){var c=this.getItemByZoneID(b),d=this._markedElements.indexOf(c),e=this.getOptions().elementHashAttribute;
if(a.tools.isset(c)&&0<=d)this._markedElements.splice(d,1),c.element.removeAttribute(e);else throw Error("Unable to un-sniff item: doesn't exist ("+b+")");},wasSelectedAsCustom:function(b){return b.selectionMode===a.Config.ELEMENT_SELECTION_MODE.CUSTOM}}}));a.AdComponentAbstract=a.AdComponentAbstract||a.KioskedObject.extend(function(){return{construct:function(){this.$super();this.set("healthy")},destroy:function(){this.unset("healthy");this.$super()},isHealthy:function(){return this.is("healthy")}}}());
(function(){var e=a.tools.compatibility.isLocalStorageNameSupported();a.LocalStorage={get:function(a){return this.storageAvailable()?window.localStorage.getItem(a)||null:null},set:function(a,c){return this.storageAvailable()?(window.localStorage.setItem(a,c),!0):!1},storageAvailable:function(){return e},remove:function(a){return this.storageAvailable()?(window.localStorage.removeItem(a),!0):!1}}})();a.AdFillAbstract=a.AdFillAbstract||a.AdComponentAbstract.extend(function(){return{construct:function(e,
b){this.$super();b=b||{};this._options=a.tools.mergeDefaults({kioskID:"",name:"AdFillAbstract",proportions:{width:0,height:0},orientation:"horizontal",refreshEnabled:!0,scaleEnabled:!0,viewabilityEnabled:!1,zIndex:a.Config.BANNER_AD_Z_INDEX},b);if(0>=this._options.kioskID.length)throw Error("Kiosk ID was empty");this._adElement=null;this._anchor=e;this.addStatusSet(["idle","loading","loaded"],"idle");this.addStatusSet(["shown","hidden","animating"],"hidden");this._lastPlacementSize={width:0,height:0}},
createNewAdElement:function(e,b){return a.AdElementFactory.createAdElementWithWaterfall(this.getAnchor().getAdContainerElement(),e,this.getOptions().kioskID,b,this.getAnchor())},destroy:function(){this._adElement&&(this._adElement.destroy(),this._adElement=null);this.$super()},empty:function(){var e=this.getAdElement(),b=e.getScalingElement();b&&a.tools.dom.destroy(b);e.destroy()},getAdElement:function(){return this._adElement},getAnchor:function(){return this._anchor},getOptions:function(){return this._options},
getPlacementSize:function(){return this._lastPlacementSize},setPlacementSize:function(a){this._lastPlacementSize.width=a.width;this._lastPlacementSize.height=a.height;this.updateLayout()},setProportions:function(a){this.getOptions().proportions=a},setup:function(a){this.set("loading");return new Promise(function(b){M("locators/IOWManagerLocator",function(c){a.containsNetwork("iow")?c.getIOWManager().prepareLibrary().then(b):b()})})},updateLayout:function(){},waitForLoad:function(){var a=this;return new Promise(function(b,
c){var d=setInterval(function(){a?a.is("loaded")&&(clearInterval(d),b()):(clearInterval(d),c())},100)})}}}());a.KioskedAnalytics=a.KioskedAnalytics||a.KioskedObject.extend(function(){function e(){return"production"===a.tools.environment.getContext()}function b(){return"staging"===a.tools.environment.getContext()}return{construct:function(){this.$super();this._eventsBuffer=[];this.addStatus("sendingInstantly");this.setFlushTimer();var a=this;M("locators/UnloadManagerLocator",function(b){b=b.getUnloadManager();
b.registerShutdownHandler(function(){a.flushSendBuffer();a.set("sendingInstantly")},b.PRIORITY_HIGH)})},destroy:function(){this._flushTimer&&clearInterval(this._flushTimer);this.$super()},flushSendBuffer:function(){var a=this.getEventsBuffer();if(0<a.length&&(e()||b())){for(var d,f={};d=a.shift();){f.hasOwnProperty(d.destination)||(f[d.destination]=[]);var g=this.prepareEventItem(d);this.sampleRateCancelsEvent(g["cntr.type"],g._type)?0===f[d.destination].length&&delete f[d.destination]:f[d.destination].push(g)}for(var k in f)f.hasOwnProperty(k)&&
m.communication.sendRequest({destination:k,method:"POST",errorCallback:function(){throw Error("(Kiosked) Failed sending analytics");},data:{json:JSON.stringify(f[k])}});this._eventsBuffer=[]}},getEventNameProperty:function(){return a.Config.ANALYTICS_EVENT_NAME_PROPERTY},getEventsBuffer:function(){return this._eventsBuffer},getRandomNumber:function(){return a.Config.SAMPLE_RATE_RANDOM_CURRENT},getSampleRate:function(b,d){return"normal"===b?a.Config.SAMPLE_RATE_0_5:"containerImpression"===d?a.Config.SAMPLE_RATE_CONTAINER_IMP:
"containerOpportunity"===d?a.Config.SAMPLE_RATE_CONTAINER_OPP:"pageImpression"===d?a.Config.SAMPLE_RATE_PAGE_IMP:"pageTimings"===d?a.Config.SAMPLE_RATE_PAGE_TIMINGS:0<=["waterfallTrickle","waterfallEnd","waterfallRender"].indexOf(d)?a.Config.SAMPLE_RATE_WATERFALL:"oldCache"===d?a.Config.SAMPLE_RATE_PAGE_IMP:a.Config.SAMPLE_RATE_SEND_ALL},prepareEventItem:function(b){var d={};b=b.properties;d._type=b[this.getEventNameProperty()];for(var e in b)b.hasOwnProperty(e)&&("_"===e[0]&&"_type"!==e?a.tools.debug.log("/"+
a.Config.ANALYTICS_MODULE_LOG_NAME+"/","Bad parameter name '"+e+"'"):d[e]=b[e]);if(a.tools.isEmpty(d._type))throw new a.Exceptions.InvalidPropertiesException("Analytics packet doesn't contain a '_type' property",this,d);d.sample_rate=this.getSampleRate(d["cntr.type"],d._type);return d},processEvent:function(c,d){m.scope.enforceCaller(this,a.KioskedAnalytics,"Expected caller to be of type ITGS.KioskedAnalytics");var f=m.deepClone(c);f._event&&(f.event=c._event,delete f._event);f.event_id=d;if(f.hasOwnProperty(this.getEventNameProperty())&&
"string"===typeof f[this.getEventNameProperty()]){var g=f[this.getEventNameProperty()];m.scope.enforceCaller(this,a.KioskedAnalytics,"Expected caller to be of type ITGS.KioskedAnalytics");var k=a.tools.pageProtocol;e()?this._eventsBuffer.push({event:g,properties:f,destination:k+a.Config.ANALYTICS_TARGET_DOMAIN_PRODUCTION}):b()&&this._eventsBuffer.push({event:g,properties:f,destination:k+a.Config.ANALYTICS_TARGET_DOMAIN_STAGING});this.is("sendingInstantly")&&this.flushSendBuffer();e()||b()?a.tools.debug.log("/"+
a.Config.ANALYTICS_MODULE_LOG_NAME+"/ "+g,f):(f.sample_rate=this.getSampleRate(f["cntr.type"],f[this.getEventNameProperty()]),a.tools.debug.log("/"+a.Config.ANALYTICS_MODULE_LOG_NAME+"/ "+g,f,"(log only)"))}else throw new a.Exceptions.BadOptionException("Invalid event specification for KioskedAnalytics",this,f);},sampleRateCancelsEvent:function(b,d){var e=this.getSampleRate(b,d);return 0<=a.Config.ANALYTICS_SAMPLERATE_IMMUNE_EVENTS.indexOf(d)?!1:this.getRandomNumber()>=e},setFlushTimer:function(a){m.isset(a)||
(a=500);var b=this;this._flushTimer&&clearInterval(this._flushTimer);this._flushTimer=setInterval(function(){b.flushSendBuffer()},a)}}}());a.StylesController=a.StylesController||a.KioskedObject.extend(function(){return{construct:function(){this.$super();this._lastDeviceType=null;m.debug.log("/StylesController/","Styling initiated with device type: "+this.getDeviceType());m.scope.enforceCaller(this,a.StylesController,"Caller not instance of ITGS.StylesController");this._lastRendered=this._lastSelectedStyleset=
null},applyToElement:function(e,b){b=b||"normal";if(!this._lastSelectedStyleset)throw new a.Exceptions.InvalidStateException("stylesheet selected","no stylesheet selected",this);this._lastRendered||(this._lastRendered=this.fulfillItem(this._lastSelectedStyleset));var c=this.getDeviceType(),d=null;try{d=this._lastRendered[c][b]}catch(f){m.debug.error("/StylesController/","Failed getting normal styles for device:",c,this._lastRendered)}if(!d)throw new a.Exceptions.UnexpectedException("Expected styles for device type: "+
c+", but received: "+typeof d,this,d);this.styleElement(e,d);return this},clear:function(){this._lastRendered=this._lastSelectedStyleset=null},destroy:function(){this.clear()},fulfillItem:function(e){var b={"default":{normal:{},hover:{}},mobile:{normal:{},hover:{}},hd:{normal:{},hover:{}}},c;for(c in e)if(e.hasOwnProperty(c))if(e[c].hasOwnProperty("normal"))for(var d in e[c])e[c].hasOwnProperty(d)&&(b[c][d]=m.deepClone(e[c][d]));else b[c].normal=m.deepClone(e[c]);c=!0;for(d=0;c;){c=!1;for(var f in b)if(b.hasOwnProperty(f))for(var g in b[f])if(b[f].hasOwnProperty(g)&&
b[f][g].hasOwnProperty("__include")){var k=m.deepClone(b[f][g].__include),h={},k=m.array.isArray(k)?k:[k];k.reverse();var l=k.length;if(0<l)for(l-=1;0<=l;l-=1){var n=k[l];0>n.indexOf(".")&&(n+=".normal");var u=n.split("."),A,x,p={};if(3===u.length){A=u[1];x=u[2];try{var w=this.getStylesItem(u[0]),p=this.fulfillItem(w)[A][x]}catch(v){m.debug.log("/StylesController/","Failed processing style lookup (global) for __include:",n)}}else{A=u[0];x=u[1];try{p=b[A][x]}catch(y){m.debug.log("/StylesController/",
"Failed processing __include: ",e)}}p.hasOwnProperty("__include")?c=!0:(h=m.mergeDefaults(h,m.deepClone(p)),k.splice(l,1))}0>=k.length&&(b[f][g]=m.mergeDefaults(h,b[f][g]),delete b[f][g].__include)}d+=1;if(10<d)throw new a.Exceptions.LoopException("Failed to fulfill all __include directives for styles",this);}"default"!==this.getDeviceType()&&(0>=m.getObjectLength(b["default"].normal)||(0===m.getObjectLength(b.mobile.normal)&&(b.mobile.normal=m.deepClone(b["default"].normal)),0===m.getObjectLength(b.hd.normal)&&
(b.hd.normal=m.deepClone(b["default"].normal))));return b},getDeviceType:function(){if(this._lastDeviceType)return this._lastDeviceType;this._lastDeviceType="default";a.tools.environment.device.isMobile()&&(this._lastDeviceType="mobile");return this._lastDeviceType},getRenderedStyle:function(a,b){b=b||"normal";var c=this.getDeviceType();this.selectStyle(a);this._lastRendered||(this._lastRendered=this.fulfillItem(this._lastSelectedStyleset));return this._lastRendered&&this._lastRendered[c]&&this._lastRendered[c][b]?
this._lastRendered[c][b]:null},getStylesItem:function(a){var b=this.getStylesRoot();return b.hasOwnProperty(a)?b[a]:null},getStylesRoot:function(){return a.styles},placeHeaderStylesheet:function(a,b){var c="",d=document.head||document.getElementsByTagName("head")[0];b=b&&0<b.length?b:"";for(var f in a)if(a.hasOwnProperty(f)){var g=a[f],k=g.properties||{};if(g=g.classToHeader){var c=c+(g+" {\n"),h;for(h in k)k.hasOwnProperty(h)&&(c+="\t"+h+": "+k[h]+";\n");c+="}\n"}}f=document.createElement("style");
f.setAttribute("type","text/css");f.setAttribute("kiosked","stylesheet:"+b);f.appendChild(document.createTextNode(c));d.appendChild(f)},placeHeaderStylesheetWithNamespace:function(a,b){for(var c="body {ID}.kskdCls, body {ID}.kskdCls .kskdDiv, body {ID}.kskdCls .kskdDiv img, body {ID}.kskdCls .kskdDiv div, body {ID}.kskdCls .kskdDiv span, .kskdDiv.kskdFixedBannerContainer,body {ID}.kskdCls:hover, body {ID}.kskdCls *:hover,.kskdDiv.kskdFixedBannerContainer .kskdDiv:hover,body {ID}.kskdCls.kskdDiv .kskdDiv {display: block;float: none;opacity: 1;position: static;overflow: visible;width:auto;left:auto;right:auto;letter-spacing: normal;white-space: normal;top:auto;bottom:auto;height:auto;min-height:0;max-height:none;min-width:0;max-width:none;clear: none;margin: 0px;padding: 0px;border: 0px;font-size: 12px;line-height: 1.2;text-align: left;text-transform: none;color: #6d6c71;font-family: Arial, Helvetica, sans-serif;font-style: normal;vertical-align: baseline;background: transparent;box-sizing: content-box;-moz-box-sizing: content-box;-webkit-box-sizing: content-box;filter: none;} body {ID}.kskdCls.kskdDiv .kskdDiv a *:not(.kskdDiv) {display: none !important;} @media print {   .kskdCls, .kskdCls * {       display: none !important;   }}".replace(/\{ID}/g,
"#kskd"+b),d=document.head||document.getElementsByTagName("head")[0],f=d.getElementsByTagName("style"),g=f.length,k=!1,h=0;h<g;h+=1)f[h].getAttribute("kiosked")===a&&(k=!0);return k?!1:(f=document.createElement("style"),f.setAttribute("type","text/css"),f.setAttribute("kiosked",a),f.styleSheet?f.styleSheet.cssText=c:f.appendChild(document.createTextNode(c)),d.appendChild(f),!0)},selectStyle:function(e){if(!m.isString(e)||0>=e.length)throw new a.Exceptions.BadOptionException("Expected styleset to be a string",
this,e);this.clear();this._lastSelectedStyleset=this.getStylesItem(e);return this},styleElement:function(e,b){if(!0!==e instanceof HTMLElement)throw new a.Exceptions.InvalidTypeException("HTMLElement",typeof e,this);for(var c in b)if(b.hasOwnProperty(c)&&"__"!==c.substr(0,2))try{e.style[c]=b[c]}catch(d){m.debug.error("/StylesController/","Failed applying style '"+c+"' to element",e,d)}if(b.hasOwnProperty("__stylesheet")){c=a.tools.array.isArray(b.__stylesheet)?b.__stylesheet:[b.__stylesheet];for(var f=
c.length,g=0;g<f;g+=1){for(var k=c[g].split("."),h=a.stylesheets;0<k.length;)h=h[k.shift()]||{};if(h.hasOwnProperty("classToElement"))try{e.className=e.className+(0<e.className.length?" ":"")+h.classToElement}catch(l){m.debug.error("/StylesController/","Failed applying classname '"+h.classToElement)}}}}}}());a.styling=a.styling||new a.StylesController;a.SnifferUtilities=a.SnifferUtilities||function(){var e=["style","kioskedhash_development","kioskedhash_staging","kioskedhash_production"];return{createElementHash:function(b,
c,d){m.isset(c)||(c=0);var f=m.hash(a.SnifferUtilities.processPageURL(a.tools.environment.getPageUrl()).toLowerCase()),g="",g=b instanceof HTMLImageElement?a.SnifferUtilities.processImageURL(a.tools.dom.getImageSource(b)):a.SnifferUtilities.elementAsString(b,e),g=g+c.toString(),g=m.hash(g.toLowerCase());return d+"_"+f+"_"+g},checkFreqMin:function(b,c){if(0<c){var d=a.LocalStorage.get(b)||!1,e=a.tools.environment.getCurrentTimestamp();if(!1!==d)return e-d>6E4*c?(a.LocalStorage.set(b,e),!0):!1;a.LocalStorage.set(b,
0)}return!1},checkInterstitialFreqMin:function(a){return this.checkFreqMin("kskdInterstitialFreqMin",a)},checkInScrollFreqMin:function(a){return this.checkFreqMin("kskdInScrollFreqMin",a)},checkFloorBannerFreqMin:function(a){return this.checkFreqMin("kskdFloorBannerFreqMin",a)},resetFreqMin:function(b){a.LocalStorage.set(b,0)},elementAsString:function(b,c){if(!0!==b instanceof HTMLElement)throw new a.Exceptions.InvalidTypeException("HTMLElement",typeof b,this);c=c||e;var d=b.tagName.toLowerCase(),
f=b.attributes,g=f.length,k={},h=[],l;for(l=0;l<g;l+=1){var n=f[l].name;0<=c.indexOf(n)||h.push(n)}h.sort();f=h.length;for(l=0;l<f;l+=1)k[h[l]]=b.getAttribute(h[l]);return d+=" "+JSON.stringify(k)},elementHashIsValid:function(a){var c=/^[0-9]{1,6}_[A-Za-z0-9]{8}_[A-Za-z0-9]{8}$/;return m.isString(a)&&c.test(a)},getMaximumItemsPerRound:function(){return a.tools.isBrowser.internetExplorer11()?a.Config.SNIFFER_MAX_ELEMENTS_PER_CYCLE_STEADY:a.Config.SNIFFER_MAX_ELEMENTS_PER_CYCLE},getPageType:function(){for(var a=
0,c=0,d=0,e=document.getElementsByTagName("img"),g=0,k=0,d=0;d<e.length;d+=1)250<e[d].offsetHeight&&300<e[d].offsetWidth&&(g+=1);for(d=0;d<e.length;d+=1)100<e[d].offsetHeight&&180<e[d].offsetWidth&&(k+=1);3>g&&(a+=10);20<k&&(c+=20);3<document.getElementsByTagName("h1").length&&(c+=20);3<document.getElementsByTagName("h2").length&&(c+=10);50<document.getElementsByTagName("h3").length&&(c+=30);return c>a?"index":"article"},getSnifferItemSkeleton:function(){return{categories:null,context:null,element:null,
hash:"",node:null,plugins:[]}},highlightAnalyzedElement:function(a,c,d){if(d&&(c=c.toLowerCase(),a instanceof HTMLElement))switch(c){case "target":a.style.border="solid 8px #00FF00";break;case "title":a.style.backgroundColor="#0000FF";a.style.color="#FFF";break;case "content":a.style.backgroundColor="#FF0000"}},processDOMModifications:function(a){a._bodyHTMLCollection=null;var c=a.getSettings();if(c){var d=[],e=!1,g=c.getInt("ui.media.Banner.interstitialFreqMin",0),g=this.checkInterstitialFreqMin(g),
k=c.getInt("ui.media.Banner.inScrollFreqMin",0),k=this.checkInScrollFreqMin(k),h=!1,l=c.getBool("ui.media.Banner.showFloorBanner",!1),c=c.getInt("ui.media.Banner.floorBannerFreqMin",0),n=this.checkFloorBannerFreqMin(c);g&&(e=!0,d.push("kskdInterstitial"));"undefined"!==typeof window.ITGSInScrollForce&&!0===window.ITGSInScrollForce&&(h=!0);k&&!1===e||!0===h?(e=!0,d.push("kskdInScroll")):k&&e&&this.resetFreqMin("kskdInScrollFreqMin");l&&!1===e?(0<c&&n||0===c)&&d.push("kskdFooter"):l&&e&&n&&this.resetFreqMin("kskdFloorBannerFreqMin");
if(0<d.length){var u=5E3,e=function(){var c=!1;try{for(var e=0,f=d.length;e<f;e=1)a._bodyHTMLCollection=document.createElement("div"),document.body.appendChild(a._bodyHTMLCollection),a._bodyHTMLCollection.innerHTML+='<div style="width: 5px; height: 5px" id='+d[e]+"></div>"}catch(g){c=!0}if(!1===c)clearInterval(m);else if(u-=100,0>=u)throw clearInterval(m),Error("Sniffer DOM modification never succeeded");},m=setInterval(e,100);e()}}},processImageURL:function(a){var c=m.overrideCall("SnifferUtilities.processImageURL");
return c?c(a):a},processPageURL:function(a){var c=m.overrideCall("SnifferUtilities.processPageURL");return c?c(a):a.replace(/#.*$/,"")}}}();a.DisplayComponent=a.DisplayComponent||a.KioskedObject.extend(function(){return{construct:function(){this.$super();this._container=null;this.addStatus("built");this.build()},build:function(){this.is("built")||(this._container=m.create("div"),this.set("built"))},destroy:function(){this.unset("built");m.dom.destroy(this._container);this._container=null;this.$super()},
getContainer:function(){return this._container}}}());a.EventDispatcher=a.EventDispatcher||a.AdComponentAbstract.extend(function(){function e(b,c){m.scope.enforceCaller(this,a.EventDispatcher,"Caller not instance of EventDispatcher");this._domEventsSet.hasOwnProperty(b)||(this._domEventsSet[b]=[]);this._domEventsSet[b].push(c)}function b(b,c){m.scope.enforceCaller(this,a.EventDispatcher,"Caller not instance of EventDispatcher");return this._domEventsSet.hasOwnProperty(b)?-1!==this._domEventsSet[b].indexOf(c):
!1}function c(b){m.scope.enforceCaller(this,a.EventDispatcher,"Caller not instance of EventDispatcher");var c=this;b=document;c.listen(b,b.webkitCancelFullScreen?"webkitfullscreenchange":b.msExitFullscreen?"MSFullscreenChange":b.mozCancelFullScreen?"mozfullscreenchange":"fullscreenchange",function(a){a.fullscreenTarget=d.call(c);c.dispatch("onfullscreenchange",a)})}function d(){var a;a=document;a=a.ownerDocument?a.ownerDocument:a;if(!(a.exitFullscreen||a.webkitExitFullscreen||a.webkitCancelFullScreen||
a.msExitFullscreen||a.mozCancelFullScreen))return null;var b=!!a.fullscreenElement||!!a.msFullscreenElement||!!a.webkitIsFullScreen||!!a.mozFullScreen;return b?a.fullscreenElement||a.webkitFullscreenElement||a.webkitCurrentFullScreenElement||a.msFullscreenElement||a.mozFullScreenElement||b:b}return{construct:function(){this._domEventsSet={};var b=["webkit","moz","o","ms","khtml"];a.supportsFullScreen=!1;for(var c=0,d=b.length;c<d;c+=1)if(a.brwsrprefix=b[c],"undefined"!==typeof document[a.brwsrprefix+
"CancelFullScreen"]){a.supportsFullScreen=!0;break}this._callbacks={};this.$super()},addListener:function(d,g,k){if(this.destroying&&!0===this.destroying)return a.tools.debug.warn("/EventDispatcher/","Tried adding listeners during destruction",d),null;var h=this,l;l=k?k:h.getContainer();var n=!1;"ONFULLSCREENCHANGE"===d.toUpperCase()?c.call(h,g,k):(d in document.documentElement||d in window)&&!b.call(this,d,l)&&("onresize"!==d?(n=function(a){!a.srcElement||"target"in a||(a.target=a.srcElement);h.dispatch(d,
{event:a,relatedElement:l})},h.listen(l,d,n)):n=window[d]=function(a){h.dispatch(d,{event:a,relatedElement:l})},e.call(this,d,l));this._callbacks[d]||(this._callbacks[d]=[]);var u={callback:g,element:l};!1!==n&&(u.eventFunction=n);this._callbacks[d].push(u);return{listener:d,element:k,callback:g}},listen:function(a,b,c){a.attachEvent?a.attachEvent(b,c):a.addEventListener&&("on"===b.substring(0,2)&&(b=b.substring(2)),a.addEventListener(b,c,!1))},dispatch:function(b,c,d){var e;a.tools.isset(d)||(d=
this instanceof a.GrandCentralStation?this.getEventHash():a.tools.getRandomInt(1,999999));if(this._callbacks&&this._callbacks.hasOwnProperty(b))for(e=this._callbacks[b],b=0;b<e.length;b+=1)if(!c||!c.hasOwnProperty("relatedElement")||c.relatedElement===e[b].element){var l=c;c&&c.hasOwnProperty("event")&&(l=c.event);e[b].callback(l,d)}},destroy:function(){this.destroying=!0;for(var a in this._callbacks)if(this._callbacks.hasOwnProperty(a)&&0<this._callbacks[a].length)for(var b=0;b<this._callbacks[a].length&&
!this.removeListener(a,this._callbacks[a][b].callback,this._callbacks[a][b].element);b+=1);this._callbacks=null;delete this._callbacks},getContainer:function(){return!1},removeListener:function(c,d,e){var h=!1;if("string"===typeof c&&"function"===typeof d){var l=!1;if(e&&e instanceof HTMLElement&&b.call(this,c,e))a:{m.scope.enforceCaller(this,a.EventDispatcher,"Caller not instance of EventDispatcher");if(b.call(this,c,e)&&(l=this._domEventsSet[c].indexOf(e),this._domEventsSet[c].splice(l,1),0>=this._domEventsSet[c].length)){delete this._domEventsSet[c];
l=!0;break a}l=!1}for(var n in this._callbacks)if(this._callbacks.hasOwnProperty(n)&&n===c){var u=this._callbacks[n],A=u.length;if(0<A){for(var x=!1,p=0;p<A;p+=1)if(u[p].callback===d){x=!0;l&&u[p].hasOwnProperty("eventFunction")&&this.unlisten(e,c,u[p].eventFunction);this._callbacks[n].splice(p,1);break}if(x){0>=this._callbacks[n].length&&(delete this._callbacks[n],h=!0);break}}}}else throw new a.Exceptions.InvalidTypeException("string/function",typeof c+"/"+typeof d,this);return h},unlisten:function(a,
b,c){a.detachEvent?a.detachEvent(b,c):a.removeEventListener&&("on"===b.substring(0,2)&&(b=b.substring(2)),a.removeEventListener(b,c,!1))},isBuilt:function(){return this.$super()}}}());I("init/placeholders",function(){var e={adZoneTemplate:[],countryCode:"TW",domain:"ssp.kiosked.com",environment:"[KCDN:ENVIRONMENT]",publisherID:11340,settings:{"settings":{"settingsTree":{"conditionId":3,"conditionType":"default","conditionValue":null,"properties":[{"key":"ui.media.cutSizeFromParents","value":"auto","target":"","targetDeviceFamily":0},{"key":"ui.media.zIndex","value":"auto","target":"","targetDeviceFamily":0},{"key":"ui.sniff.minMediaHeight","value":"200","target":"","targetDeviceFamily":0},{"key":"ui.sniff.minMediaWidth","value":"290","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.minMediaSize.horizontalWidth","value":"300","target":"","targetDeviceFamily":0},{"key":"ui.override.js.ITGS.SnifferUtilities.processPageURL","value":function(url) {return ITGS.Facades.URLProcessing.getURLPathOnly(url);},"target":"","targetDeviceFamily":0},{"key":"ui.media.overlays.Disclaimer.containerWidth","value":"264","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.showDisclaimer","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.sniff.disableIndexPageAnalysis","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.media.overlays.Disclaimer.disclaimerLink","value":"http:\/\/page.kiosked.com\/who-served-this-ad","target":"","targetDeviceFamily":0},{"key":"ui.sniff.quantcastEnabled","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.geo.filter.country.whitelist","value":"","target":"","targetDeviceFamily":0},{"key":"ui.geo.filter.country.blacklist","value":"","target":"","targetDeviceFamily":0},{"key":"ui.sniff.sendZoneDataRequests","value":"false","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.waterfallAnalyticsEnabled","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.libraryVersion","value":"3.4.3","target":"","targetDeviceFamily":0}],"childConditions":[{"conditionId":3517,"conditionType":"account","conditionValue":"11340","properties":[{"key":"ui.geo.filter.country.blacklist","value":"US","target":"","targetDeviceFamily":0}],"childConditions":[{"conditionId":3518,"conditionType":"URI","conditionValue":"appledaily.com.tw","properties":[{"key":"ui.sniff.disableKiosksInElements","value":"#lightbox-container-image, #newimglayer","target":"","targetDeviceFamily":0},{"key":"ui.media.overridePlugins","value":"BannerSlot","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.horizontalZoneId","value":"5582004","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.minMediaSize.horizontalWidth","value":"395","target":"","targetDeviceFamily":1},{"key":"ui.media.Banner.provider","value":"appnexus","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.bannerReloading.offScreen.hide","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.media.maxPlugins.BannerSlot","value":"1","target":"","targetDeviceFamily":0},{"key":"ui.media.overlays.Disclaimer.showDelay","value":"7000","target":"","targetDeviceFamily":0}]},{"conditionId":3839,"conditionType":"URI","conditionValue":"Mobile testing","properties":[{"key":"ui.media.overridePlugins","value":"BannerSlot","target":"","targetDeviceFamily":0},{"key":"ui.sniff.maxBanners","value":"1","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.provider","value":"Appnexus","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.mobileZoneId","value":"5582111","target":"","targetDeviceFamily":0},{"key":"ui.media.maxPlugins.BannerSlot","value":"1","target":"","targetDeviceFamily":0}]}]}]},"activeAbTestCases":[],"notifications":[]}},siteID:11539};window&&"object"===typeof window.ITGSsettings&&(a.tools.debug.log("/Override/",
"Custom settings are in use"),e.settings=window.ITGSsettings);return{getClientDataset:function(a,c){return e.hasOwnProperty(a)&&!1===("string"===typeof e[a]&&0<=e[a].indexOf("KCDN:"))?e[a]:c}}});I("iow/lib",function(){var e=function(b,c,d,e,g,k){(function(h){function l(){var a=this;a.stack={};a.displayAd=function(){};a.requestAds=function(b){var c=h[h.libServingName__];if(0===(b||{}).sectionId||(b||{}).sectionId)try{c.requestAds.call(c,b)}catch(d){a.stack[b.sectionId+""]=b}}}function n(){function h(b){function c(a){p("server request sent: "+
a.sectionId);var b,e,f;f=d.generateAdServerUrl(a);p("Ad server full URL: "+f);if(!0===d.isSyncMode(a.sectionId))return a='<script type="text/javascript" src="{{url}}">\x3c/script>'.replace("{{url}}",f),document.write(a),!0;b=document.createElement("script");b.async=!0;b.type="text/javascript";b.src=f;e=document.getElementsByTagName("script")[0];d.isPresto()?setTimeout(function(){e.parentNode.insertBefore(b,e)},0):e.parentNode.insertBefore(b,e);return!0}var d=this;this.globalPart=b;this.displayedAds=
{};this.serverSlotsDef={};this.adRenderer=new l(this);this.dmpIsLoading=!1;this.segments=[];this.dmpParams={};this.dmpFinishCallbackFns={};this.dmpExpireTimers=[];this.maxDmpTime=200;this.pid=this.genPageId();this.globalPart.displayAd=function(a,b,c){var e=c;c||(e=d.getSlotDefById(a,b));d.notEmptyVar(a)&&d.serverSlotsDef&&e&&!d.slotIsDisplayed(e)&&d.adRenderer.renderSlot(e)&&d.setSlotIsDisplayed(!0,e)};this.displayAd=this.globalPart.displayAd;this.globalPart.processDmp=function(a,b){d.dmpIsLoading=
!1;d.isDmpProcessed=!0;var c={},e=["gender_age","home_location","occupation","work_location"],f,g;f=!0;d.isArray(a)?(g=a,f=!1):a&&d.isArray(a.segments)&&(g=a.segments);if(c&&f)for(var h=0;h<e.length;h++)f=e[h],a.hasOwnProperty(f)&&(c[f]=a[f]);d.segments=g;d.dmpParams=c;d.onDmpProcessed()};this.processDmp=this.processDmp=this.globalPart.processDmp;this.processStack=function(){window.__ASL_USE_DMP&&!d.dmpIsLoading&&!d.dmpIsLoading&&C(!!window.__ASL_DMP_SYNC);var a=this.globalPart&&this.globalPart.stack||
{},b;for(b in a)a.hasOwnProperty(b+"")&&(b=parseInt(b,10),this.requestAds(a[b]),delete a[b])};this.requestAds=this.requestAds=function(a){a=a||{};var b;delete d.displayedAds[a.sectionId];delete d.serverSlotsDef[a.sectionId];this.sectionInfo[a.sectionId]=a;a.dmp&&!d.isDmpProcessed?(p("set callback"),!d.dmpIsLoading&&C(a.sync),b=a.sectionId,d.dmpFinishCallbackFns[b]=d.requestAdServiceData.bind(d,a),a.sync||d.dmpExpireTimers.push(setTimeout(this.onDmpExpire.bind(this,b,a),this.maxDmpTime))):(a.dmp&&
p("make a call"),this.requestAdServiceData(a))};this.onDmpExpire=function(a,b){p("DMP expire callback is called");d.dmpFinishCallbackFns=d.dmpFinishCallbackFns||{};a in d.dmpFinishCallbackFns&&delete d.dmpFinishCallbackFns[a];d.requestAdServiceData(b)};this.requestAdServiceData=function(a){var b=window.__DMP_RESULT;a.dmp?b&&!d.isDmpProcessed?d.processDmp(b.r1,b.r2,a):c(a):c(a)};this.onDmpProcessed=function(){var a,b;for(a in d.dmpFinishCallbackFns)b=d.dmpFinishCallbackFns[a],d.dmpFinishCallbackFns.hasOwnProperty(a)&&
"function"===typeof b&&b.call();d.dmpExpireTimers=d.dmpExpireTimers||[];a=0;for(b=d.dmpExpireTimers.length;a<b;a++)clearTimeout(d.dmpExpireTimers[a])};window[q]=function(b){var c,e,f,g={};d.serverSlotsDef=d.serverSlotsDef||{};for(var h=0,l=b.length;h<l;h++)c=b[h],e=r+c.id+"_"+c.section_id+"_"+c.suid,f=c.size,d.notEmptyVar(f)&&(f=f.split(d.sizeDelimiter)),e={slotId:e,sectionId:c.section_id,data:c.data,type:c.type||"",size:f,isRich:!!c.is_rich,suid:c.suid,plc:c.plc,fld:c.fld},g[c.section_id]=g[c.section_id]||
[],g[c.section_id].push(e),d.serverSlotsDef[e.sectionId]=d.serverSlotsDef[e.sectionId]||{},d.serverSlotsDef[e.sectionId][e.slotId]=e;a.r("locators/IOWManagerLocator",function(a){a=a.getIOWManager().getProxy();for(var b in g)g.hasOwnProperty(b)&&a.processSlotsResponse(b,g[b])})};this.generateAdServerUrl=function(a){a=a||{};if(a.sectionId){var b="https:"===document.location.protocol,c,e,f=[],g=this.getLang();e="section_id handler_name tz fl click3rd seg is_secure ord pid".split(" ");c=s.replace(/^http:|^https:|\?$/im,
"");c=(b?"https:":"http:")+c;b=["section_id="+a.sectionId,"handler_name="+q,"tz="+(new Date).getTimezoneOffset(),"fl="+d.getFlashVersion(),"is_secure="+(b?1:0),"pid="+d.pid,"plc="+a.plc,"suid="+a.suid,"ab_test_value="+a.ab_test_value,"url="+encodeURIComponent(a.url),"device_family="+a.device_family,"fld="+a.fld];f=f.concat(b);f=d.addParams((this.sectionInfo[a.sectionId]||{}).custom,f,e);a.dmp&&d.dmpParams&&(f=d.addParams(d.dmpParams,f,e));e=d.segments;"undefined"!==typeof e&&0<e.length&&f.push("seg="+
e.join("_"));(a=(this.sectionInfo[a.sectionId]||{}).click3rd)&&f.push("click3rd="+a);!1!==g&&f.push("lang="+encodeURIComponent(g));return c+"?"+f.join("&")+"&ord="+Math.floor(1E13*Math.random())}};this.addParams=function(a,b,c){a=a||{};b=b||[];c=c||[];var e,f;a:for(f in a){e=0;for(var g=c.length;e<g;e++)if(c[e]+""===f+"")continue a;if(a.hasOwnProperty(f)){e=a[f];if(d.isArray(e)){for(g=0;g<e.length;g++)b.push(f+"="+encodeURIComponent(e[g]));continue a}b.push(f+"="+encodeURIComponent(e))}}return b};
this.getSlotDefById=function(a,b){d.serverSlotsDef=d.serverSlotsDef||{};var c;d.isDefined(b)||(c=a.split("_"),0<c.length&&(b=c[c.length-1]));return d.serverSlotsDef[b]&&d.serverSlotsDef[b][a]};this.setSlotIsDisplayed=function(a,b){if(d.isDefined(a))return d.displayedAds[b.sectionId]=d.displayedAds[b.sectionId]||{},a?d.displayedAds[b.sectionId][b.slotId]=!0:delete d.displayedAds[b.sectionId][b.slotId],this};this.slotIsDisplayed=function(a){var b,c;c=a.sectionId;a=a.slotId;try{b=!!d.displayedAds[c][a]}catch(e){b=
!1}return b};this.getLang=function(){for(var a=document.getElementsByTagName("meta"),b,c=!1,d=0;d<a.length;d++)if(b=!1,a[d]&&(b=a[d].getAttribute("http-equiv")||a[d].httpEquiv),b&&"content-language"===b.toLowerCase()){c=(c=a[d].getAttribute("content")||a[d].content)||!1;break}return c}}function l(a){var b=this;a instanceof h&&(this.adManager=a);this.renderSlot=function(a){var c=document.getElementById(a.slotId),d,e,f;if(!c)return p("Not ready to render: "+a.slotId),!1;f=a.type;if("javascript"===f&&
b.isSyncMode(a.sectionId))return e='<script type="text/javascript">'+a.data+"\x3c/script>",document.write(e),p("Filled content on: "+a.slotId+" with "+a.type+" content"),!0;d=b.prepareFrame(a);d.src="javascript:\"<html><body style='background:transparent;margin:0%;'></body></html>\"";c.innerHTML="";c.appendChild(d);switch(f){case "javascript":e='<html><body style=\'background:transparent;margin:0%;\'><script type="text/javascript">var inDapIF=true;\x3c/script><script type="text/javascript">'+(0!==
b.getIEVersion()?b.hexEncode(a.data):a.data)+"\x3c/script></body></html>";break;case "html":e=0!==b.getIEVersion()?b.hexEncode(a.data):a.data}c=b.isNetscape();0!==b.getIEVersion()||c?(d=window.frames[d.name],d.contents=e,d.location.replace(b.getFifLocationIE(a))):(d=d.contentWindow?d.contentWindow.document:d.contentDocument,-1!==navigator.userAgent.indexOf("Firefox")&&d.open("text/html","replace"),d.write(e),b.isPresto()||d.close());p("Filled content on: "+a.slotId+" with "+a.type+" content");return!0};
this.prepareFrame=function(a){var c=document.createElement("iframe"),d="border:none;",e=b.getFrameName(a.slotId);b.notEmptyVar(a.size[0])&&(d+="width:"+a.size[0]+"px;",c.width=a.size[0]);b.notEmptyVar(a.size[1])&&(d+="height:"+a.size[1]+"px;",c.height=a.size[1]);c.setAttribute("style",d);c.setAttribute("frameBorder","0");c.setAttribute("scrolling","no");c.name=e;c.id=e;return c};this.getFifLocationIE=function(a){return b.isNetscape()&&!b.isSyncMode(a.sectionId)?"javascript:document.write(window.contents);":
"javascript:window.contents"};this.getFrameName=function(a){return"fif_slot_"+r+"_"+a}}function n(){var a=this;this.sectionInfo={};this.sizeDelimiter="x";Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!==typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d?this:a,b.concat(Array.prototype.slice.call(arguments)))};
d.prototype=this.prototype;e.prototype=new d;return e});this.getFlashVersion=function(){var b=0,c;if(a.isDefined(navigator.plugins)&&"object"===typeof navigator.plugins["Shockwave Flash"])!(c=navigator.plugins["Shockwave Flash"].description)||a.isDefined(navigator.mimeTypes)&&navigator.mimeTypes["application/x-shockwave-flash"]&&!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),b=parseInt(c.replace(/^(.*)\..*$/,"$1"),10));else if(a.isDefined(window.ActiveXObject))try{var d=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash");d&&(c=d.GetVariable("$version"))&&(c=c.split(" ")[1].split(","),b=parseInt(c[0],10))}catch(e){}return b};this.getScreenSize=function(){var a=0,b=0;"number"===typeof window.innerHeight?(a=window.innerHeight,b=window.innerWidth):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(a=document.documentElement.clientHeight,b=document.documentElement.clientWidth):document.body&&(document.body.clientWidth||
document.body.clientHeight)&&(a=document.body.clientHeight,b=document.body.clientWidth);return{width:b,height:a}};this.isDefined=function(a){return"undefined"!==typeof a};this.notEmptyVar=function(b){return a.isDefined(b)&&null!==b&&""!==b+""};this.isSyncMode=function(b){return a.sectionInfo&&a.sectionInfo[b]&&a.sectionInfo[b].sync};this.getIEVersion=function(){var a=navigator.userAgent,b=a.indexOf("MSIE ");return-1===b?0:parseFloat(a.substring(b+5,a.indexOf(";",b)))};this.isNetscape=function(){var a=
navigator.userAgent;return null!==a.match(/\d\sNavigator\/\d/)||null!==a.match(/\d\sNetscape\/\d/)};this.isPresto=function(){return-1!==navigator.userAgent.indexOf("Opera")};this.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};this.hexEncode=function(a){window.hexDic=window.hexDic||{};a+="";for(var b=[],c=window.hexDic,d=0;d<a.length;d++){var e=a.charAt(d),f=e.charCodeAt(0),g=d+1;if(31>f||127<f)e in c?e=c[e]:(f="&#x"+("000"+f.toString(16)).slice(-4)+";",e=c[e]=f);b[g]=
e}return b.join("")};this.genPageId=function(){return(this.genRandomInt(1E6,99999999)+this.genRandomString(20)+((new Date).getTime()+"").split("").reverse().join("")).slice(0,35)};this.genRandomInt=function(a,b){return Math.floor(Math.random()*(b-a+1))+a};this.genRandomString=function(a){var b;b="";a=a||0;if(0>a)return"";for(;0<a;)b+="1qwe8rty2uiop3a0sdf4ghjkl5z9xcv6bnm7MNBVCXZASDFGHJKLPOIUYTREWQ"[this.genRandomInt(0,61)],a--;return b}}function p(a){window.__SHOWAD_DEBUG&&"undefined"!==typeof console&&
console.info&&console.info(new Date," -> ",a.replace("http","htt_p"))}function m(){window.__DMP_PROCESSING_CALLBACK_FN=function(a,b){var c;window.__DMP_RESULT=window.__DMP_RESULT||{};c=window.__DMP_RESULT;c.r1=a;c.r2=b;(c=window[B])&&"function"===typeof c.processDmp&&c.processDmp.call(window,a,b);var d,e;"[object Array]"===y(a)?d=a:a&&y(a.segments)&&(d=a.segments);y(b)?e=b:a&&y(a.piggybacks)&&(e=a.piggybacks);v(e);if(!window.__ASL_DMP_NO_COOKIE&&d&&y(d)&&(e="seg_cookie_name",""!==e+"")){e+="";c=new Date;
c.setTime(c.getTime()+31536E6);c=c.toGMTString();var f="";if(0<d.length){for(var g=0;21>g&&g<d.length;g++)d[g]=("0000"+String(d[g])).slice(-5),f+="kskd_cookie_prefix"+g+"="+d[g]+"/";f=f.replace(/\,$/,"")}else f="kskd_cookie_prefix0=0";document.cookie=e+"="+escape(f)+"; expires="+c+"; path=/"}}}function v(a){if(a&&y(a)&&!(0>=a.length)){var b="cftdpb_"+Math.floor(1E13*Math.random()),c=document.createElement("iframe");c.id=b;c.style.display="none";c.onload=function(){for(var b=c.contentWindow.document,
d=0;d<a.length;d++)if("https:"===location.protocol&&(a[d].url=a[d].url.split("http:").join("https:")),"script"===a[d].type){var e=document.createElement("script");e.type="text/javascript";e.src=a[d].url;b.body.appendChild(e)}else"image"===a[d].type&&((new Image).src=a[d].url)};b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(c,b)}}function y(a){return"[object Array]"===Object.prototype.toString.call(a)}function C(a){if("function"===typeof window.__DMP_PROCESSING_CALLBACK_FN){t.dmpIsLoading=
!0;var b=("https:"===document.location.protocol?"https:":"http:")+"?dd_jsonp=__DMP_PROCESSING_CALLBACK_FN&dd_rft=je&oid=dmp_oid",c,d=0,b=b+("&src="+encodeURIComponent(location.href));document.referrer&&(b+="&ref="+encodeURIComponent(document.referrer));a:{c=0;for(var e=document.getElementsByTagName("meta"),f,g;c<e.length;c++)if(g=(f=e[c])&&f.getAttribute("name"),f=f&&f.getAttribute("content"),g&&"keywords"===(g+"").toLowerCase()&&f){c=0;for(e=(f||"").split(",");c<e.length;c++)e[c]=e[c].replace(/(^[\s]+)|([\s]+$)/g,
"");c=e;break a}c=[]}for(;d<c.length;d++)b+="&mtk="+encodeURIComponent(c[d]);for(;2E3<b.length;)b=b.split("&"),b.pop(),b=b.join("&");a?document.write('<script type="text/javascript" src="'+b+'">\x3c/script>'):F(b)}}function F(a){var b=document.createElement("script"),c=document.getElementsByTagName("script")[0];b.type="text/javascript";b.src=a;b.async=!0;-1!==navigator.userAgent.indexOf("Opera")?setTimeout(function(){c.parentNode.insertBefore(b,c)},0):c.parentNode.insertBefore(b,c)}var B=c;if("undefined"===
typeof window[B]){var s=d,q=e,r=g;if("undefined"===typeof window[k])throw Error("Failed initialising library");h.prototype=new n;h.prototype.constructor=h;l.prototype=h.prototype;l.prototype.constructor=l;var t=new h(window[k]);m();window[B]=t;t.processStack();setTimeout(b,1)}}h.libServingName__=c;h[k]=h[k]||new l;"undefined"===typeof h.__ASL_LIB_LOADED&&n();h.__ASL_LIB_LOADED=1})(window)};return{init:function(){var a=!1;e&&(a=!0,e.apply(this,arguments));e=null;return a},isInitialised:function(){return null===
e}}});a.Sniffing.SearchContext=a.Sniffing.SearchContext||a.KioskedObject.extend(function(){function e(a){for(var c={},d=a.length,e=0;e<d;e+=1)c[a[e].key]=a[e].value;return c}return{construct:function(b){this.$super();b=b||{};this._options=m.mergeDefaults({name:"SearchContext",contextSelector:"body",parentContextElement:null,settings:[]},b);this._childContexts=[];this.addStatus("processedContextElements");m.scope.enforceCaller(this,a.Sniffing.SearchContext,"Expected caller to be instance of SearchContext");
b=this.getOptions();var c=new a.SettingsOBC({});a.tools.isset(b.parentContextElement)&&(c=b.parentContextElement.getSettings().clone());this._settings=c=c.mergeSettings(e(b.settings));this.set("enabled");this.detectStatus()},destroy:function(){this.$super()},addChildContext:function(a){this._childContexts.push(a)},detectStatus:function(){this.getSettings().getBool("ui.enabled",!0)?this.set("enabled"):this.unset("enabled");return this},getChildContexts:function(){return this._childContexts},getChildContextSelectors:function(){for(var a=
[],c=this.getChildContexts(),d=c.length,e=0;e<d;e+=1)a=a.concat(c[e].getContextSelectors());return a},getContextSelectors:function(){for(var b=this.getOptions().contextSelector.split(","),c=b.length,d=0;d<c;d+=1)b[d]=a.tools.trim(b[d]);return b},getOptions:function(){return this._options},getSettings:function(){return this._settings},setSettings:function(a){this._settings=a},toString:function(){for(var a=this.getOptions(),c=this.getSettings(),d=this.getChildContexts(),e=d.length,g=[],k=0;k<e;k+=1)g.push(d[k].toString());
return JSON.stringify({contextSelector:a.contextSelector,contextEnabled:a.contextEnabled,settings:c.getSettingsObject(),children:"--children--"}).replace('"--children--"',"["+g.join(",")+"]")}}}());a.ScrollerComponent=a.ScrollerComponent||a.KioskedObject.extend(function(){return{construct:function(a,b){this.$super();this.latestKnownScrollY=0;this.ticking=!1;this.element=a;this.updateCallback=b;this.removeHandler=null},start:function(){this.removeHandler=a.tools.dom.addEvent(this.element,"scroll",
a.tools.compatibility.bindFunction(this.onScroll,this)).remove},onScroll:function(a){this.latestKnownScrollY=a.target.scrollTop||this.element.scrollY;this.requestTick(a)},requestTick:function(e){this.ticking||requestAnimationFrame(a.tools.compatibility.bindFunction(this.update,this,e));this.ticking=!0},update:function(a){var b=this.latestKnownScrollY;this.ticking=!1;this.updateCallback.call(this,b,a)},destroy:function(){this.removeHandler();this.$super()}}}());a.PlacementInputAbstract=a.PlacementInputAbstract||
a.AdComponentAbstract.extend(function(){return{construct:function(e,b){this.$super();this._options=a.tools.mergeDefaults({name:"AbstractInput",kioskID:0,order:0},e);this._lastPlacement=null;this._settings=b},getLastPlacement:function(){return this._lastPlacement},getOptions:function(){return this._options},getSettings:function(){return this._settings},process:function(a){this._lastPlacement=a}}}());a.Analyzer=a.Analyzer||a.KioskedObject.extend(function(){function e(c){m.scope.enforceCaller(this,a.Analyzer,
"Expected caller to be instance of Analyzer");if(!c)return null;-1===c.indexOf("http:")&&-1===c.indexOf("https:")&&(c=window.location.protocol+"//"+b(c)+c);if(-1<c.indexOf(".jpg")||-1<c.indexOf(".png")||-1<c.indexOf(".gif"))return null;var d=b.call(this,c);m.scope.enforceCaller(this,a.Analyzer,"Expected caller to be instance of Analyzer");for(var e=this.getMediaSettings().getSubset("ui").get("hostNames","").split(","),f=0;f<e.length;f+=1)e[f]=m.trim(e[f]);for(var f=!1,g=0;g<e.length;g+=1)3<e[g].length&&
-1!==d.indexOf(e[g])&&(f=!0);return!1===f?null:c}function b(a){var b=document.createElement("a");b.href=a;return b.hostname}function c(a,b){try{if(a instanceof HTMLElement){if(b){a=a.cloneNode(!0);for(var c=m.dom.query(b,a),d=0;d<c.length;d+=1)c[d]instanceof HTMLElement&&m.dom.destroy(c[d])}return m.trim(m.dom.getPlainText(a)).replace(/(\r\n|\n|\r)/gm," ").replace(/\s+/g," ")}}catch(e){m.debug.log("could not process element content",e)}return""}function d(a){if(!a)return 0;a=a.replace(/(\r\n|\n|\r)/gm,
" ");a=a.replace(/[ ]{2,}/gi," ");a=a.replace(/(^\s*)|(\s*$)/gi,"");return""===a?0:a.split(" ").length}function f(b,c,e){m.scope.enforceCaller(this,a.Analyzer,"Expected caller to be instance of Analyzer");var f="",g=0,k;c=m.dom.query(b,c);for(var p=0;p<c.length;p+=1){b=m.trim(m.dom.getPlainText(c[p]));var w=window.getComputedStyle(c[p],null).getPropertyValue("font-size"),w=parseFloat(w);2<d.call(this,b)&&w>g&&(f=b,g=w,k=c[p])}if(e&&g>e)return a.SnifferUtilities.highlightAnalyzedElement(k,"title",
this.debugMode),f;if(e)return"";a.SnifferUtilities.highlightAnalyzedElement(k,"title",this.debugMode);return f}function g(b,c){m.scope.enforceCaller(this,a.Analyzer,"Expected caller to be instance of Analyzer");var d="",e=m.dom.query("h1",b),g=0<e.length?m.trim(m.dom.getPlainText(e[0])):"",k=document.getElementsByTagName("body")[0];if(0===d.length&&(0<g.length&&(d=g,a.SnifferUtilities.highlightAnalyzedElement(e[0],"title",this.debugMode)),c&&0===d.length&&(d=f.call(this,"h1",k,55)),c&&0===d.length&&
(d=f.call(this,"h2",k,55)),c&&0===d.length&&(d=f.call(this,"h3",k,55)),0===d.length&&(e=m.dom.query("h2",b),d=g=0<e.length?m.trim(m.dom.getPlainText(e[0])):"",a.SnifferUtilities.highlightAnalyzedElement(e[0],"title",this.debugMode)),0===d.length&&(d=m.dom.query("h3",b),d=g=0<d.length?m.trim(m.dom.getPlainText(d[0])):"",a.SnifferUtilities.highlightAnalyzedElement(b,"title",this.debugMode)),0===d.length&&(d=f.call(this,"h1",b.parentNode),0===d.length&&(d=f.call(this,"h2",b.parentNode)),0===d.length&&
(d=f.call(this,"h3",b.parentNode)),0===d.length))){d=f.call(this,"h1",b.parentNode.parentNode);0===d.length&&(d=f.call(this,"h2",b.parentNode.parentNode));0===d.length&&(d=f.call(this,"h3",b.parentNode.parentNode));if(0===d.length&&c)for(g=document.getElementsByTagName("meta"),e=0;e<g.length;e+=1)"og:title"===g[e].getAttribute("property")&&(d=g[e].getAttribute("content"));0===d.length&&(d=f.call(this,"h1",k),0===d.length&&(d=f.call(this,"h2",k)),0===d.length&&(d=f.call(this,"h3",k)))}return d}function k(b,
c){m.scope.enforceCaller(this,a.Analyzer,"Expected caller to be instance of Analyzer");var e="",f=m.dom.query("figcaption",b);if(f=(f=0<f.length?m.dom.getPlainText(f[0]):!1)?m.trim(f):!1)e=f;else for(var f=m.dom.query("a",b),g=0;g<f.length;g+=1)if(c.link&&f[g].getAttribute("href")===c.link){var k=m.trim(m.dom.getPlainText(f[g]));5<d.call(this,k)&&(e=k)}return e}return{MIN_WORD_COUNT:30,MAX_WORD_COUNT:300,construct:function(b){this.zoneAnalysis=this.pageAnalysis=null;this._settings={};this._zoneReportURL=
b.zoneReportURL||null;if(a.tools.isEmpty(this._zoneReportURL))throw new z("Unset zone-report URL");this._settings=new a.SettingsOBC({});b&&(!0===b.debugMode&&(this.debugMode=!0),a.tools.isset(b.settings)&&(this._settings=b.settings.getSubset("ui.analyzers"),this._mediaSettings=b.settings))},getSettings:function(){return this._settings},getMediaSettings:function(){return this._mediaSettings},analyzePage:function(b,c,d){var e="article";!1===this.getMediaSettings().getBool("ui.sniff.disableIndexPageAnalysis",
!1)&&(e=a.SnifferUtilities.getPageType(b));m.scope.enforceCaller(this,a.Analyzer,"Expected caller to be instance of Analyzer");for(var f=b="",g=document.getElementsByTagName("title")[0],g=g?m.dom.getPlainText(g):"",k=document.getElementsByTagName("meta"),w=0;w<k.length;w+=1){var v=k[w].getAttribute("property"),y=k[w].getAttribute("name");""===g&&"title"===y&&(g=k[w].getAttribute("content"));""===g&&"og:title"===v&&(g=k[w].getAttribute("content"));""===b&&"og:description"===v&&(b=k[w].getAttribute("content"));
""===b&&"description"===y&&(b=k[w].getAttribute("content"));"keywords"===y&&(f=k[w].getAttribute("content"))}b={title:g,description:b,keywords:f};this.pageType=e;this.pageAnalysis=b;this.pageAnalysis.url=a.SnifferUtilities.processPageURL(a.tools.environment.getPageUrl());this.pageAnalysis.type="webPage";this.pageAnalysis.albumId=c;this.pageAnalysis.publisherId=d;this.pageAnalysis.pageType=e;return this.pageAnalysis},analyzeZones:function(b){var f=[],n=a.SnifferUtilities.processPageURL(a.tools.environment.getPageUrl());
this.pageType||(this.pageType=a.SnifferUtilities.getPageType(b));for(var u=0;u<b.length;u+=1){a.SnifferUtilities.highlightAnalyzedElement(b[u].img,"target",this.debugMode);var A;a:{var x=b[u];A=this.pageType;var p=n;m.scope.enforceCaller(this,a.Analyzer,"Expected caller to be instance of Analyzer");var w=x.img,p={pageUrl:p,id:x.zoneId},v=0;p.type="webImage";p.responseTypes=x.responseTypes;if(w instanceof HTMLImageElement&&w.src&&0<w.src.length){if(p.url=w.src,!this.isValidResourceURL(p.url)){m.debug.warn("/Analyzer/",
"Invalid image URL",w);A=!1;break a}}else p.url=x.zoneId;p.width=w.offsetWidth;p.height=w.offsetHeight;p.alt=w.getAttribute("alt");if("index"===this.pageType){var y=w;m.scope.enforceCaller(this,a.Analyzer,"Expected caller to be instance of Analyzer");x=void 0;for(y=y.parentNode;y&&y.parentNode;){if("A"===y.tagName.toUpperCase()&&y.getAttribute("href")){x=y.getAttribute("href");break}y=y.parentNode}if(x=e.call(this,x))p.link=m.environment.getImageFullURL(x)}var C=this.getSettings().getSubset("GeneralAnalyzer"),
v=C.get("forceContentElement",!1),x=C.get("excludeContentElement",!1),y=C.get("minWordCount",this.MIN_WORD_COUNT),C=C.get("minWordCount",this.MAX_WORD_COUNT),F=!1,B=w,s="";if(v=v?document.querySelector(v):!1)B=v,s=c(B,x),p.content=s,p.caption=k.call(this,B,p),p.title=g.call(this,B,A),p.width=w.offsetWidth,p.height=w.offsetHeight,a.SnifferUtilities.highlightAnalyzedElement(B,"content",this.debugMode);else for(;!1===F;){if("BODY"===B.parentNode.tagName.toUpperCase()||"HTML"===B.parentNode.tagName.toUpperCase())F=
!0;s=c(B,x);v=d.call(this,s);if(v>y){var F=B.parentNode,q=c(F,x),v=d.call(this,q);v<C?(p.content=q,p.caption=k.call(this,F,p),p.title=g.call(this,F,A)):(p.content=s,p.caption=k.call(this,B,p),p.title=g.call(this,B,A));p.width=w.offsetWidth;p.height=w.offsetHeight;a.SnifferUtilities.highlightAnalyzedElement(B,"content",this.debugMode);F=!0}B=B.parentNode}A=p}A?f.push(A):m.debug.warn("/Analyzer/","Failed analysis for item:",b[u])}return this.zoneAnalysis=f},getPageAnalysis:function(){this.pageAnalysis&&
(this.pageAnalysis.url=a.SnifferUtilities.processPageURL(a.tools.environment.getPageUrl()));return this.pageAnalysis},isValidResourceURL:function(a){return/https?:\/\/[a-zA-Z0-9._-]+\/([^ ])*/i.test(a)},sendAnalysis:function(b){var c=this._zoneReportURL,d=[];b&&this.pageAnalysis&&d.push(this.pageAnalysis);if(this.zoneAnalysis){for(b=0;b<this.zoneAnalysis.length;b+=1)d.push(this.zoneAnalysis[b]);a.tools.communication.sendRequest({destination:c,method:"POST",errorCallback:function(){throw Error("(Kiosked) Failed sending page analysis");
},data:{json:JSON.stringify(d)}}).then(function(){m.debug.log("/Analyzer/","(Page Analysis)","Successfully sent page analysis.")})}}}}());a.DisclaimerBarAbstract=a.DisclaimerBarAbstract||a.DisplayComponent.extend(function(){return{construct:function(e){e=e||{};this._options=a.tools.mergeDefaults({disclaimerLink:a.Config.DISCLAIMER_DEFAULT_LINK,external:!0,showDisclaimer:!1},e);if(0>=this._options.disclaimerLink.length)throw Error("Disclaimer link was empty");this._adsLogoDisclaimerContainer=this._closeButtonContainer=
null;this.$super()},build:function(){this.$super();this.unset("built");this._closeButtonContainer=m.create("div");this._adsLogoDisclaimerContainer=m.create("div");this.set("built")},destroy:function(){a.tools.dom.destroy(this._closeButtonContainer);a.tools.dom.destroy(this._adsLogoDisclaimerContainer);this._adsLogoDisclaimerContainer=this._closeButtonContainer=null;this.$super()},getCloseButtonContainer:function(){return this._closeButtonContainer},getAdsLogoDisclaimerContainer:function(){return this._adsLogoDisclaimerContainer},
getHeight:function(){return"default"===a.styling.getDeviceType()?a.Config.BANNER_DISCLAIMER.HEIGHT_DESKTOP:a.Config.BANNER_DISCLAIMER.HEIGHT_MOBILE},getHeightOutsideBanner:function(){return!0===this.getOptions().external?this.getHeight():0},getOptions:function(){return this._options}}}());a.PlacementAnchorAbstract=a.PlacementAnchorAbstract||a.AdComponentAbstract.extend(function(){return{construct:function(e,b){this.$super();b=b||{};var c=this._options=a.tools.mergeDefaults({anchorType:!1,disclaimer:null,
kioskID:"",placementType:null,refreshEnabled:!0,scaleEnabled:!0},b);if(0>=c.kioskID.length)throw Error("Kiosk ID was empty");if(!0!==c.disclaimer instanceof a.DisclaimerBarAbstract)throw Error("Disclaimer was not an instance of DisclaimerBarAbstract");this.addStatus("visible");this.addStatus("beenVisible");this.addStatusSet(["desktopAnchor","mobileAnchor"]);this._targetElement=e;this._disclaimer=this._visibilityDetectionFrame=this._adContainerElement=this._anchorElement=null;this._RTBPosition=a.Config.RTB_POS.UNKNOWN;
a.styling.placeHeaderStylesheetWithNamespace("clearStyles_"+this.getOptions().kioskID,this.getOptions().kioskID);a.tools.scope.enforceCaller(this,a.PlacementAnchorAbstract,"Context not met: PlacementAnchorAbstract");a.tools.environment.device.isMobile()?this.set("mobileAnchor"):this.set("desktopAnchor")},destroy:function(){this.unset("visible");this._disclaimer&&this._disclaimer.destroy();this._anchorElement&&(m.dom.destroy(this._anchorElement),this._visibilityDetectionFrame=this._adContainerElement=
this._anchorElement=null);this.$super()},appendAdElement:function(a){this.getAdContainerElement().appendChild(a)},applyPosition:function(a){var b=this.getAdContainerElement();b.style.left=a.left+"px";b.style.top=a.top+"px"},buildVisibilityDetectionFrame:function(a){},createAnchorElement:function(){null===this._anchorElement&&(this._anchorElement=a.tools.create("div",{cssClass:"kskdCls",style:{position:"relative",display:"block",width:"0px",height:"0px"}}))},createContainerElement:function(){null===
this._adContainerElement&&(this._adContainerElement=a.tools.create("div",{},this.getAnchorElement()),a.styling.selectStyle("AdContainerElement").applyToElement(this._adContainerElement))},getAdContainerElement:function(){return this._adContainerElement},getAnchorElement:function(){return this._anchorElement},getDisclaimer:function(){return this._disclaimer},getOptions:function(){return this._options},getRTBPosition:function(){return this._RTBPosition},getTargetElement:function(){return this._targetElement},
getVisibilityDetectionFrame:function(){return this._visibilityDetectionFrame},isVisible:function(){if(this.getVisibilityDetectionFrame()){var e=a.tools.isOnScreen(this._visibilityDetectionFrame);(e=!1!==e&&50<=e)?(this.set("visible"),this.set("beenVisible")):this.unset("visible");return e}return!1},prepareDisclaimer:function(){var a=this.getAdContainerElement();this._disclaimer=this.getOptions().disclaimer;a.appendChild(this._disclaimer.getContainer())},setRTBPosition:function(a){this._RTBPosition=
a},updateLayout:function(a){var b=this.getAdContainerElement();b.style.width=a.width+"px";b.style.height=a.height+"px"}}}());a.MessageSources.MessageSourceAbstract=a.MessageSources.MessageSourceAbstract||a.KioskedObject.extend(function(){return{construct:function(a){this.$super();this._options=m.mergeDefaults({name:"MessageSourceAbstract"},a||{})},canReceiveMessage:function(){return!1},getOptions:function(){return this._options},sendMessage:function(){return!1}}}());a.MessageHandlers.MessageHandlerAbstract=
a.MessageHandlers.MessageHandlerAbstract||a.KioskedObject.extend(function(){return{construct:function(a){this.$super();this._options=m.mergeDefaults({name:"MessageHandlerAbstract"},a||{})},canHandleMessage:function(a){return!1},captures:function(){return!1},getOptions:function(){return this._options},handleMessage:function(a){}}}());a.PlacementContainer=a.PlacementContainer||a.AdComponentAbstract.extend(function(){function e(){a.tools.scope.enforceCaller(this,a.PlacementContainer,"Expected caller to be instance of PlacementContainer");
var b=this;this.getPlacement().subscribe("buildFailed",function(){a.destructors.destroyPlacementContainer(b)})}return{construct:function(b){this.$super();this._placement=b;this._inputManager=new a.PlacementInputManager;this._inputManager.setPlacement(b);e.call(this);this._firePageImpression()},destroy:function(){var b=this,c=a.tools.compatibility.bindFunction(this.$super,this);this._inputManager.destroy();this._inputManager=null;return this._placement.destroy().then(function(){b._placement=null;c()})},
getInputManager:function(){return this._inputManager},getPlacement:function(){return this._placement},isHealthy:function(){return this.getPlacement()&&this.getInputManager()?this.$super()&&this.getPlacement().isHealthy()&&this.getInputManager().isHealthy():!1},_firePageImpression:function(){var b=a.GrandCentralStationLocator.getGrandCentralStation();if(a.hasNot("firedPageImpression")){a.set("firedPageImpression");b.dispatch("timingEvent",{name:"firstMediaCreated"});var c=this.getPlacement().getSettings().getInt("ui.media.analytics.pageImpressionDelay",
1250),d=this.getPlacement().getOptions().kioskID;setTimeout(function(){if(a.hasNot("sentPageImpression")){a.set("sentPageImpression");var c=a.tools.environment.getAnalyticsPageData();c[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]="pageImpression";b.dispatch(a.Config.ANALYTICS_EVENT_NAME,c);b.dispatch("mediaPageImpression");b.dispatch("timingEvent",{name:"pageImpression",properties:{kioskID:d}})}},c)}}}}());a.VASTVideoAdAbstract=a.VASTVideoAdAbstract||a.AdComponentAbstract.extend(function(){return{construct:function(e){this.$super();
this._VASTResponseText=e;this._kioskID="000000";this._size={width:a.Config.BANNER_SIZE_STANDARDS.VIDEO.WIDTH,height:a.Config.BANNER_SIZE_STANDARDS.VIDEO.HEIGHT}},destroy:function(){this.$super()},getKioskID:function(){return this._kioskID},getSize:function(){return this._size},getVASTResponseText:function(){return this._VASTResponseText},initialise:function(){return Promise.resolve()},setKioskID:function(a){this._kioskID=a},setupInContainer:function(){},start:function(){},_adCompleted:function(){this.publish("adCompleted")},
_adErrored:function(){a.GrandCentralStationLocator.getGrandCentralStation().dispatch("videoFallback",{id:this.getKioskID()});a.publish("videoFallback",{id:this.getKioskID()});this.publish("adErrored")},_adLoaded:function(){this.publish("adLoaded")},_adStarted:function(){this.publish("adStarted")}}}());a.AdFillBanner=a.AdFillBanner||a.AdFillAbstract.extend(function(){return{construct:function(e,b){b=a.tools.mergeDefaults({name:"AdFillBanner",sourceURL:""},b);this.$super(e,b)},setup:function(e,b){var c=
this,d=this.getAnchor().getOptions().kioskID,f=function(){a.GrandCentralStationLocator.getGrandCentralStation().dispatch("timingEvent",{name:"bannerCreated",properties:{kioskID:d}});c.publish("waterfallTrickle",{waterfall:e})};return this.$super(e,b).then(function(){return c.createNewAdElement(e,b)}).then(function(b){var d=e.getCurrentStep();d?c.setProportions(d.proportions):a.tools.debug.warn("/AdFillBanner/","No step from waterfall");return b}).then(function(a){if(!a)throw new z("No ad element was created");
c._adElement=a;c._adElement.subscribe("adCompleted",function(){c.publish("adCompleted")});!0===c.getOptions().viewabilityEnabled&&0===e.getCurrentStepIndex()?(c._adElement.bundleApplicator(f),c.set("loaded")):(f(),c._adElement.applyInitialisation().then(function(){c.set("loaded")}));return c._adElement})},updateLayout:function(){this.$super();var a=this.getAdElement().getScalingElement();a&&(a.style.transformOrigin="0% 100%",a.style.msTransformOrigin="0% 100%",a.style.WebkitTransformOrigin="0% 100%",
a.style.OTransformOrigin="0% 100%",a.style.visibility="visible",a.style.display="block",a.style.position="absolute",a.style.bottom="0px",a.style.marginBottom="0px")}}}());a.GrandCentralStation=a.GrandCentralStation||a.EventDispatcher.extend(function(){function e(){m.scope.enforceCaller(this,a.GrandCentralStation,"Caller not instance of ITGS.GrandCentralStation");var b=this;this.addListener("mediaSettingsApplied",function(a){b._adMaximums=m.mergeDefaults(b._adMaximums,a.settings.getSubset("ui.sniff.maxProviderAds").getSettingsObject());
b._maxPlugins=m.mergeDefaults(b._maxPlugins,a.settings.getSubset("ui.media.maxPlugins").getSettingsObject())});this.addListener("BannerDestroyedForSizeRestriction",function(a){b._numPlugins.hasOwnProperty(a.type)&&0<b._numPlugins[a.type]&&(b._numPlugins[a.type]-=1)});this.subscribe("validContainer",function(a){b._validContainers+=1});this.subscribe("validInventory",function(a){b._validInventory+=1});this._windowMessageListener=function(a){b.processMessage(a)};window.addEventListener("message",this._windowMessageListener,
!1);this.addListener("bannerSlotProviderChanged",function(c){var d=c.from,e=c.to;m.debug.log("Banner provider changed from '"+d+"' to '"+e+"'");b._adCounts.hasOwnProperty(e)||(b._adCounts[e]=0);b._adCounts[e]+=1;m.isString(d)&&(b._adCounts[d]-=1);var d=b.getMaximumAdsForProvider(e),g=!0;0<=d&&b._adCounts[e]>d&&(m.debug.log("/GrandCentral/","Preventing provider: "+e),g=!1,a.GrandCentralStationLocator.getGrandCentralStation().dispatch("bannerProviderLimitBreached",{bannerSlot:c.bannerSlot,provider:e}));
g&&m.debug.log("/GrandCentral/","Allowing provider: "+e)});this.addListener("bannerSlotDestroyed",function(a){a.adProvider&&0<a.adProvider.length&&b._adCounts.hasOwnProperty(a.adProvider)&&(b._adCounts[a.adProvider]-=1,0>b._adCounts[a.adProvider]&&(b._adCounts[a.adProvider]=0))});this.addListener("shouldDestroy",function(b){a.sniffer&&a.sniffer.clearState(!1!==b.unmark)});this.addListener(a.Config.ANALYTICS_EVENT_NAME,function(a,d){b.getAnalyticsModule().processEvent(a,d)});this.addListener("timingEvent",
function(c){if(!a.tools.isset(c.name))throw Error("(Kiosked) No timing event name specified");c.properties=c.properties||{};c.time=c.time||a.tools.environment.getCurrentTimestamp();b.prepareTimingController().then(function(a){a.registerEvent(c.name,c.properties,c.time)})})}return{construct:function(b){b=b||{};this._options=m.mergeDefaults({name:"GrandCentralStation"},b);this.$super();this._adCounts={};this._adMaximums={};this._numPlugins={};this._maxPlugins={};this._validInventory=this._validContainers=
0;this._messageHandlers=["AppNexusMessageHandler","FallbackMessageHandler"];this._timingController=this._analyticsModule=null;m.scope.enforceCaller(this,a.GrandCentralStation,"Caller not instance of ITGS.GrandCentralStation");this._analyticsModule=new a.KioskedAnalytics;b=a.tools.environment.getDeviceType();a.tools.debug.log("/GrandCentralStation/","Recognised device: "+b);e.call(this)},destroy:function(){if("function"===typeof this._windowMessageListener)try{window.removeEventListener("message",
this._windowMessageListener,!1)}catch(a){}this.$super()},libraryInit:function(){a.Config.SAMPLE_RATE_RANDOM_CURRENT=Math.random();var b=m.overrideCall("GrandCentralStation.libraryInit");if(b)try{b()}catch(c){a.tools.debug.warn("/GrandCentralStation/","Library init failed:",c.message)}},getAnalyticsModule:function(){return this._analyticsModule},getEventHash:function(){var b=m.environment.getPageUrl(),b=a.SnifferUtilities.processPageURL(b),c=a.tools.environment.getPublisherID();return a.tools.environment.generateEventHash(c,
b)},getMaximumAdsForProvider:function(a){return this._adMaximums.hasOwnProperty(a)?this._adMaximums[a]:-1},getMaximumNumPluginsPerType:function(a){return this._maxPlugins.hasOwnProperty(a)?parseInt(this._maxPlugins[a]):-1},getValidContainers:function(){return this._validContainers},getValidInventory:function(){return this._validInventory},isPluginLimitReached:function(a){var c=this.getMaximumNumPluginsPerType(a);if(0>c)return!1;if(0===c)return!0;if(this._numPlugins.hasOwnProperty(a))return this._numPlugins[a]<
c?(this._numPlugins[a]+=1,!1):!0;this._numPlugins[a]=1;return!1},prepareTimingController:function(){var a=this;return new Promise(function(c){M("TimingReportController",function(d){null===a._timingController&&(a._timingController=new d);c(a._timingController)})})},processMessage:function(b){for(var c=this._messageHandlers.length,d=0;d<c;d+=1){var e=a.MessageHandlers[this._messageHandlers[d]];if(e){if(e=new e,e.canHandleMessage(b)&&(e.handleMessage(b),e.captures()))break}else a.tools.debug.warn("/GrandCentralStation/",
"Failed finding class for message handler: "+this._messageHandlers[d])}}}}());I("iow/IOWManager",["core/KioskedObject","iow/IOWProxy","iow/lib"],W(function(e,b){function c(b){b.subscribe("iowRender",function(b){if(b=a.PlacementContainerLocator.getPlacementContainerByID(b.kioskID))b=b.getPlacement().getWaterfallTrickleData(),b[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]="waterfallRender",a.GrandCentralStationLocator.getGrandCentralStation().dispatch(a.Config.ANALYTICS_EVENT_NAME,b);else throw new z("Failed finding placement container for IOW render event");
})}return{construct:function(){this.$super();this._proxy=null},getProxy:function(){null===this._proxy&&(this._proxy=new e,c(this._proxy));return this._proxy},getTagProvider:function(){return window[a.Config.IOW_TAGPROVIDER_GLOBAL_NAME]?window[a.Config.IOW_TAGPROVIDER_GLOBAL_NAME]:null},prepareLibrary:function(){return new Promise(function(c,e){b.isInitialised()?c():b.init(function(){c()},a.Config.IOW_GLOBAL_NAMESPACE,a.tools.environment.getIOWAdServerURL(),a.Config.IOW_AD_RESPONSE_CB,a.Config.IOW_AD_RESPONSE_SLOT_PREFIX,
a.Config.IOW_TAGPROVIDER_GLOBAL_NAME)||e("Unable to initialise IOW")})}}}));a.AdElement=a.AdElement||a.AdComponentAbstract.extend(function(){return{construct:function(e){this.$super();e=e||{};this._options=a.tools.mergeDefaults({kioskID:"",refreshEnabled:!0},e);this.addStatus("loaded");this._loadedTimeout=this._scalingElement=this._applicator=null},applyInitialisation:function(){if(!a.tools.isset(this.getApplicator()))return Promise.resolve();if(!a.tools.isset(this.getScalingElement()))throw new z("No scaling element set for AdElement");
var e=this.getApplicator()(),b=this;this._applicator=null;this._loadedTimeout=setTimeout(function(){b.isNot("loaded")&&(a.tools.debug.warn("/AdElement/","Never received load event from ad"),b.publish("neverLoaded"))},1E4);return e},bundleApplicator:function(a){var b=this.getApplicator();this._applicator=function(){a();return b()}},destroy:function(){a.tools.dom.destroy(this.getScalingElement());this._applicator=this._scalingElement=null;clearTimeout(this._loadedTimeout);this.$super()},getApplicator:function(){return this._applicator},
getOptions:function(){return this._options},getScalingElement:function(){return this._scalingElement},removeScaling:function(){var a=this.getScalingElement();a.style.WebkitTransform="none";a.style.MozTransform="none";a.style.msTransform="none";a.style.OTransform="none";a.style.transform="none"},scaleElement:function(a,b){var c=this.getScalingElement();c.style.setProperty("width",a.width+"px","important");c.style.setProperty("height",a.height+"px","important");c.style.WebkitTransform="scale("+b+")";
c.style.MozTransform="scale("+b+")";c.style.msTransform="scale("+b+")";c.style.OTransform="scale("+b+")";c.style.transform="scale("+b+")"},setApplicator:function(a){this._applicator=a},setScalingElement:function(e){this._scalingElement=e;e=this.getOptions().zIndex;this._scalingElement.style.zIndex=!1!==e&&"auto"!==e?this.getOptions().zIndex:a.Config.BANNER_AD_Z_INDEX},waitForLoad:function(){var a=this;return new Promise(function(b,c){var d=setInterval(function(){a?a.is("loaded")&&(clearInterval(d),
b()):(clearInterval(d),c())},100)})}}}());a.Sniffing.SearchNode=a.Sniffing.SearchNode||a.KioskedObject.extend(function(){return{construct:function(e,b){this.$super();b=b||{};this._options=m.mergeDefaults({name:"SearchNode",hashAttribute:"",root:!1},b);this._context=e;if(!0!==this._context instanceof a.Sniffing.SearchContext)throw new z("Expected context to be of type SearchContext");this._children=[];this._elementCount=0;var c=this.getContext().getSettings().get("ui.sniff.customElementSelector",!1);
this._customSelectors=c?c.split(","):[]},destroy:function(){try{this.getContext().destroy()}catch(a){}this.forEachChild(function(a){a.destroy()});this.$super()},addChild:function(e){if(!(e instanceof a.Sniffing.SearchNode))throw Error("Cannot add child search node: incorrect type or class");this._children.push(e)},applySelectorFilter:function(e){return e+=':not(*[class*="'+a.Config.SNIFFER_BLOCK_PARAM+'"] '+e+'):not(*[class*="'+a.Config.SNIFFER_BLOCK_PARAM+'"]):not(*[src*="'+a.Config.SNIFFER_BLOCK_PARAM+
'"])'},filterItemByBlockedAttributes:function(a){a=a.element;var b=this.getOptions();return a.hasAttribute(b.hashAttribute)?!1:!0},filterTemporarilyBlockedItem:function(e){e=e.element;var b=this.getItemsThatBlockSniffing(),c=b.length;if(0<c)for(var d=0;d<c;d+=1)if(b[d]===e||a.tools.dom.isDescendant(b[d],e))return!1;return!0},forEachChild:function(e){var b=this.getChildren(),c=b.length;if("function"!==typeof e)throw new a.Exceptions.InvalidTypeException("function",typeof e,this);for(var d=0;d<c;d+=
1)e(b[d])},forEachNode:function(a){a(this);this.forEachChild(a)},formQueryString:function(a,b){for(var c="",d=b.length,f=a.length,g=0;g<d;g+=1){for(var k=b[g],c=c+this.applySelectorFilter(k),h=0;h<f;h+=1)c+=":not("+a[h]+" "+k+")";g<d-1&&(c+=", ")}return c},getChildren:function(){return this._children},getContext:function(){return this._context},getCustomSelectors:function(){return this._customSelectors},getElementCount:function(){return this._elementCount},getItemsThatBlockSniffing:function(){var a=
this.getContext().getSettings().get("ui.sniff.delayKiosksInElements",!1);if(!1!==a){for(var a=a.split(","),b=[],c=0;c<a.length;c+=1)for(var d=m.dom.query(a[c]),f=d.length,g=0;g<f;g+=1)b.push(d[g]);return b}return[]},getOptions:function(){return this._options},getSelectionMode:function(){return this.getContext().getSettings().get("ui.sniff.selectionMode","search")},getSelectors:function(){return["img"]},isRoot:function(){return!0===this.getOptions().root},prepareChain:function(){var a=this.getContext().getContextSelectors(),
b=this.getContext().getChildContextSelectors(),c=this.getSelectors(),d=this.getCustomSelectors();return Promise.resolve({elements:[],parentSelectors:a,subParentSelectors:b,selectors:c,customSelectors:d})},wrapElement:function(e){return{element:e,firstSniff:!0,node:this,context:this.getContext(),searchMode:a.Config.ELEMENT_SEARCH_MODE.SEARCH,selectionMode:a.Config.ELEMENT_SELECTION_MODE.NORMAL}},_incrementElementCount:function(a){return this._elementCount+=0<=a?a:1}}}());a.tools.dom=a.tools.dom||function(){var e=
"";return{addEvent:function(b,c,d){if(b instanceof HTMLElement||a.tools.dom.isWindow(b)){b.addEventListener(c,d,!1);var e={remove:function(){a.tools.dom.removeEvent(b,c,d);delete e.remove}};return e}throw new z("Parameter not an instance of HTMLElement");},addEvents:function(b,c,d){var e=[];c.split(" ").forEach(function(c){e.push(a.tools.dom.addEvent(b,c,d))});return e},calculateRTBPosition:function(b,c,d){b=b.top;var e=a.tools.getWindowSize().height;return d?a.Config.RTB_POS.ABOVE_FOLD:b-c*a.Config.RTB_PERCENTAGE_ATF<
e?a.Config.RTB_POS.ABOVE_FOLD:a.Config.RTB_POS.BELOW_FOLD},destroy:function(a){if(a instanceof HTMLElement){var c=a.parentNode;c&&c.removeChild(a)}},DOMIsReady:function(){return!/in/.test(document.readyState)},getAbsoluteOffsetRect:function(a){a=a.getBoundingClientRect();var c=document.body,d=document.documentElement,e=a.left+(window.pageXOffset||d.scrollLeft||c.scrollLeft)-(d.clientLeft||c.clientLeft||0);return{top:Math.round(a.top+(window.pageYOffset||d.scrollTop||c.scrollTop)-(d.clientTop||c.clientTop||
0)),left:Math.round(e)}},getAllElementsOfType:function(a){return Array.prototype.slice.call(document.getElementsByTagName(a))},getBorderSizing:function(a){var c=document.defaultView.getComputedStyle(a,"");a=parseInt(c.borderLeftWidth,10);var d=parseInt(c.borderRightWidth,10),e=parseInt(c.borderTopWidth,10),g=parseInt(c.borderBottomWidth,10),k=parseInt(c.paddingLeft,10),h=parseInt(c.paddingRight,10),l=parseInt(c.paddingTop,10),n=parseInt(c.paddingBottom,10),u=parseInt(c.marginLeft,10),m=parseInt(c.marginRight,
10),x=parseInt(c.marginTop,10),c=parseInt(c.marginBottom,10);return{border:{left:a,right:d,top:e,bottom:g},margin:{left:u,right:m,top:x,bottom:c},padding:{left:k,right:h,top:l,bottom:n}}},getElementsWithAttributes:function(b,c){return a.tools.dom.getAllElementsOfType(b).filter(function(a){for(var b in c)if(c.hasOwnProperty(b)){var e=0>=c[b].length;if(e&&!a.hasAttribute(b)||!e&&a.getAttribute(b)!==c[b])return!1}return!0})},getFirstImage:function(a,c){m.array.isArray(c)&&2===c.length||(c=[0,0]);var d=
c[0],e=c[1];if(a instanceof HTMLImageElement&&a.clientWidth>=d&&a.clientHeight>=e)return a;var g=a.getElementsByTagName("img"),k=g.length;if(0<k)for(var h=0;h<k;h+=1){var l=g[h];if(l.clientWidth>=d&&l.clientHeight>=e)return g[h]}return null},getImageSource:function(a){if(a instanceof HTMLImageElement){if(a.src)return a.src;if(a.srcset)return a.srcset}return""},getIntersection:function(b,c){var d=a.tools.dom.getScreenPosition(b),e=a.tools.dom.getScreenPosition(c),g={left:a.tools.getRange(d.left,e.left),
top:a.tools.getRange(d.top,e.top),right:a.tools.getRange(e.left+e.width,d.left+d.width),bottom:a.tools.getRange(e.top+e.height,d.top+d.height)},k=Math.max(0,Math.min(d.left+d.width,e.left+e.width)-Math.max(d.left,e.left)),h=Math.max(0,Math.min(d.top+d.height,e.top+e.height)-Math.max(d.top,e.top)),l=k*h,n={a:d.width*d.height,b:e.width*e.height};return{area:n,cuts:0>g.left||0>g.right||0>g.top||0>g.bottom,difference:g,excluded:{a:n.a-l,b:n.b-l},intersect:{width:k,height:h},screen:{a:d,b:e}}},getMetaKeywords:function(){if(0<
e.length)return e;var b=a.tools.dom.query("meta[name=keywords]"),c=a.Config.META_MAX_KEYWORDS;if(0<b.length){for(var b=b[0].getAttribute("content")||"",b=b.split(",",c),c=b.length,d=0;d<c;d+=1)b[d]=a.tools.trim(b[d]);e=b.join(",")}return e},getNavigationPerfTimingValue:function(b){if(a.tools.environment.navigationTimingSupported())try{var c="undefined"!==typeof window.performance.timing[b]?parseInt(window.performance.timing[b],10):-1;if(0<c)return c}catch(d){a.tools.debug.error("Performance event request failed: "+
b)}return!1},getResourceEntryByRegex:function(b){if(a.tools.environment.resourcePerfSupported())try{return window.performance.getEntriesByType("resource").filter(function(a){return b.test(a.name)})}catch(c){a.tools.debug.error("Resource performance request failed: "+b)}return!1},getPlainText:function(a,c){c=c||["script","style"];var d=a.cloneNode(!0);d.innerHTML=d.innerHTML.replace(/<br>/g,"\n");return m.trim(function g(a){var b="";if(a.tagName&&0<=c.indexOf(a.tagName.toLowerCase()))return b;a.nodeType&&
3===a.nodeType&&(b+=a.nodeValue.replace(/\t/g," ").replace(/\n/g," ").replace(/[ ]{2,}/g," "));if(a.childNodes){var d=a.childNodes.length;if(0<d)for(var e=0;e<d;e+=1)b+=g(a.childNodes[e])}return b}(d))},getScreenPosition:function(a){var c={top:0,left:0,width:0,height:0};a&&a.ownerDocument&&a.getBoundingClientRect&&(c=a.getBoundingClientRect());return c},getWindow:function(b){a.windowObj=a.windowObj?a.windowObj:m.dom.isWindow(b)?b:!1;if(!1===a.windowObj)if(b=Object.getPrototypeOf(b)===document.constructor.prototype?
b:b.ownerDocument)a.windowObj=b.defaultView||b.parentWindow;else return!1;return a.windowObj},imageHasLoaded:function(a){if(!(a instanceof HTMLImageElement))throw Error("Expected image type");return!a.complete||"undefined"!==typeof a.naturalWidth&&0===a.naturalWidth?!1:!0},isDescendant:function(a,c){for(var d=c.parentNode;null!==d;){if(d===a)return!0;d=d.parentNode}return!1},isElement:function(a){return"object"===typeof HTMLElement||"function"===typeof HTMLElement?a instanceof HTMLElement:a&&"object"===
typeof a&&null!==a&&1===a.nodeType&&"string"===typeof a.nodeName},isElementInDocument:function(a){for(;a!==document&&a.parentNode;)a=a.parentNode;return a===document},isVideoElement:function(a){var c=!1;window.HTMLVideoElement&&(c=a instanceof window.HTMLVideoElement);c||(c=a.tagName?"video"===a.tagName.toLowerCase():!1);return c},isWindow:function(a){a=Object.prototype.toString.call(a);return"[object global]"===a||"[object Window]"===a||"[object DOMWindow]"===a},mouseIsOutside:function(a,c){for(var d=
a.relatedTarget||a.toElement||a.fromElement;d&&d!==c;)d=d.parentNode;return d!==c},nodeIdentifier:function(a){var c={getElement:function(){return a},isHTMLElement:function(){return a instanceof HTMLElement},isIFrame:function(){return a instanceof HTMLIFrameElement},isImage:function(){return a instanceof HTMLImageElement},isVideo:function(){return m.dom.isVideoElement(a)},isYoutubeContainer:function(){return c.isIFrame()&&(-1<a.src.indexOf("youtube.com")||-1<a.src.indexOf("youtu.be"))?!0:!1},nextElementOfType:function(c){var e;
for(e=a;e=e.nextSibling;)if(e instanceof c)return e;return null},previousElementOfType:function(c){var e;for(e=a;e=e.previousSibling;)if(e instanceof c)return e;return null}};return c},onDOMReady:function(b){var c,d=function(){return a.tools.dom.DOMIsReady()?(clearInterval(c),b(),!0):!1};d()||(c=setInterval(d,100))},reloadScriptsInNode:function(b){var c=[];[].forEach.call(b.querySelectorAll("script"),function(b){c.push(new Promise(function(c,e){var k=document.createElement("script");k.setAttribute("type",
"text/javascript");b.src&&0<b.src.length?(k.onload=c,k.onerror=function(a){e("Failed reloading script: "+b.src+" ("+a.message+")")},k.src=b.src):(k.innerHTML=b.innerHTML,setImmediate(c));k.id=b.id||"";var h=b.nextSibling,l=b.parentNode;a.tools.dom.destroy(b);l.insertBefore(k,h)}))});return Promise.all(c)},removeEvent:function(b,c,d){if(b instanceof HTMLElement||a.tools.dom.isWindow(b))b.removeEventListener(c,d,!1);else throw new z("Parameter not an instance of HTMLElement");},triggerEvent:function(a,
c){var d=document;d.createEvent?("click"===c?(d=d.createEvent("MouseEvents"),d.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null)):d=new Event(c),a.dispatchEvent(d)):(d=d.createEventObject(),a.fireEvent("on"+c,d))},xPath:{forEachElement:function(a,c,d){d=d||document;c=c||function(a){};for(a=document.evaluate(a,d,null,XPathResult.ANY_TYPE,null);d=a.iterateNext();)c(d)},getElement:function(a,c){c=c||document;var d=document.evaluate(a,c,null,XPathResult.ANY_TYPE,null).iterateNext();return d?
d:null},getElements:function(a,c){var d=[];c=c||document;for(var e=document.evaluate(a,c,null,XPathResult.ANY_TYPE,null),g;g=e.iterateNext();)d.push(g);return d}}}}();I("Script",["core/KioskedObject"],W(function(){return{construct:function(a,b){this.$super();b=b||{};this._element=a;this._fromCache=b.hasOwnProperty("fromCache")?b.fromCache:!1},destroy:function(){this.$super()},getElement:function(){return this._element},getSource:function(){return this._element.getAttribute("src")},getQueryParameters:function(){var e=
this.getSource();return(new a.URLParser(e)).getQueryParameters()},isFromCache:function(){return this._fromCache}}}));a.Sniffing.SearchContextsAdapter=a.Sniffing.SearchContextsAdapter||a.KioskedObject.extend(function(){function e(b,c){m.scope.enforceCaller(this,a.Sniffing.SearchContextsAdapter,"Expected caller to be instance of SearchContextsAdapter");b=this.filterDuplicateSettings(b);for(var d=b.length,f=0,g=0;g<d;g+=1){var k=b[g],h=a.tools.isset(k.cssSelector)?k.cssSelector:"",l="";if(0<h.length){for(var l=
c.getContextSelectors(),n=l.length,u=[],h=h.split(","),A=h.length,x=0;x<n;x+=1)for(var p=0;p<A;p+=1)u.push(l[x]+" "+h[p]);l=u.join(", ")}l=new a.Sniffing.SearchContext({contextSelector:a.tools.trim(l),parentContextElement:c,settings:k.properties||[]});k.hasOwnProperty("childConditions")&&(f+=e.call(this,k.childConditions,l));c.addChildContext(l);f+=1}return f}return{construct:function(b){this.$super();b=a.tools.deepClone(b)||{};this._rootContext=new a.Sniffing.SearchContext({name:"SearchContextMaster",
contextSelector:"",contextEnabled:!0,parentContextElement:null});this._baseSettingsContext=null;var c=this._rawSettings=b;b.settings?(b=b.settings,b.push({conditionId:null,cssSelector:"#kskdFooter",properties:[{key:"ui.media.overridePlugins",value:"FloorBannerSlot"},{key:"ui.sniff.selectionMode",value:"select"}]}),b.push({conditionId:null,cssSelector:"#kskdInterstitial",properties:[{key:"ui.media.overridePlugins",value:"Interstitial"},{key:"ui.sniff.selectionMode",value:"select"}]}),b.push({conditionId:null,
cssSelector:"#kskdInScroll",properties:[{key:"ui.media.overridePlugins",value:"InScroll"},{key:"ui.sniff.selectionMode",value:"select"}]})):b=[];c.settings=b;c=this._rawSettings;b=this._rawSettings.settings;var d=this._rootContext;m.scope.enforceCaller(this,a.Sniffing.SearchContextsAdapter,"Expected caller to be instance of SearchContextsAdapter");for(var f=[],g=b.length-1;0<=g;g-=1)0>=(a.tools.isset(b[g].cssSelector)?b[g].cssSelector:"").length&&(f=f.concat(b[g].properties),b.splice(g,1));this._baseSettingsContext=
new a.Sniffing.SearchContext({contextSelector:"",contextEnabled:!0,parentContextElement:d,settings:f});d.setSettings(d.getSettings().mergeSettings(this._baseSettingsContext.getSettings(),!1));d.detectStatus();c.settings=b;c=e.call(this,this._rawSettings.settings,this._rootContext);a.tools.debug.log("/SearchContextsAdapter/",""+(c+1)+" search contexts created")},destroy:function(){delete this._rawSettings;this.$super()},filterDuplicateSettings:function(a){for(var c=[],d={},e=a.length,g=0;g<e;g+=1){var k=
a[g],h=k.cssSelector&&0<k.cssSelector.length?k.cssSelector:"-";k.childConditions=k.childConditions||[];k.properties=k.properties||[];d.hasOwnProperty(h)?(d[h].childConditions=d[h].childConditions.concat(k.childConditions),d[h].properties=d[h].properties.concat(k.properties)):d[h]=k}for(var l in d)d.hasOwnProperty(l)&&c.push(d[l]);return c},getBaseSettingsContext:function(){return this._baseSettingsContext},getRootContext:function(){return this._rootContext}}}());var E=[];M(["init/placeholders","init/overriding",
"sniffing/SnifferController","ScriptLocator","Script"],function(e,b,c,d,f){function g(b){var c=new a.SettingsDeviceFilter(b.settings);b.settings=c.getMergedSettingsForCurrentDevice();c=new a.Sniffing.SettingsLayoutAdapter(a.tools.deepClone(b.settings));b.settings=c.getSettingsInNewLayout();return b}function k(){var b=new d;b.setPrefersFirst(!1);var c=b.locateScriptWithURLMatch(/(kiosked|intags|localhost).+?(\/loader\/|kiosked-cfe\.js).+?site=[0-9]+/i),g=!1,h={};a.loadedScript=!1;!1===c&&(c=b.locateScriptWithURLMatch(/(intags\.com|kiosked\.com)(\/sniffer\/get-script\/|\/widget\/sniff\/sign\/)(.*?)albumid\/[0-9]+/i),
g=!0);!0===c instanceof f?(a.loadedScript=c.getSource(),h=g?a.tools.encoding.getOldFormatURLDetails(c.getSource()):c.getQueryParameters()):a.tools.debug.warn("/Init/","No script tag was found");return{environment:h.env||e.getClientDataset("environment","production"),publisherID:e.getClientDataset("publisherID",h.pub||0),siteID:e.getClientDataset("siteID",h.site||0)}}if(!0===window.disableITGS)a.tools.debug.warn("/Init/","Loading cancelled.");else{var h=a.GrandCentralStationLocator.getGrandCentralStation(),
l=e.getClientDataset("domain",""),n=k();console.log("%cKiosked%c - %s","background: #219bb6; color: #FFF; font-weight: bold; padding: 3px","",a.Config.VERSION);var u=a.tools.environment.getCurrentTimestamp();h.prepareTimingController().then(function(b){"number"===typeof a.startLibraryTime&&b.registerEvent("startStaticLib",{},a.startLibraryTime);b.registerEvent("libLoad",{},u)});a.tools.environment.setContext(n.environment);a.tools.environment.setPublisherID(n.publisherID);a.tools.environment.setDataEndpoint(l);
l=a.tools.environment.getPageUrl();h.libraryInit();h=e.getClientDataset("settings",{settings:{settingsTree:{}}});h.settings=a.flattenSettings(h.settings,l,n.publisherID);h=g(h);h=new a.Sniffing.SearchContextsAdapter(h);a.overrideFunctions=b.getOverrideFunctions(h.getBaseSettingsContext().getSettings());(a.tools.overrideCall("GrandCentralStation.libraryInit")||function(){})();b=new c({countryCode:e.getClientDataset("countryCode","00"),publisherID:n.publisherID,siteID:n.siteID},h);a.SnifferControllerLocator.setSnifferController(b);
b.setAdZoneTemplates(a.AdZoneTemplate.extractFromData(e.getClientDataset("adZoneTemplate",[])));"development"!==n.environment&&(b.start(),a.tools.debug.log("/Init/","Sniffer started"));if("function"===typeof window.ITGSonload)try{window.ITGSonload(),window.ITGSonload=null,delete window.ITGSonload}catch(m){a.tools.debug.warn("/Init/","Library onload failed:",m.message)}}});a.stylesheets=a.stylesheets||{};a.URLParser=a.URLParser||a.KioskedObject.extend(function(){var a=/#[-_a-zA-Z0-9.%]+$/,b=/^[-_a-zA-Z0-9:/\.@%+~|]+/,
c=/\?[-_a-zA-Z0-9=&.+|~"{}^\[\]%;]+/;return{construct:function(a){this._originalURL=a},getFragment:function(){var b;(b=this._matchedFragment)||(b=this.matchRegularExpression(this.getOriginalURL(),a).replace("#",""));return this._matchedFragment=b},getOriginalURL:function(){return this._originalURL},getPath:function(){return this._matchedPath=this._matchedPath||this.matchRegularExpression(this._originalURL,b)},getQuery:function(){var a;(a=this._matchedQuery)||(a=this.matchRegularExpression(this.getOriginalURL(),
c).substring(1));return this._matchedQuery=a},getQueryParameters:function(){var a=this.getQuery(),a=a.replace("&amp;","__AMPERSAND_PLACEHOLDER__"),a=a.split("&"),b={};if(0<a.length)for(var c=0;c<a.length;c+=1){var e=a[c].replace("__AMPERSAND_PLACEHOLDER__","&amp;").split("=");2===e.length&&(b[e[0]]=e[1])}return b},matchRegularExpression:function(a,b){var c=a.match(b);return c?m.array.isArray(c)?c[0]:c:""}}}());I("UnloadManager",function(){var a=function(){var a=this;this._regularDestructors=[];this._priorityShutdownHandlers=
[];this._beforeUnloadHandler=function(){a.shutdown()};window.addEventListener("beforeunload",this._beforeUnloadHandler,!1)};a.prototype.destroy=function(){window.removeEventListener("beforeunload",this._beforeUnloadHandler,!1)};a.prototype.registerShutdownHandler=function(b,c){c&&c!==a.PRIORITY_LOW?this._priorityShutdownHandlers.push(b):this._regularDestructors.push(b)};a.prototype.shutdown=function(){for(var a=this._priorityShutdownHandlers.concat(this._regularDestructors),c=a.length,d=0;d<c;d+=
1)try{a[d]()}catch(e){console.warn("(Kiosked) Failed executing destructor: ",a[d])}this._regularDestructors=[];this._priorityShutdownHandlers=[]};a.PRIORITY_HIGH=100;a.PRIORITY_LOW=110;return a});a.Config=a.Config||{ANALYTICS_EVENT_NAME:"kioskedAnalytics",ANALYTICS_EVENT_NAME_PROPERTY:"name",ANALYTICS_MODULE_LOG_NAME:"KioskedAnalytics",ANALYTICS_SAMPLERATE_IMMUNE_EVENTS:["pageDataInvalid"],ANALYTICS_TARGET_DOMAIN_PRODUCTION:"//events.kiosked.com/u",ANALYTICS_TARGET_DOMAIN_STAGING:"//events.intags.com/u",
BANNER_AD_Z_INDEX:10,BANNER_ANIMATION_SPEED_IN:600,BANNER_ANIMATION_SPEED_OUT:600,BANNER_CLASS_NAMES:"BannerSlotAbstract BannerSlot ExternalBannerSlot FloorBannerSlot ExpandableBannerSlot ExpandableBannerLightBoxSlot VastPreroll".split(" "),BANNER_COMPONENT_LOAD_STATUS:{BUILT:500,BUILT_AND_LOADED:501},BANNER_DISCLAIMER:{HEIGHT_DESKTOP:18,HEIGHT_MOBILE:20},BANNER_SIZE_STANDARDS:{HORIZONTAL:{WIDTH:728,HEIGHT:90},HORIZONTAL_SMALL:{WIDTH:468,HEIGHT:60},VERTICAL:{WIDTH:160,HEIGHT:600},MOBILE:{WIDTH:320,
HEIGHT:50},MEDIUM_RECT:{WIDTH:300,HEIGHT:250},VIDEO:{WIDTH:640,HEIGHT:360},INTERSTITIAL:{WIDTH:320,HEIGHT:480}},BANNER_VIS_FRAME_Z_INDEX:5,BANNER_VIS_UPDATE_INTERVAL:400,CACHE:{ZONE_RESPONSE:!1},COUNTRY_CODE_UNKNOWN:"00",DFP_ELEMENT_PLACEMENT_ID_ATTR:"kskd-dfp-placement",DISCLAIMER_DEFAULT_LINK:"http://page.kiosked.com/who-served-this-ad",DISCLAIMER_DELAY_MAX:8E3,ELEMENT_SEARCH_MODE:{SEARCH:"search",SELECT:"select"},ELEMENT_SELECTION_MODE:{NORMAL:"normal",CUSTOM:"custom"},FIXED_BANNER_DIV_CLASS:"kskdFixedBannerContainer",
FIXED_BANNER_Z_INDEX:2147483640,FLASH_PLAYER_LOCATION:"//resources.kiosked.com/swf/KskdAdPlayer-0.1.4.swf",INTERSTITIAL_CLOSING:3,INSCROLL_DISMISS_TRESHOLD:75,INSCROLL_DISMISS_POSSIBLE:500,INSCROLL_TRICKERY_CONTENT:2E4,IOW_AD_RESPONSE_CB:"_kskd_ad_response",IOW_AD_RESPONSE_SLOT_PREFIX:"kskd_slot_",IOW_AD_SERVER:{PRODUCTION:"//ads.kiosked.com/ad",DEVELOPMENT:"//adserving-dev.kiosked.iponweb.net/ad"},IOW_GLOBAL_NAMESPACE:"KRTB",IOW_TAGPROVIDER_GLOBAL_NAME:"KRTBTagProvider",KIOSKED_AD_ELEMENT_ID_ATTRIBUTE:"kskd-ad-id",
LIGHTBOX_DIV_CLASS:"kskdLightBoxContainer",META_MAX_KEYWORDS:10,OPERATING_SYSTEM:{UNKNOWN:"unknown",WINDOWS:"win",MAC_OS:"mac",LINUX:"linux"},PERFORMANCE_RESOURCES_PROPS:"redirectStart redirectEnd domainLookupStart domainLookupEnd connectStart connectEnd secureConnectionStart requestStart responseStart responseEnd duration fetchStart initiatorType name startTime".split(" "),PLACEMENT_ANCHOR_TYPE:{BOX:"box",STUB:"stub",LAUNCHPAD:"launchpad",INTERSTITIAL:"interstitial",IN_SCROLL:"in-scroll"},PLACEMENT_INPUT_MGR_INTERVAL:400,
PLACEMENT_TYPE:{UNDEFINED:"",IN_MEDIA:"in-media",IN_LINE:"in-line",IN_SCREEN:"in-screen",IN_SCROLL:"in-scroll",INTERSTITIAL:"interstitial"},RTB_PERCENTAGE_ATF:.5,RTB_POS:{UNKNOWN:0,ABOVE_FOLD:1,BELOW_FOLD:3},SAMPLE_RATE_PAGE_IMP:.1,SAMPLE_RATE_CONTAINER_IMP:.1,SAMPLE_RATE_CONTAINER_OPP:.1,SAMPLE_RATE_PAGE_TIMINGS:.1,SAMPLE_RATE_SEND_ALL:1,SAMPLE_RATE_WATERFALL:.1,SETTINGS_AB_TEST_OVERRIDE_NONE:0,SETTINGS_AB_TEST_OVERRIDE_FAIL:1,SETTINGS_AB_TEST_OVERRIDE_PARTIAL:2,SETTINGS_AB_TEST_OVERRIDE_FULL:3,
SETTINGS_CONDITION_VALUE:{DEFAULT:"default",ACCOUNT:"account",URI:"URI",ZONE:"zone",CSS_SELECTOR:"css-selector"},SETTINGS_DEVICE_TARGET:{ANY:0,DESKTOP:1,MOBILE:2,TABLET:3},SNIFFER_BLOCK_PARAM:"kskd-disable",SNIFFER_ELEMENT_QUEUE_DELAY:500,SNIFFER_INTERVAL:500,SNIFFER_MAX_ELEMENTS_PER_CYCLE:15,SNIFFER_MAX_ELEMENTS_PER_CYCLE_STEADY:5,SAMPLE_RATE_RANDOM_CURRENT:1,VAST_VIDEO_FORMAT_UNKNOWN:0,VAST_VIDEO_FORMAT_FLASH:1,VAST_VIDEO_FORMAT_HTML5:2,VERSION:"3.4.3",WATERFALL_RULE_FILTER:{DEVICE:"device_family",
LOCATION:"location",OS:"os",URI:"uri"},ZONE_DATA_URL_SUFFIX:"/ssp/zone-data",ZONE_REPORT_URL_SUFFIX:"/matching-report/report"};a.Factories=a.Factories||{};a.MessageHandlers.FallbackMessageHandler=a.MessageHandlers.FallbackMessageHandler||a.MessageHandlers.MessageHandlerAbstract.extend(function(){function e(b){return a.tools.scope.hasOwnProperties(b,["data","origin","source"],function(a,b){return a[b]&&!0})}return{construct:function(a){this.$super();this._options=m.mergeDefaults({name:"FallbackMessageHandler",
messageSource:null},a||{})},canHandleMessage:function(a){return e(a)&&"string"===typeof a.data?!0===/^kiosked_window_message:\{(.*)+$/.test(a.data):!1},handleMessage:function(b){var c=b.data,c=c.replace("kiosked_window_message:",""),d=!1;try{d=JSON.parse(c)}catch(e){a.tools.debug.warn("/FallbackMessageHandler/","Received bad message:",e,b)}!1!==d&&this.processMessageObject(d)},processMessageObject:function(b){var c=a.GrandCentralStationLocator.getGrandCentralStation();if(b.hasOwnProperty("name")){var d=
b.containerID||"";"fallback_list"===b.name?c.publish("networkFallbacksReceived",{zones:b.fallback_list||[],frame_urls:b.window_chain||[],container_id:d},!1):"fallback_initiated"===b.name?(d={fallback:!0,frame_urls:b.window_chain||[],container_id:d},b.dfpFrame&&(d.dfpFrame=b.dfpFrame),c.publish("networkFallbackInitiated",d)):"kiosked_ad_expand"===b.name&&c.dispatch("kiosked_ad_expand",b)}else m.debug.error("No name for event:",b)}}}());a.MessageHandlers.AppNexusMessageHandler=a.MessageHandlers.AppNexusMessageHandler||
a.MessageHandlers.MessageHandlerAbstract.extend(function(){function e(b){return a.tools.scope.hasOwnProperties(b,["data","origin","source"],function(a,b){return a[b]&&!0})}return{construct:function(a){this.$super();this._options=m.mergeDefaults({name:"AppNexusMessageHandler",messageSource:null},a||{})},canHandleMessage:function(a){return e(a)&&"string"===typeof a.data?!0===/^kskd_window_message:\{(.*)+$/.test(a.data):!1},handleMessage:function(a){var c=a.data,c=c.replace("kskd_window_message:",""),
d=!1;try{d=JSON.parse(c)}catch(e){m.debug.warn("/AppNexusMessageHandler/","Received bad message:",e,a)}!1!==d&&this.processMessageObject(d)},processMessageObject:function(b){var c=this.getOptions(),d=a.GrandCentralStationLocator.getGrandCentralStation();b.hasOwnProperty("name")?"ping"===b.name?c.messageSource instanceof a.MessageSources.FrameMessageSource&&c.messageSource.sendMessage({name:"ping_response"}):"fallback_list"===b.name?d.publish("appNexusFallbacksReceived",{zones:b.appnexus_fallback_list||
[],frame_urls:b.window_chain||[]},!1):"fallback_initiated"===b.name?(c={fallback:!0,frame_urls:b.window_chain||[]},b.dfpFrame&&(c.dfpFrame=b.dfpFrame),d.publish("appNexusFallbackInitiated",c)):"kiosked_ad_expand"===b.name&&d.dispatch("kiosked_ad_expand",b):m.debug.error("No name for event:",b)}}}());a.tools.dom.cutting=a.tools.dom.cutting||function(){var e=["search","exact"];return{isValidElement:function(a){return a?a instanceof HTMLElement&&a!==document:!1},locateParentElement:function c(d,f,g,
k){g=g||"exact";k=k||0;if("auto"===f)return c(d,10,"search",0);if(0>e.indexOf(g))throw new z("Unsupported 'mode': "+g);f=parseInt(f,10);var h=d.parentNode;if("exact"===g)return a.tools.dom.cutting.isValidElement(h)&&0<f?c(h,f-1,g,k+1):0<k?d:null;if("search"===g&&a.tools.dom.cutting.isValidElement(h)){g=null;k=0;for(var l;0<f&&a.tools.dom.cutting.isValidElement(h);)f-=1,l=document.defaultView.getComputedStyle(h,null).overflow,"hidden"===l&&(l=a.tools.dom.getIntersection(h,d),l.cuts&&l.excluded.b>k&&
(k=l.excluded.b,g=h)),h=h.parentNode;return g}return null}}}();I("locators/UnloadManagerLocator",["UnloadManager"],function(a){var b;return{getUnloadManager:function(){b||(b=new a);return b},setUnloadManager:function(a){b=a}}});(function(){a.SnifferControllerLocator=a.SnifferControllerLocator||{getSnifferController:function(){return a.hasOwnProperty("snifferController")?a.snifferController:null},setSnifferController:function(e){a.snifferController=e}}})();(function(){a.PlacementContainerLocator=a.PlacementContainerLocator||
{getPlacementContainerByID:function(a){for(var b=0,c=E.length;b<c;b+=1)if(E[b].getPlacement().getOptions().kioskID===a)return E[b];return!1}}})();(function(a){a.bulletLang={filter:function(a,c){return this.runFilter(a,this.parseFilter(c))},parseFilter:function(a){for(var c=/(([a-zA-Z]+)(\(([^\)]+)\))?)/g,d=[],e;null!==(e=c.exec(a));)d.push({name:e[2],args:e[4]?e[4].split(/,/):[]});return d},runFilter:function(a,c){for(var d=a.length,e=[],g=0;g<d;g+=1)for(var k=0;k<c.length;k+=1)if(this.filterMatches(g,
d,c[k].name,c[k].args)){e.push(a[g]);break}return e},filterMatches:function(a,c,d,e){a=[a.toString(),c.toString()].concat(e).map(function(a){return parseInt(a,10)});return this.filters[d].apply(this,a)},filters:{every:function(a,c,d,e){e=e||1;c=a+=1;return c>=e&&0===(a-e+1)%d},first:function(a){return 0===a},last:function(a,c){return a+1===c},nth:function(){for(var a=arguments[0],c=Array.prototype.slice.call(arguments,2),d=0;d<=c.length;d+=1)if(c.hasOwnProperty(d)&&c[d]===a+1)return!0;return!1}}}})(a.tools);
I("locators/IOWManagerLocator",["iow/IOWManager"],function(a){var b;return{getIOWManager:function(){b||(b=new a);return b},setIOWManager:function(a){b=a}}});(function(){var e;a.GrandCentralStationLocator=a.GrandCentralStationLocator||{getGrandCentralStation:function(){e||(e=new a.GrandCentralStation);return e},setGrandCentralStation:function(a){e=a}}})();a.tools.array=a.tools.array||function(){return{createSorter:{forObjectNumberProperty:function(a){return function(b,c){var d=parseInt(b[a],10),f=
parseInt(c[a],10);return d>f?1:f>d?-1:0}}},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)}}}();a.IOWResponse=a.IOWResponse||a.KioskedObject.extend(function(){return{construct:function(a){this.$super();this._data=a;this._data.data=(this._data.data||"").trim()},getFormat:function(){var a=this.getResponseData();return a.type?a.type.toLowerCase():""},getPlacementHTML:function(){var a=this.getFormat(),b=this.getResponseData().data;return"html"===a?b:"javascript"===a?'<html><body style="margin: 0%"><script type="text/javascript">'+
b+"\x3c/script>\x3c!-- Kskd wrapped placement --\x3e</body></html>":""},getResponseData:function(){return this._data||{}},isEmpty:function(){return a.tools.isEmpty(this.getResponseData().data)}}}());I("iow/IOWProxy",["core/KioskedObject"],W(function(){function e(a){return(a=c[a])?a:!1}function b(b,c){var e=this.getQueue(),k=this.generateSectionQueueIndex(b);M("locators/IOWManagerLocator",function(h){var l=h.getIOWManager();h=a.SnifferControllerLocator.getSnifferController().getSettingsMetaAbTesting().test;
if(l&&e){var n=e[k]=e[k]||[],u=n.length,l=l.getTagProvider();c<u&&(n=n[c],n.open=!1,n.slots=n.placements.length,l.requestAds({sectionId:b,dmp:!1,fld:n.foldStatuses.join(","),sync:!1,plc:n.placements.join(","),suid:n.requestLocalID,url:a.tools.environment.getPageUrl(),device_family:a.tools.environment.getDeviceType(),ab_test_value:h}))}})}var c={"in-media":"m","in-line":"l","in-screen":"s",interstitial:"t","in-scroll":"i"};return{construct:function(){this.$super();this._queue={}},claimQueuedSlots:function(a,
b,c){var e=this.getQueue();a=this.generateSectionQueueIndex(a);if(null!==e){e=e[a]||[];a=e.length;for(var h=0;h<a;h+=1){var l=e[h];if(!1===l.open&&l.requestLocalID===c)return l.open=!1,l.slots=b,l}}return null},destroy:function(){this._queue=null;this.$super()},fetchSlotData:function(a,b,c){var k=e(a);if(!1===k)throw new z("Invalid placement type: "+a);var h=this,l=0;return new Promise(function(a,d){(function x(){var e=h.getQueue(),m=h.generateSectionQueueIndex(b);if(null!==e){for(var e=e[m]||[],
m=e.length,v=!1,y=!1,C=0;C<m;C+=1){for(var F=e[C].slots||[],B=F.length,s=0;s<B;s+=1)if(F[s].plc===k&&parseInt(F[s].fld,10)===c){y=s;break}if(!1!==y){v=F[y];F.splice(y,1);break}}v?a(v):15E3<=l?d("Wait time exceeded, no valid slot response was found"):(l+=110,setTimeout(x,110))}else d("No queue present in proxy")})()})},generateLocalID:function(a,b){return a+"_"+b},generateSectionQueueIndex:function(a){return"s"+a},getNewRequestPacket:function(){return{foldStatuses:[],open:!0,placements:[],requestLocalID:"",
sectionID:0,slots:!1}},getQueue:function(){return this._queue},processSlotsResponse:function(b,c){var e=c.length,k=0<e?c[0].suid:!1;if(!k)throw new z("Invalid local ID, or no IOW local ID available");this.claimQueuedSlots(b,c,k);a.tools.debug.log("/IOWProxy/","Received "+e+" slots on section "+b)},renderSlot:function(b,c,e,k,h){var l=this;h=parseInt(h,10);return this.fetchSlotData(c,e,h).then(function(b){return new a.IOWResponse(b)}).then(function(c){if(c.isEmpty())return a.tools.debug.log("/IOWProxy/",
"IOW empty fill: fallback"),a.GrandCentralStationLocator.getGrandCentralStation().publish("placementFillError",k),Promise.reject("No fill");var f=a.Factories.ContainerFactory.createFriendlyIframeTool(),h=f.getIFrame();f.subscribe("iframeLoaded",function(){a.GrandCentralStationLocator.getGrandCentralStation().publish("iframeLoaded",k)});h.setAttribute("data-kioskid",k);f.appendToElement(b);f.writeContent(c.getPlacementHTML());l.publish("iowRender",{kioskID:k,sectionID:e});return f.waitForLoad()})},
requestSlot:function(c,f,g){var k=e(c);if(!1===k)throw new z("Invalid placement type: "+c);var h=this.getQueue();c=this.generateSectionQueueIndex(f);var h=h[c]=h[c]||[],l=h.length,n=null;0<l&&(n=h[l-1],!0!==n.open&&(n=null));if(null===n){n=a.tools.mergeDefaults(this.getNewRequestPacket(),{sectionID:f});h.push(n);var m=h.length-1,A=this;n.requestLocalID=this.generateLocalID(c,m);n.timer=setTimeout(function(){b.call(A,f,m)},200)}n.placements.push(k);n.foldStatuses.push(g);5<=n.placements.length&&(n.open=
!1)}}}));a.Facades.URLProcessing=a.Facades.URLProcessing||function(){return{getURLPathOnly:function(a){return a.split("?")[0]},getURLWithAlphabetizedParameters:function(e){var b=new a.URLParser(e);e=b.getPath();var c=b.getQueryParameters(),b=b.getFragment(),c=m.encoding.formURLStringFromParameters(c,["ALPHABETIZE"]);0<c.length&&(e+="?"+c);0<b.length&&(e+="#"+b);return e},getURLWithoutFragment:function(e){var b=new a.URLParser(e);e=b.getPath();b=b.getQuery();0<b.length&&(e+="?"+b);return e}}}();a.Sniffing.SearchNodeFactory=
a.Sniffing.SearchNodeFactory||a.KioskedObject.extend(function(){function e(b,c){a.tools.scope.enforceCaller(this,a.Sniffing.SearchNodeFactory,"Expected caller to be instance of SearchNodeFactory");var d=this.getOptions(),d=new a.Sniffing.SearchNode(b,{hashAttribute:d.hashAttribute,root:!1});c.addChild(d);var f=b.getChildContexts(),g=f.length;if(0<g)for(var k=0;k<g;k+=1)e.call(this,f[k],d)}return{construct:function(b,c){this.$super();c=c||{};this._options=a.tools.mergeDefaults({hashAttribute:""},c);
this._rootContext=b;this._rootNode=null;a.tools.scope.enforceCaller(this,a.Sniffing.SearchNodeFactory,"Expected caller to be instance of SearchNodeFactory");var d=this.getOptions();this._rootNode=new a.Sniffing.SearchNode(this._rootContext,{hashAttribute:d.hashAttribute,root:!0});for(var d=this._rootContext.getChildContexts(),f=d.length,g=0;g<f;g+=1)e.call(this,d[g],this._rootNode)},getOptions:function(){return this._options},getRootNode:function(){return this._rootNode}}}());(function(a){var b={};
(function(a,b,c,e,h){function l(a,b){return l.search(a,b)}function n(a,b){if(M[b]){var c="function"==typeof M[b]?M[b](a):a[M[b]];"class"!=b||c||(c=null);return c}return a.getAttribute(b)}function m(a,b){for(var c=0,d=b.length;c<d;++c)if(0>z(a,b[c]))return!1;return!0}function A(a,b,c){c=[c];for(var d=!0,e,f=0,g=a.length;f<g;++f)if(e=b[a[f].name])d=d&&e.apply(b,c.concat(a[f].args));else return"Unknown function "+a[f].name;return d}function x(a){return function(b,c){return E(b,function(b){return a(b,
c)})}}function p(a,b){return function(c,d,e){c=n(c,d);return(b?!0:null!=c)&&a(c,e)}}function w(a){a=a.parentNode.children||[];t.childrenHasComments&&(a=E(a,function(a){return 1==a.nodeType}));return a}function v(a,b){return function(c){return F[a](c,{value:b})}}var y=a.Jaguar,C,F,B=[].slice,s=[].indexOf,q=[].filter,r={}.hasOwnProperty,t=function(a){var b={},c=a.createElement("a");c.name="test";(a.firstChild||a).appendChild(c);b.brokenId=!!a.getElementById("test");c.innerHTML="\x3c!-- Three guys walk into a bar. *DONK* --\x3e";
b.childrenHasComments=!(!c.children||!c.children.length);return b}(b.implementation.createDocument?b.implementation.createDocument(null,"html",null):new ActiveXObject("Microsoft.XMLDOM")),z=s?function(a,b){return s.call(a,b)}:function(a,b){for(var c=0,d=a.length;c<d;++c)if(a[c]===b)return c;return-1},E=q?function(a,b){return q.call(Array.prototype.slice.call(a),b)}:function(a,b){for(var c=0,d=a.length,e=Array(d);c<d;++c)e[c]=func(a[c]);return e},M=l.fixAttributes={"class":"className","for":"htmlFor",
html:"innerHTML",style:function(a){return a.style.cssText},text:function(a){return a.textContent||a.innerText||""}};l.features=t;l.filter=E;l.indexOf=z;l.getAttribute=n;l.cache=[];l.cacheSize=50;l.tokenize=function(a){function b(a){return a&&("/"<a&&":">a||"@"<a&&"[">a||"`"<a&&"{">a||"-"==a||"_"==a)}function c(a,b){return{type:a,value:b}}a=a.split("");for(var d=a[0],e=0,f,g,h,l={"(":1,")":1,"[":1,"]":1},k={'"':1,"'":1},n=[];d;){if(k[d]){f="";for(g=d;;){d=a[++e];if(d==g)break;else if(!d)return[];f+=
d}n.push(c("ident",f))}else if(" "==d)f=a[e-1],g=a[e+1],(b(f)||k[f]||"*"==f||l[f])&&(b(g)||k[g]||"*"==g||l[g]||" "!=a[e+2])&&n.push(c("op",d));else if("*"==d)"="==a[++e]?n.push(c("op","*=")):(n.push(c("ident",d)),--e);else if(l[d])n.push(c("op",d));else{f="";for(g=b(d);d&&" "!=d&&!k[d]&&(g&&b(d)||!g&&!b(d))&&!l[d];)f+=d,"="==d&&(n.push(c("op",f)),f="",h=!0),d=a[++e];--e;f&&n.push(c(h||g?"ident":"op",f));h=!1}d=a[++e]}return n};l.parse=function(a){if("string"==typeof a&&l.cache[a])return l.cache[a];
for(var b=l.tokenize(a),c=[[]],d,e={classes:[],attrs:[],pseudos:[]},f,g=0,k,n=b.length;g<n;++g)if(d=b[g].value,"op"==b[g].type)if(","==d)c[c.length-1].push(e),c.push([]),e={classes:[],attrs:[],pseudos:[]};else if("#"==d)e.id=b[++g]?b[g].value:"";else if("."==d)e.classes.push(b[++g]?b[g].value:"");else if("["==d){d=b[g+2]&&"]"!=b[g+2].value;if(!b[g+2]||d&&(!b[g+4]||"]"!=b[g+4].value))return[];e.attrs.push({name:d?b[g+2].value:"",args:[b[++g].value,d?b[g+=2].value:h]});++g}else if(":"==d){if(!b[g+1])return[];
d=b[g+2]&&"("==b[g+2].value;k=g+1;if(d)for(k+=2,f=1;k<n&&("("==b[k].value&&"op"==b[k].type&&++f,")"!=b[k].value||--f||"op"!=b[k].type);++k);e.pseudos.push({name:b[++g].value,args:d?b.slice(g+2,k):[]});g=k}else e.tag||(e.tag="*"),c[c.length-1].push(e),e={classes:[],attrs:[],pseudos:[],tag:"*",combinator:d};else e.tag=d.toUpperCase();c[c.length-1].push(e);l.cache.push(a);l.cache[a]=c;l.cache.length>l.cacheSize&&(l.cache[l.cache.shift()]=h);return c};l.search=function(a,c){c=c||b;if(!a||"string"!=typeof a||
1!=c.nodeType&&9!=c.nodeType)return[];var d=l.parse(a),e=0,g=d.length,h=0,k=[],n=[],p,m=[],u;if(!g)return[];for(;e<g;++e)k.push(l.evaluateSearch(d[e],c));e=0;for(g=k.length;e<g;++e)for(u=0,d=k[e].length;u<d;)n[h++]=k[e][u++];if(1<g&&(n.sort(function(a,b){return a==b?(p=!0,0):a.compareDocumentPosition?a.compareDocumentPosition(b)&2?1:-1:a.sourceIndex-b.sourceIndex}),p)){e=0;for(g=n.length;e<g;++e)n[e]!=n[e-1]&&m.push(n[e]);n=m}return n};l.evaluateSearch=function(a,b){function c(a,e){d.length||g||(d=
b.getElementsByTagName("*"));d=E(d,function(b){b=A(a,e,b);"string"==typeof b&&(h=b);return b})}var d=[],e,f=a[a.length-1],g,h,k=0,n;if(f.id){if(b.getElementById&&!t.brokenId)e=b.getElementById(f.id);else for(d=b.getElementsByTagName(f.tag||"*"),n=d.length;k<n;++k)if(d[k].id==f.id){e=d[k];break}d=e?[e]:[];g=!0}if(f.classes.length)if(g&&!m(e.className.split(" "),f.classes))d=[];else if(!g){if(b.getElementsByClassName)d=b.getElementsByClassName(f.classes.join(" "));else for(e=b.getElementsByTagName(f.tag||
"*"),k=0,n=e.length;k<n;++k)m(e[k].className.split(" "),f.classes)&&d.push(e[k]);g=!0}f.tag&&(g?"*"!=f.tag&&(d=E(d,function(a){return a.nodeName.toUpperCase()==f.tag})):d=b.getElementsByTagName(f.tag));f.attrs.length&&c(f.attrs,l.attrs);f.pseudos.length&&d.length&&c(f.pseudos,l.pseudos);f.combinator&&(l.combinators[f.combinator]?d=l.combinators[f.combinator](d,a.slice(0,-1)):h="Unknown combinator "+f.combinator);if(h)throw Error(h);return d};l.match=function(a,b){if(!a||1!=a.nodeType||"string"!=typeof b)return!1;
for(var c=l.parse(b),d=!1,e=0,f=c.length;e<f;++e)d=d||l.evaluateMatch(c[e],a);return d};l.evaluateMatch=function(a,b){if(9==b.nodeType)return!1;var c=a[a.length-1],d=!0;c.id&&(d=b.id==c.id);c.classes.length&&(d=d&&m(b.className.split(" "),c.classes));c.tag&&(d=d&&("*"==c.tag?!0:b.nodeName.toUpperCase()==c.tag));c.attrs.length&&(d=d&&A(c.attrs,l.attrs,b));c.pseudos.length&&(d=d&&A(c.pseudos,l.pseudos,b));c.combinator&&(d=l.matchCombinators[c.combinator]?d&&l.matchCombinators[c.combinator](b,a.slice(0,
a.length-1)):!1);return d};l.matchCombinators={" ":function(a,b){for(;a=a.parentNode;)if(l.evaluateMatch(b,a))return!0;return!1},">":function(a,b){return l.evaluateMatch(b,a.parentNode)},"~":function(a,b){for(;a=a.previousSibling;)if(1==a.nodeType&&l.evaluateMatch(b,a))return!0;return!1},"+":function(a,b){for(;a=a.previousSibling;)if(1==a.nodeType)return l.evaluateMatch(b,a);return!1}};l.combinators={};for(C in l.matchCombinators)r.call(l.matchCombinators,C)&&(l.combinators[C]=x(l.matchCombinators[C]));
l.attrs={"":p(function(a){return null!=a},!0),"=":p(function(a,b){return a===b},!0),"!=":p(function(a,b){return a!==b},!0),"^=":p(function(a,b){return!a.indexOf(b)}),"$=":p(function(a,b){return a.lastIndexOf(b)==a.length-b.length}),"*=":p(function(a,b){return-1<a.indexOf(b)}),"|=":p(function(a,b){return a===b||!a.indexOf(b+"-")}),"~=":p(function(a,b){return-1<z(a.split(" "),b)})};l.nthCache=[];l.nthCacheSize=100;l.pseudos=F={has:function(a){for(var b="",c=arguments,d=1,e=c.length;d<e;++d)b+=c[d].value;
return!!l.search(b,a).length},contains:function(a,b){return-1<n(a,"text").indexOf(b.value)},not:function(a){for(var b="",c=arguments,d=1,e=c.length;d<e;++d)b+=c[d].value;return!l.match(a,b)},root:function(a){return 9==a.parentNode.nodeType},empty:function(a){return!a.firstChild},"first-child":v("nth-child","1"),"last-child":v("nth-child","-1"),"only-child":function(a){var b=w(a);return 1==b.length&&b[0]==a},"first-of-type":v("nth-of-type","1"),"last-of-type":v("nth-of-type","-1"),"only-of-type":function(a){var b=
a.nodeName.toUpperCase(),c=E(w(a),function(a){return a.nodeName.toUpperCase()==b});return 1==c.length&&c[0]==a},"nth-child":function(a){var b=B.call(arguments,1),d,f,n,p;this instanceof Array&&(d=this);b.length||(b=[{value:"n"}]);f=b[0].value;if(1==b.length&&"n"==f)return 1==a.parentNode.nodeType;d||(d=w(a));if(1==b.length&&!e(+f))return d[-1<f?f-1:d.length+ +f]==a;f=b;for(var m=f[0].value,b=m,u=1,v=f.length;u<v;++u)b+=f[u].value;if(l.nthCache[b])n=l.nthCache[b];else{if("odd"==m)p=2,n=1;else if("even"==
m)p=2,n=0;else if("n"==m?p=1:"-n"==m?p=-1:e(+m)?m=m.substr((""+(p=c(m,10))).length):p=+m,2<v)n=+f[2].value;else if("n"==m)n=0;else for(u=0,v=m.length;u<v;++u)if(!e(+m.charAt(u))){n=c(m.substr(u),10);break}p=[p,n];l.nthCache.push(b);l.nthCache[b]=p;l.nthCache.length>l.nthCacheSize&&(l.nthCache[l.nthCache.shift()]=h);n=p}p=n[0];n=n[1];d=z(d,a)+1;return p?0<p&&d<n||0>p&&n<d||9==a.parentNode.nodeType?!1:!((d-n)%p):n==d},"nth-last-child":function(a){return F["nth-child"].apply(B.call(w(a)).reverse(),arguments)},
"nth-of-type":function(a){var b=a.nodeName.toUpperCase();return F["nth-child"].apply(E(this instanceof Array?this:w(a),function(a){return a.nodeName.toUpperCase()==b}),arguments)},"nth-last-of-type":function(a){return F["nth-of-type"].apply(B.call(w(a)).reverse(),arguments)}};l.noConflict=function(){a.Jaguar=y;return l};"function"==typeof a.define&&I.amd?I(function(){return l}):a.Jaguar=l})(b,document,parseInt,isNaN);var c=/,[^ ]/;a.dom.query=function(a,e){c.test(a)&&(a=a.split(",").join(", "));return b.Jaguar(a,
e)};a.dom.queryFirst=function(b,c){var g=a.dom.query(b,c);return 0<g.length?g[0]:null}})(a.tools);(function(){function e(b,d,e){var g=!1;if(e.conditionType)switch(e.conditionType){case a.Config.SETTINGS_CONDITION_VALUE.DEFAULT:g=[].concat(e.properties||[]);break;case a.Config.SETTINGS_CONDITION_VALUE.ACCOUNT:parseInt(d,10)===parseInt(e.conditionValue,10)&&(g=[].concat(e.properties||[]));break;case a.Config.SETTINGS_CONDITION_VALUE.URI:(new RegExp(e.conditionValue,"i")).test(b)&&(g=[].concat(e.properties||
[]));break;default:a.tools.debug.warn("/SettingsFlattener/","Unrecognised settings condition type: "+e.conditionType)}return g}function b(c,d,e){e=e||[];var g=c(d),k=e.length;if(!1===g)return e;var g=g.map(function(b){a.tools.isEmpty(b.target)&&(b.target=null);return b}).filter(function(a){for(var b=!1,c=0;c<k;c+=1)if(a.key===e[c].key&&a.target===e[c].target&&parseInt(a.targetDeviceFamily,10)===parseInt(e[c].targetDeviceFamily,10)){b=!0;e[c].value=a.value;break}return!1===b}),h=[].concat(e).concat(g);
(d.childConditions||[]).forEach(function(a){h=b(c,a,h)});return h}a.flattenSettings=function(c,d,f){c=c.settingsTree;d=a.tools.curry(e)(d,f);return b(d,c)}})();(function(){a.SettingsDeviceFilter=function(a){this._settingsData=a};a.SettingsDeviceFilter.prototype.fetchSettingsForDeviceType=function(a){return this.getSettingsData().filter(function(b){return b.hasOwnProperty("targetDeviceFamily")?parseInt(b.targetDeviceFamily,10)===a:!0})};a.SettingsDeviceFilter.prototype.getCurrentDevice=function(){return a.tools.environment.device.isMobile()?
a.Config.SETTINGS_DEVICE_TARGET.MOBILE:a.Config.SETTINGS_DEVICE_TARGET.DESKTOP};a.SettingsDeviceFilter.prototype.getMergedSettingsForCurrentDevice=function(){return this.getMergedSettingsForDevice(this.getCurrentDevice())};a.SettingsDeviceFilter.prototype.getMergedSettingsForDevice=function(e){return this.mergeDeviceTypesInData(this.fetchSettingsForDeviceType(a.Config.SETTINGS_DEVICE_TARGET.ANY),this.fetchSettingsForDeviceType(e))};a.SettingsDeviceFilter.prototype.getSettingsData=function(){return this._settingsData};
a.SettingsDeviceFilter.prototype.mergeDeviceTypesInData=function(e,b){var c=[].concat(e).concat(b),d=c.length;return c.filter(function(b){for(var e=0;e<d;e+=1)if(c[e].key===b.key&&c[e].target===b.target){var k=parseInt(c[e].targetDeviceFamily,10);if(parseInt(b.targetDeviceFamily,10)===a.Config.SETTINGS_DEVICE_TARGET.ANY&&k!==a.Config.SETTINGS_DEVICE_TARGET.ANY)return!1}return!0})}})();I("ScriptLocator",["core/KioskedObject","Script"],W(function(e){function b(a,b,c){if(!this._scriptCache.hasOwnProperty(a))throw Error("/ScriptLocator/ Unrecognised cache class: "+
a);this._scriptCache[a][b]=c}function c(a,b){return this._scriptCache.hasOwnProperty(a)&&this._scriptCache[a][b]?this._scriptCache[a][b]:!1}return{construct:function(){this.$super();this._scriptCache={withAttributes:{},withURLRegex:{}};this._orderPreference="first"},destroy:function(){this.clearCache();this.$super()},clearCache:function(){this._scriptCache={withAttributes:{},withURLRegex:{}}},getOrderPreference:function(){return this._orderPreference},locateScriptWithAttributes:function(d){d=d||{};
var f="attrs-",g;for(g in d)d.hasOwnProperty(g)&&(f+=""+g+":"+d[g]+";");g=c.call(this,"withAttributes",f);if(!1!==g)return new e(g,{fromCache:!0});d=a.tools.dom.getElementsWithAttributes("script",d);g=d.length;return 0<g?(d="first"===this.getOrderPreference()?d[0]:d[g-1],b.call(this,"withAttributes",f,d),new e(d)):!1},locateScriptWithURLMatch:function(d){var f=c.call(this,"withURLRegex",d.toString());if(!1!==f)return new e(f,{fromCache:!0});var f=a.tools.dom.getElementsWithAttributes("script",{src:""}),
g=f.length,k=!1;if(0<g)if("first"===this.getOrderPreference())for(var h=0;h<g;h+=1){if(d.test(f[h].getAttribute("src"))){k=f[h];break}}else for(g-=1;0<=g;g-=1)if(d.test(f[g].getAttribute("src"))){k=f[g];break}return k?(b.call(this,"withURLRegex",d.toString(),k),new e(k)):!1},setPrefersFirst:function(a){this._orderPreference=!0===a?"first":"last"}}}));a.tools.matching=a.tools.matching||function(){return{getMostRelevantCategory:function(e,b){var c=!1;if(e&&m.isString(b)){if(e.hasOwnProperty(b)){var d=
e[b],f=d.length,g=0;if(0<f)for(var k=0;k<f;k+=1){var h=d[k];h.relevance&&h.relevance>g&&(c=h,g=h.relevance)}}}else{if(e)throw new a.Exceptions.InvalidTypeException("String",typeof b,this);throw new a.Exceptions.BadOptionException("Expected categories to be set",this,e);}return c}}}();a.Sniffing.SettingsLayoutAdapter=a.Sniffing.SettingsLayoutAdapter||a.KioskedObject.extend(function(){return{construct:function(a){this.$super();this._originalSettings=a},getSettingsInNewLayout:function(){for(var e=[],
b=this._originalSettings.length,c={},d=[],f=0;f<b;f+=1){var g=this._originalSettings[f];a.tools.isset(g.target)&&0<g.target.length?(c.hasOwnProperty(g.target)||(c[g.target]=[]),c[g.target].push(g)):d.push(g)}b=d.length;if(0<b){f={conditionId:null,cssSelector:null,properties:[]};for(g=0;g<b;g+=1)f.properties.push({key:d[g].key,value:d[g].value});e.push(f)}for(var k in c)if(c.hasOwnProperty(k)){d={conditionId:null,cssSelector:k,properties:[]};b=c[k].length;for(f=0;f<b;f+=1)d.properties.push({key:c[k][f].key,
value:c[k][f].value});e.push(d)}return e}}}());a.resourceManager=a.resourceManager||function(){var e={};return{getResource:function(b){if(a.resources&&a.resources.hasOwnProperty(b)){if(e.hasOwnProperty(b))return e[b];var c=a.resources[b];try{var d=a.tools.encoding.base64_decode(c);return""===d?null:e[b]=d}catch(f){a.tools.debug.error("/ResourceManager/","Failed retrieving and decoding resource: "+b)}}return null}}}();a.Sniffing.ElementQueue=a.Sniffing.ElementQueue||a.KioskedObject.extend(function(){function e(b){m.scope.enforceCaller(this,
a.Sniffing.ElementQueue,"Expected caller to be instance of ElementQueue");var c=this.getSniffer(),e=c.getSettings(),c=c.getPageProperties(),k=b.length;a.tools.debug.log("/SnifferElementQueue/","Will analyse "+k+" items");0<k&&(this.analyzer=this.analyzer||new a.Analyzer({zoneReportURL:this.getOptions().zoneReportURL,settings:e}),this.analyzer.getPageAnalysis()||this.analyzer.analyzePage(b,c.siteID,c.publisherID),this.analyzer.analyzeZones(b),this.analyzer.sendAnalysis(!0))}function b(){m.scope.enforceCaller(this,
a.Sniffing.ElementQueue,"Expected caller to be instance of ElementQueue");var b=this;if(this.isNot("started"))return a.tools.debug.warn("/ElementQueue/","Not flushing: queue not started"),!1;var c=this.getQueue(),e=c;20<c.length?(e=c.splice(0,20),this.setQueue(c)):this.setQueue([]);c=e.length;if(0>=c)return!1;for(var k=0;k<c;k+=1)e[k]={id:e[k].hash,responseTypes:["categories"]};e=this.prepareJSONPayload(e);a.tools.communication.sendRequest({destination:this.getOptions().zoneDataURL,method:"POST",
errorCallback:function(){throw Error("Failed sending zone data request");},data:{json:JSON.stringify(e)},callback:function(c){var e=!1;try{e=JSON.parse(c)}catch(f){throw a.tools.debug.warn("/ElementQueue/","Failed decoding invalid JSON response"),f;}e&&b.processItemsResponse(e)}});this.set("sentFirstZonesRequest");return!0}function c(){m.scope.enforceCaller(this,a.Sniffing.ElementQueue,"Expected caller to be instance of ElementQueue");var d=this;this._timer=setTimeout(function(){if(!d.isNot("started")){b.call(d);
try{c.call(d)}catch(e){a.tools.debug.error("/ElementQueue/","Failed restarting queue timer")}}},a.Config.SNIFFER_ELEMENT_QUEUE_DELAY)}return{construct:function(b,e){this.$super();e=e||{};this._options=m.mergeDefaults({name:"ElementQueue",cachedZones:[],publisherID:null,siteID:null,zoneDataURL:null,zoneReportURL:null},e);this._sniffer=b;this._queue=[];this.addStatusSet(["started","stopped"],"started");this.addStatus("usedCachedZoneData");this.addStatus("sentFirstZonesRequest");this.addStatus("zoneCacheEnabled");
this.addStatus("zoneDataRequestEnabled");if(!0===this.getSniffer().getSettings().getBool("ui.sniff.sendZoneDataRequests",!0)&&(this.set("zoneDataRequestEnabled"),a.tools.isEmpty(this._options.zoneDataURL)||a.tools.isEmpty(this._options.zoneReportURL)))throw new z("Invalid/unset zone-data or zone-report URL");!0===a.Config.CACHE.ZONE_RESPONSE&&this.set("zoneCacheEnabled");this._timer=null;c.call(this)},addItems:function(b){a.tools.array.isArray(b)||(b=[b]);if(this.isNot("zoneDataRequestEnabled")){var c=
b;m.scope.enforceCaller(this,a.Sniffing.ElementQueue,"Expected caller to be instance of ElementQueue");for(var e=[],k=c.length,h=0;h<k;h+=1){var l=c[h];l.zoneId=l.hash;l.categories=[{type:"cache",result:{state:"ok",meta:"Cached item"}}];e.push(l)}this.getOptions().cachedZones=this.getOptions().cachedZones.concat(e)}this._queue=this._queue.concat(b);m.scope.enforceCaller(this,a.Sniffing.ElementQueue,"Expected caller to be instance of ElementQueue");b=this.getOptions().cachedZones;e=this.has("zoneCacheEnabled")||
this.hasNot("zoneDataRequestEnabled");c=this.getQueue();if(b&&e){for(var e=c.length,k=[],h=b.length,n=l=0;n<e;n+=1){for(var u=!1,A=0;A<h;A+=1)b[A].zoneId===c[n].hash&&(u=!0,this.set("usedCachedZoneData"),this.processItemsResponse({results:[b[A]]}),l+=1);u||k.push(c[n])}0<l&&a.tools.debug.log("/SnifferElementQueue/","Loaded "+l+" cached zones");this.setQueue(k)}},destroy:function(){this._timer&&clearTimeout(this._timer);this._options=null;this.set("stopped");this.$super()},flush:function(){b.call(this)},
getOptions:function(){return this._options},getQueue:function(){return this._queue},getSniffer:function(){return this._sniffer},prepareJSONPayload:function(b){var c=this.hasNot("sentFirstZonesRequest")&&this.hasNot("usedCachedZoneData"),e=this.getOptions();return{zones:b,pub:e.publisherID,site:e.siteID,pageUrl:a.SnifferUtilities.processPageURL(a.tools.environment.getPageUrl()),pageType:this.getSniffer().getPageType(),firstRequest:c}},processItemsResponse:function(b){if(b){var c=this.getSniffer();
if(b.results){for(var g=b.results,k=g.length,h=Promise.resolve(),l=0;l<k;l+=1)(function(a){h=h.then(function(){c.loadItemWithData(a.zoneId,a.categories)})})(g[l]);h["catch"](function(b){a.tools.debug.warn("/ElementQueue/","Failed loading some item responses");throw b;})}if(b.zonesToAnalyze){g=b.zonesToAnalyze.length;k=[];for(l=0;l<g;l+=1){var n=b.zonesToAnalyze[l].zoneId,m=c.getItemByZoneID(n);m?(b.zonesToAnalyze[l].img=m.element,k.push(b.zonesToAnalyze[l])):a.tools.debug.warn("/SnifferElementQueue/",
"Failed finding sniffed data for zone: ",n)}0<k.length&&e.call(this,k)}}},setQueue:function(a){this._queue=a}}}());a.InstanceControlManager=a.InstanceControlManager||a.KioskedObject.extend(function(){return{construct:function(){this.$super();this._limits={anchor:{},adFill:{}};this._counts={anchor:{},adFill:{}}},applyLimit:function(a,b,c){this._limits[a][b]=c},deregisterCount:function(e,b,c){if(this._counts[e][b]&&this._counts[e][b][c]){var d;a.tools.scope.enforceCaller(this,a.InstanceControlManager,
"Expected caller to be instance of InstanceControlManager");d=this.getLimit(e,b);d=0<d?this.getCount(e,b)===d:!1;this._counts[e][b][c]=!1;delete this._counts[e][b][c];d&&this.publish("slotOpen",{type:e,subType:b})}},destroy:function(){this._limits={};this._counts={};this.$super()},getCount:function(e,b){var c=0;if(this._counts[e]&&this._counts[e].hasOwnProperty(b)){var d=this._counts[e][b],f;for(f in d)d.hasOwnProperty(f)&&d[f]===a.InstanceControlManager.ItemState.Online&&(c+=1)}return c},getItemState:function(e,
b,c){return this._counts[e]&&this._counts[e][b]&&this._counts[e][b][c]?this._counts[e][b][c]:a.InstanceControlManager.ItemState.Unknown},getLimit:function(a,b){return this._limits[a]&&this._limits[a].hasOwnProperty(b)?this._limits[a][b]:0},registerCount:function(e,b,c){if(this.getItemState(e,b,c)===a.InstanceControlManager.ItemState.Online)return!0;this._counts[e][b]=this._counts[e][b]||{};var d;a.tools.scope.enforceCaller(this,a.InstanceControlManager,"Expected caller to be instance of InstanceControlManager");
d=this.getLimit(e,b);d=0<d?this.getCount(e,b)<d:!0;this._counts[e][b][c]=d?a.InstanceControlManager.ItemState.Online:a.InstanceControlManager.ItemState.InQueue;return d},waitForSlot:function(a,b,c){var d=this;return new Promise(function(f){d.subscribe("slotOpen",function(g){g.type===a&&g.subType===b&&d.registerCount(a,b,c)&&f()})})}}}());a.InstanceControlManager.InstanceType={Anchor:"anchor",AdFill:"adFill"};a.InstanceControlManager.ItemState={Online:"online",InQueue:"queue",Unknown:"unknown"};(function(){var e=
new a.InstanceControlManager;a.InstanceControlManager.getSharedInstance=function(){return e}})();a.Exceptions={};(function(){var e=a.KioskedObject.extend(function(){return{construct:function(a,c,d){this._exceptionName="KioskedException";this._exceptionMessage="An unknown error has occurred";a&&c&&this.setInfo(a,c);this._target=d?d:null},getTarget:function(){return this._target},setInfo:function(a,c){this._exceptionName="Kiosked"+a;this._exceptionMessage=c},toString:function(){return"["+this._exceptionName+
"] "+this._exceptionMessage}}}());a.Exceptions.BadOptionException=e.extend(function(){return{construct:function(a,c,d){this.$super("BadOptionException",a?a:"A parameter passed contained an unexpected value or option",c);this._option=d},getOptionObject:function(){return this._option}}}());a.Exceptions.DuplicateActionException=e.extend(function(){return{construct:function(a,c,d){this.$super("DuplicateActionException",a?a:"An action was executed that resulted in a duplicated path of events",d);this._dupTarget=
c},getTarget:function(){return this._dupTarget}}}());a.Exceptions.IllegalInvocationException=e.extend(function(){return{construct:function(a,c){this.$super("IllegalInvocationException",a?a:"A function was called with an invalid context - 'this' was not an instance of the expected class",c)}}}());a.Exceptions.InvalidPropertiesException=e.extend(function(){return{construct:function(a,c,d){this.$super("InvalidPropertiesException",a?a:"A required property of an object was invalid or missing",c);this._properties=
d},getPropertiesObject:function(){return this._properties}}}());a.Exceptions.InvalidStateException=e.extend(function(){return{construct:function(a,c,d,e){d=d?d:null;this.$super("InvalidStateException","Invalid state: Expected context to have state '"+a+"' but was in '"+c+"' ("+(e||typeof d)+")",d)}}}());a.Exceptions.InvalidTypeException=e.extend(function(){return{construct:function(a,c,d){this.$super("InvalidTypeException","Invalid type received: Expected type '"+a+"' but received '"+c+"'",d?d:null)}}}());
a.Exceptions.LoopException=e.extend(function(){return{construct:function(a,c){this.$super("LoopException",a?a:"A loop or recursion failed to exit in time",c)}}}());a.Exceptions.NotSupportedException=e.extend(function(){return{construct:function(a,c){this.$super("NotSupportedException",a?a:"A requested feature or operation is not supported",c)}}}());a.Exceptions.NullElementException=e.extend(function(){return{construct:function(a,c){this.$super("NullElementException",a?a:"An element was expected, but NULL received",
c)}}}());a.Exceptions.UnexpectedException=e.extend(function(){return{construct:function(a,c,d){this._data=d;this.$super("UnexpectedException",a?a:"An element was expected, but NULL received",c)},getData:function(){return this._data}}}());a.Exceptions.UndefinedException=e.extend(function(){return{construct:function(a,c){this.$super("UndefinedException",a?a:"An element was expected, but it was undefined",c)}}}())})();I("init/overriding",function(){return{getOverrideFunctions:function(a){var b={};["GrandCentralStation.libraryInit",
"SnifferUtilities.processPageURL","SnifferUtilities.processImageURL","tools.getWindowLocationPath"].forEach(function(c){var d=a.get("ui.override.js.ITGS."+c);"function"===typeof d&&(b[c]=d)});return b}}});(function(){a.createWithMedia=a.createWithMedia||function(e){if(!(e instanceof a.PlacementContainer))throw new z("Failed storing placement container - not an instance of ITGS.PlacementContainer");E.push(e);return e};a.destructors.destroyPlacement=a.destructors.destroyPlacement||function(e){e=e.getOptions().kioskID;
var b=a.PlacementContainerLocator.getPlacementContainerByID(e);b?a.destructors.destroyPlacementContainer(b):a.tools.debug.warn("/Destructors/","Could not find placement container for destruction: "+e)};a.destructors.destroyPlacements=a.destructors.destroyPlacements||function(){for(var e=E.length,b=Promise.resolve(),c=0;c<e;c+=1){var d=E[c];try{b=b.then(a.destructors.destroyPlacementContainer(d))}catch(f){a.tools.debug.warn("Failed destroying placement:",d)}}return b.then(function(){E=[]})};a.destructors.destroySniffer=
a.destructors.destroySniffer||function(){var e=a.SnifferControllerLocator.getSnifferController();if(e)try{e.destroy(),a.SnifferControllerLocator.setSnifferController(null)}catch(b){a.tools.debug.error("/Destructors/","Failed destroying sniffer")}};a.destructors.destroyPlacementContainer=a.destructors.destroyPlacementContainer||function(e){var b=!1,c=Promise.resolve();try{b=e.getPlacement().getOptions().kioskedZoneID,c=c.then(e.destroy())}catch(d){a.tools.debug.warn("/Destructors/","Failed destroying placement container")}return c.then(function(){if("string"===
typeof b&&0<b.length)if(E&&E instanceof Array){var c=E.indexOf(e);0<=c?E.splice(c,1):a.tools.debug.warn("/Destructors/","Unable to locate placement container in global collection")}else throw new z("Global placement container collection not found");else throw new z("Invalid Kiosked zone ID, unable to destroy container");})};a.destructors.destroyDiagnostics=a.destructors.destroyDiagnostics||function(){m.isset(a.diagnostics)&&a.diagnostics.destroy()};a.destructors.destroyNamespace=a.destructors.destroyNamespace||
function(e){var b=e||function(){};a.destructors.destroySniffer();a.destructors.destroyPlacements();a.destructors.destroyDiagnostics();setTimeout(function(){window.ITGS=null;try{delete window.ITGS}catch(a){}b()},500)};a.loadDiagnostics=function(){var e=a.loadedScript;delete a.loadDiagnostics;a.destructors.destroyNamespace(function(){window.ITGS_load_diagnostics=!0;var a=document.createElement("script");a.setAttribute("src",e);a.setAttribute("type","text/javascript");document.getElementsByTagName("head")[0].appendChild(a)})}})();
a.Sniffing.SnifferConveyor=a.Sniffing.SnifferConveyor||a.KioskedObject.extend(function(){return{construct:function(e,b){this.$super();this._snifferController=e;this._searchNode=b;this._maxItemsPerRound=a.SnifferUtilities.getMaximumItemsPerRound()},destroy:function(){this._searchNode=this._snifferController=null;this.$super()},getMaximumItemsPerRound:function(){return this._maxItemsPerRound},getSearchNode:function(){return this._searchNode},getSnifferController:function(){return this._snifferController},
retrieveItems:function(){var e=this.getSearchNode(),b=this.getSnifferController(),c=e.getContext().getSettings(),d=e.isRoot(),f=e.getSelectionMode(),g=e.getOptions().hashAttribute,k=this.getMaximumItemsPerRound();return e.getContext().isNot("enabled")?Promise.resolve([]):e.prepareChain().then(function(b){var c=e.formQueryString(b.subParentSelectors,b.selectors),f=0<b.customSelectors.length?e.formQueryString(b.subParentSelectors,b.customSelectors):!1;if(d)return{elements:b.elements,parents:[],queryString:c,
queryStringCustom:f};for(var g=b.parentSelectors.length,k=[],m=0;m<g;m+=1)k=k.concat(a.tools.dom.query(b.parentSelectors[m]));return{elements:b.elements,parents:k,queryString:c,queryStringCustom:f}}).then(function(b){var c=[].concat(b.elements),g=[];if(d)c=c.concat(a.tools.dom.query(b.queryString));else for(var k=b.parents.length,m=0;m<k;m+=1)if("select"===f)c.push(b.parents[m]),g.push(b.parents[m]);else var x=a.tools.dom.query(b.queryString,b.parents[m]),c=c.concat(x);k=[];m=c.length;for(x=0;x<m;x+=
1){var p=e.wrapElement(c[x]);0<=g.indexOf(c[x])&&(p.searchMode=a.Config.ELEMENT_SEARCH_MODE.SELECT);k.push(p)}return{items:k,queryStringCustom:b.queryStringCustom}}).then(function(b){var c=b.items;if(b.queryStringCustom&&d){b=a.tools.dom.query(b.queryStringCustom);for(var f=b.length,g=0;g<f;g+=1){var k=e.wrapElement(b[g]);k.selectionMode=a.Config.ELEMENT_SELECTION_MODE.CUSTOM;c.push(k)}}return c}).then(function(b){"select"===f&&b.forEach(function(b){b.selectionMode=a.Config.ELEMENT_SELECTION_MODE.CUSTOM});
b.forEach(function(a){a.element.hasAttribute(g)?a.firstSniff=!1:e._incrementElementCount(1)});return b}).then(function(a){return a.filter(e.filterTemporarilyBlockedItem,e)}).then(function(a){for(var c=a.length,d=[],e=0;e<c;e+=1){var f=a[e].element,g=f.offsetWidth,f=f.offsetHeight;if(0<g&&0<f||b.wasSelectedAsCustom(a[e]))a[e].width=g,a[e].height=f,d.push(a[e])}return d}).then(function(a){a=a.filter(function(a){return b.wasSelectedAsCustom(a)||b.isLargeEnough(a)});return a=a.filter(function(a){return b.wasSelectedAsCustom(a)||
b.isPermittedBySettings(a)})}).then(function(b){var d=c.get("ui.sniff.bulletLangFilter",!1);!1!==d&&(b=a.tools.bulletLang.filter(b,d));return b}).then(function(a){return a.filter(e.filterItemByBlockedAttributes,e)}).then(function(a){var c=a.length;c>k&&(a=a.slice(0,k),c=k);for(var d=0;d<c;d+=1)a[d].hash=b.markElementAsProcessed(a[d].element),b.addMarkedItem(a[d]);return a})}}}());a.tools.formatting=a.tools.formatting||function(){return{escapeRegexExpression:function(a){return a.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,
"\\$1")},replaceAll:function(e,b,c){return e.replace(new RegExp(a.tools.formatting.escapeRegexExpression(b),"g"),c)},tokenReplaceString:function(e,b,c){c=c||function(a){return"["+a.toUpperCase()+"]"};for(var d in b)b.hasOwnProperty(d)&&(e=a.tools.formatting.replaceAll(e,c(d),b[d]));return e},zeroPad:function(a,b){var c=a.toString(),d=c.split("."),f="";1<d.length&&(f=d[1],c=d[0]);d=b-c.length+1;return Array(+(0<d&&d)).join("0")+c+(0<f.length?"."+f:"")}}}();(function(){var e=new a.Status,b=new a.PubSub;
a.tools.decorators.decorateWithStatus(window.ITGS,e);a.tools.decorators.decorateWithPubSub(window.ITGS,b)})();a.tools.compatibility.enforcePrototypeMinimumVersion(1,7);a.tools.compatibility.checkDocumentQuerySelectorAll();I("factories/PlacementContainerFactory",function(){return{createPlacementContainerWithOptions:function(e){e=e||{};e=a.tools.mergeDefaults({anchorType:!1,categories:!1,kioskedZoneID:"",kioskID:""+Math.round(1E7*Math.random()),settings:null,settingsMeta:{},targetElement:null,publisherID:null,
siteID:null,waterfall:null},e);if(!0!==e.targetElement instanceof HTMLElement)throw Error("Target element was not a HTMLElement");if(!0!==e.settings instanceof a.SettingsOBC)throw Error("Settings option was not an instance of SettingsOBC");if(!1===e.anchorType&&(e.anchorType=a.AnchorTypeResolver.resolveAnchorTypeForSettings(e.settings),!1===e.anchorType))return Promise.reject("No suitable anchor type was resolved");var b=a.InstanceControlManager.getSharedInstance();return b.registerCount(a.InstanceControlManager.InstanceType.Anchor,
e.anchorType,e.kioskID)?Promise.resolve().then(function(){var b;b=e;var d=b.settings,f=a.DisclaimerBarFactory.createBarWithSettings(d,b.anchorType),g=!d.getBool("ui.media.Banner.noScale",!1);b=b.anchorType===a.Config.PLACEMENT_ANCHOR_TYPE.BOX?new a.PlacementBoxAnchor(b.targetElement,{disclaimer:f,kioskID:b.kioskID,scaleEnabled:g}):b.anchorType===a.Config.PLACEMENT_ANCHOR_TYPE.STUB?new a.PlacementStubAnchor(b.targetElement,{disclaimer:f,kioskID:b.kioskID,placementPath:d.get("ui.media.plugins.ExternalBannerSlot.placementPath",
!1),placementPosition:d.get("ui.media.plugins.ExternalBannerSlot.placementPosition","after"),scaleEnabled:g,margin:d.getInt("ui.media.plugins.ExternalBannerSlot.margin",10)}):b.anchorType===a.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD?new a.PlacementLaunchpadAnchor(b.targetElement,{disclaimer:f,kioskID:b.kioskID,scaleEnabled:g}):b.anchorType===a.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL?new a.PlacementInterstitialAnchor(b.targetElement,{disclaimer:f,kioskID:b.kioskID,scaleEnabled:g}):b.anchorType===a.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL?
new a.PlacementInScrollAnchor(b.targetElement,{disclaimer:f,kioskID:b.kioskID,scaleEnabled:g,triggerPoint:d.getInt("ui.media.Banner.inScrollElementTrigger",10)}):null;if(null===b)throw new z("Failed creating anchor");b.createAnchorElement();b.createContainerElement();b.prepareDisclaimer();return b}).then(function(b){return new a.Placement(b,{categories:e.categories,kioskedZoneID:e.kioskedZoneID,settings:e.settings,publisherID:e.publisherID,siteID:e.siteID,settingsMeta:e.settingsMeta,waterfallTemplate:e.waterfall})}).then(function(b){return new a.PlacementContainer(b)}).then(function(b){var d=
e.anchorType,f=e.settings,g=[];g.push(new a.PlacementWaterfallCallbackInput({},f));d===a.Config.PLACEMENT_ANCHOR_TYPE.BOX?(g.push(new a.PlacementPositionInput({},f)),g.push(new a.PlacementSizeInput({},f)),g.push(new a.PlacementRefreshInput({},f))):d===a.Config.PLACEMENT_ANCHOR_TYPE.STUB?(g.push(new a.PlacementExternalSizeInput({},f)),g.push(new a.PlacementRefreshInput({},f))):d===a.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD?g.push(new a.PlacementFixedSizeInput({},f)):d===a.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL?
g.push(new a.PlacementInterstitialInput({},f)):d===a.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL&&g.push(new a.PlacementInScrollInput({},f));d=g.length;for(f=0;f<d;f+=1)b.getInputManager().addInput(g[f]);b.getInputManager().start();return b}):b.waitForSlot(a.InstanceControlManager.InstanceType.Anchor,e.anchorType,e.kioskID).then(function(){return a.Factories.PlacementContainerFactory.createPlacementContainerWithOptions(e)})}}});(function(){a.DisclaimerBarFactory=a.DisclaimerBarFactory||{createBarWithSettings:function(e,
b){var c={showDisclaimer:e.getBool("ui.media.Banner.showDisclaimer",!1),disclaimerLink:e.get("ui.media.overlays.Disclaimer.disclaimerLink",a.Config.DISCLAIMER_DEFAULT_LINK),zIndex:e.get("ui.media.zIndex",!1)},d=e.getBool("ui.media.plugins.ExternalBannerSlot.disclaimerInsideBanner",!1),f=b===a.Config.PLACEMENT_ANCHOR_TYPE.STUB,g=b===a.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL;if(b===a.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL||g)c.closingButton=!1;if(d&&f)return c.external=!1,new a.DisclaimerBarInside(c);
c.external=!0;return new a.DisclaimerBarBasic(c)}}})();(function(){a.Factories.ContainerFactory=a.Factories.ContainerFactory||{createFriendlyIframeTool:function(){var e=document.createElement("iframe"),b=a.tools.isBrowser.internetExplorer9();b&&(e.src="about:blank");e.style.setProperty("max-width","100%","important");e.style.width="100%";e.style.height="100%";e.style.overflow="hidden";e.frameBorder="0";e.scrolling="no";e.align="top";e.seamless="seamless";e.marginwidth="0";e.marginheight="0";var c=
{appendToElement:function(a){a.appendChild(e);return c},getIFrame:function(){return e},waitForLoad:function(){return d.then(function(){return c})},writeContent:function(a){var d=e.contentWindow.document;d.open();d.write(a);b||d.close();return c}};a.tools.decorators.decorateWithPubSub(c,new a.PubSub);var d=(new Promise(function(a){e.onload=function(){a()};e.onreadystatechange=function(){"complete"!==this.readyState&&"interactive"!==this.readyState||a()}})).then(function(){c.publish("iframeLoaded")});
return c}}})();a.tools.encoding=a.tools.encoding||function(){return{base64_decode:function(e){var b="",c,d,f,g,k,h=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<e.length;)c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(h)),h+=1,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(h)),h+=1,g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(h)),h+=1,k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(h)),
h+=1,c=c<<2|d>>4,d=(d&15)<<4|g>>2,f=(g&3)<<6|k,b+=String.fromCharCode(c),64!==g&&(b+=String.fromCharCode(d)),64!==k&&(b+=String.fromCharCode(f));return b=a.tools.encoding.utf8_decode(b)},base64_encode:function(e){var b="",c,d,f,g,k,h,l=0;for(e=a.tools.encoding.utf8_encode(e);l<e.length;)c=e.charCodeAt(l),l+=1,d=e.charCodeAt(l),l+=1,f=e.charCodeAt(l),l+=1,g=c>>2,c=(c&3)<<4|d>>4,k=(d&15)<<2|f>>6,h=f&63,isNaN(d)?k=h=64:isNaN(f)&&(h=64),b=b+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(g)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(h);return b},formURLStringFromParameters:function(a,b){b=b||[];if("object"===typeof a){var c="",d=function(c,d,f){0<f.length&&(f+="&");d=a[c];0<=b.indexOf("ENCODE_KEY")&&(c=encodeURIComponent(c));0<=b.indexOf("ENCODE_VALUE")&&(d=encodeURIComponent(d));return f+(c+"="+d)};
if(0<=b.indexOf("ALPHABETIZE")){var f=[],g;for(g in a)a.hasOwnProperty(g)&&f.push(g);f.sort();g=f.length;if(0<g)for(var k=0;k<g;k+=1)var h=f[k],c=d(h,a[h],c)}else for(f in a)a.hasOwnProperty(f)&&(c=d(f,a[f],c));return c}return""},getOldFormatURLDetails:function(a){var b=!1,c=!1,d="development";a=a.toLowerCase();for(var f=a.split("/"),g=0,k=f.length;g<k;g+=1)"albumid"===f[g]?b=parseInt(f[g+1],10):"co"===f[g]&&(c=parseInt(f[g+1],10));0<=a.indexOf("kiosked.com")?d="production":0<=a.indexOf("intags.com")&&
(d="staging");return{pub:c,site:b,env:d}},utf8_decode:function(a){for(var b="",c=0,d=0,f=0,g=0;c<a.length;)d=a.charCodeAt(c),128>d?(b+=String.fromCharCode(d),c+=1):191<d&&224>d?(f=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|f&63),c+=2):(f=a.charCodeAt(c+1),g=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(f&63)<<6|g&63),c+=3);return b},utf8_encode:function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c+=1){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):(127<d&&2048>
d?b+=String.fromCharCode(d>>6|192):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128)),b+=String.fromCharCode(d&63|128))}return b}}}();(function(){a.AdElementFactory=a.AdElementFactory||{createAdElementWithWaterfall:function(e,b,c,d,f){d=d||new a.SettingsOBC;var g=b.getCurrentStep();if(!1!==g){b=g.network.toLowerCase();var k=a.AdElementFactory.getElementType(b),h=new (a.AdElementFactory.getAdElementClass(b))({kioskID:c,zIndex:d.get("ui.media.zIndex",!1)}),l=function(){h.set("loaded");
h.publish("loaded")},n=a.tools.create("div");d={advertiserID:g.advertiserID,zoneID:g.zone,network:b,kioskID:c,width:g.proportions.width,height:g.proportions.height,placementType:f.getOptions().placementType,domain:a.tools.environment.getPageDomain(),dfpCount:h instanceof a.AdElementDFP?h.getDFPIndex():-1,fldStatus:f.getRTBPosition()};if("script"===k){e.appendChild(n);e=a.AdElementFactory.getScriptResourceForNetwork(b);if(e=a.AdContentTokenResolver.resolveContent(e,d))return c=a.AdElementApplicatorFactory.createApplicatorForScript(n,
e,l,c),h.setScalingElement(n),h.setApplicator(c),h;throw new z("No script content available for network: "+b);}if("in-line"===k){n=a.AdElementFactory.createInLine(c);e.appendChild(n);c=a.AdElementFactory.getScriptResourceForNetwork(b);if(c=a.AdContentTokenResolver.resolveContent(c,d))return c=a.AdElementApplicatorFactory.createApplicatorForInLine(n,c,l),h.setScalingElement(n),h.setApplicator(c),h;throw new z("No in-line content available for network: "+b);}if("video"===k)return e.appendChild(n),c=
a.AdElementApplicatorFactory.createApplicatorForVideo(n,g.zone,c,function(b){b instanceof a.VASTVideoAdFlash?(h.set("flash"),h.removeScaling()):b instanceof a.VASTVideoAdHTML5&&h.set("html5");b.setupInContainer(n);b.onEvents("adCompleted","adErrored","adLoaded","adStarted").publishOn(h);return new Promise(function(a){b.subscribe("adStarted",function(){l();a()})})}),h.setScalingElement(n),h.setApplicator(c),h;a.tools.debug.warn("/AdElementFactory/","Failed getting information for network:",g.network)}else a.tools.debug.warn("/AdElementFactory/",
"Unable to get waterfall step information for creating an ad element");return!1},createIFrame:function(e){var b=a.tools.create("iframe");b.setAttribute("id","kbanner"+e);b.setAttribute("frameborder","0");b.setAttribute("scrolling","no");b.setAttribute("ALLOWTRANSPARENCY","true");b.setAttribute("MARGINHEIGHT","0");b.setAttribute("MARGINWIDTH","0");b.setAttribute("TOPMARGIN","0");b.setAttribute("LEFTMARGIN","0");b.setAttribute(a.Config.KIOSKED_AD_ELEMENT_ID_ATTRIBUTE,e);b.style.position="absolute";
b.style.left="0px";b.style.bottom="0px";b.style.border="none";b.style.WebkitTransformOrigin="0% 100%";b.style.MozTransformOrigin="0% 100%";b.style.msTransformOrigin="0% 100%";b.style.OTransformOrigin="0% 100%";b.style.transformOrigin="0% 100%";b.style.setProperty("max-width","none","important");b.style.setProperty("min-height","0","important");b.style.setProperty("margin","0 0","important");b.style.setProperty("margin","0 0","important");return b},createInLine:function(e){var b=a.tools.create("div");
b.setAttribute(a.Config.KIOSKED_AD_ELEMENT_ID_ATTRIBUTE,e);return b},getAdElementClass:function(e){switch(e.toLowerCase()){case "dfp":return a.AdElementDFP;default:return a.AdElement}},getElementType:function(a){switch(a){case "iow":case "dfp":return"in-line";case "appnexus":case "criteo":case "openx":case "revive":case "districtm":return"script";case "vast":return"video";case "test:script":return"script";default:return!1}},getNetworkURL:function(e,b,c,d){d||new a.SettingsOBC;switch(e.toLowerCase()){default:return""}},
getScriptResourceForNetwork:function(e){switch(e.toLowerCase()){case "appnexus":return"https:"===a.tools.pageProtocol?a.resourceManager.getResource("networks/appnexus_secure.html"):a.resourceManager.getResource("networks/appnexus.html");case "revive":return a.resourceManager.getResource("networks/revive.html");case "dfp":return a.resourceManager.getResource("networks/dfp.html");case "districtm":return a.resourceManager.getResource("networks/districtm.html");case "criteo":return a.resourceManager.getResource("networks/criteo.html");
case "openx":return a.resourceManager.getResource("networks/openx.html");case "iow":return a.resourceManager.getResource("networks/iow.html");case "test:script":return a.resourceManager.getResource("networks/test.html");default:return null}}}})();(function(){a.AdElementApplicatorFactory=a.AdElementApplicatorFactory||{createApplicatorForInLine:function(e,b,c){return function(){e.innerHTML=b;return a.tools.dom.reloadScriptsInNode(e).then(c)}},createApplicatorForScript:function(e,b,c,d){return function(){var f=
a.resourceManager.getResource("helpers/iframe-padding.html"),g=a.Factories.ContainerFactory.createFriendlyIframeTool(),k=g.getIFrame();g.subscribe("iframeLoaded",function(){a.GrandCentralStationLocator.getGrandCentralStation().publish("iframeLoaded",d)});k.setAttribute("data-kioskid",d);g.appendToElement(e);g.writeContent("<!DOCTYPE html><html><head></head><body>"+(f+"\n"+b)+"</body></html>");return g.waitForLoad().then(c)}},createApplicatorForVideo:function(e,b,c,d){return function(){if(e){var f=
new a.VASTDelegate(b);return f.prepareVideoPlayer().then(function(a){if(!a)throw new z("Failed building video player");f.destroy();return a.initialise().then(function(){a.setKioskID(c);return a},function(a){throw new z("Failed initialising video player: "+a);})}).then(d)}throw new z("Required: container");}}}})();var z=function(a,b){this.name="KioskedException";this.message="[Kiosked] "+a;this.stack=Error().stack;this.meta=b||{}};z.prototype=Object.create(Error.prototype);z.prototype.constructor=
z;a.Sniffing.preFlightCheck=a.Sniffing.preFlightCheck||function(){return function(e,b){var c=e.get("ui.geo.filter.country.blacklist","").split(","),d=e.get("ui.geo.filter.country.whitelist","").split(",");if(b&&2===b.length){b=b.toUpperCase();d=d.map(function(a){return a.trim().toUpperCase()}).filter(function(a){return 0<a.length});if(0<d.length&&0>d.indexOf(b))return a.tools.debug.log("/PreFlight/","Country not in whitelist: "+b),!1;c=c.map(function(a){return a.toUpperCase().trim()}).filter(function(a){return 0<
a.length});if(0<c.length&&0<=c.indexOf(b))return a.tools.debug.log("/PreFlight/","Country is in the blacklist: "+b),!1}return!0}}();a.tools.communication=a.tools.communication||function(){var e=a.tools.isBrowser.internetExplorer9();return{getAjaxAppliance:function(){var a=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"];if(e)return new window.XDomainRequest;if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)for(var c=0;c<a.length;c+=1)try{return new window.ActiveXObject(a[c])}catch(d){}return!1},
sendRequest:function(b){b=b||{};var c="POST";if(!b.hasOwnProperty("destination"))throw new a.Exceptions.InvalidPropertiesException("(Kiosked) No 'destination' specified for Ajax request",this,b);if(b.method)if(0<=["POST","GET"].indexOf(b.method.toUpperCase()))c=b.method.toUpperCase();else throw new a.Exceptions.NotSupportedException("Unsupported request method: '"+b.method+"'",b);else m.debug.log("/Communication/","No request method specified, using default:",c);b.hasOwnProperty("data")&&"GET"!==
c||(b.data=null);b.data&&("object"===typeof b.data||m.array.isArray(b.data))&&(b.data=m.encoding.formURLStringFromParameters(b.data,["ENCODE_VALUE"]));var d=b.hasOwnProperty("appliance")?b.appliance:m.communication.getAjaxAppliance();if(!1===d||!m.isset(d))throw new a.Exceptions.NotSupportedException("Failed finding ajax appliance",this);var f=new Promise(function(a,c){d.onreadystatechange=function(){4===d.readyState&&(200===d.status?(a(d.responseText),b.callback&&b.callback(d.responseText)):(c(d.statusText),
b.errorCallback&&b.errorCallback()))}});e&&(d.onprogress=function(){},f=new Promise(function(a,c){d.onload=function(){a(d.responseText);b.callback&&b.callback(d.responseText)};d.onerror=d.ontimeout=function(){c(d.statusText);b.errorCallback&&b.errorCallback()}}),b.destination=b.destination.replace(/^https?:/,""),b.destination=window.location.protocol+b.destination);d.open(c,b.destination,!0);d.withCredentials=b.hasOwnProperty("withCredentials")?b.withCredentials:!0;e||d.setRequestHeader("Content-Type",
"application/x-www-form-urlencoded");d.send(b.data);return f}}}();a.PlacementWaterfallCallbackInput=a.PlacementWaterfallCallbackInput||a.PlacementInputAbstract.extend(function(){function e(){a.tools.scope.enforceCaller(this,a.PlacementWaterfallCallbackInput,"Caller not instance of ITGS.PlacementWaterfallCallbackInput");var b=this,c=a.GrandCentralStationLocator.getGrandCentralStation();c.subscribe("appNexusFallbacksReceived",function(a){b.addDataset("appnexus",a);(a=b.getLastPlacement())&&b.process(a)});
c.subscribe("appNexusFallbackInitiated",function(a){b.addDataset("appnexus",a);(a=b.getLastPlacement())&&b.process(a)});c.subscribe("networkFallbacksReceived",function(a){b.addDataset("kiosked",a);(a=b.getLastPlacement())&&b.process(a)});c.subscribe("networkFallbackInitiated",function(a){b.addDataset("kiosked",a);(a=b.getLastPlacement())&&b.process(a)});c.subscribe("placementFillError",function(a){b.addDataset("kiosked",{container_id:a,fallback:!0});(a=b.getLastPlacement())&&b.process(a)})}function b(b,
c){a.tools.scope.enforceCaller(this,a.PlacementWaterfallCallbackInput,"Context not met: ITGS.PlacementWaterfallCallbackInput");var e=b.length,k=c.getOptions().kioskID,h,l;try{h=c.getAdFill().getAdElement().getScalingElement().src}catch(n){return!1}for(l=0;l<e;l+=1)if(h===b[l])return!0;for(l=0;l<e;l+=1){h=!1;try{var m=new a.URLParser(b[l]),A=decodeURIComponent(m.getQuery());h=(new RegExp("tt\\?.+?cb="+k)).test(A)}catch(x){}if(h)return!0}return!1}var c=["appnexus","kiosked"];return{construct:function(a,
b){this.$super(a,b);var g=this;this._lastWaterfallDatasets={};c.forEach(function(a){g._lastWaterfallDatasets[a]=[]});e.call(this)},addDataset:function(a,b){this._lastWaterfallDatasets[a].push(b)},clearDatasetCollection:function(a){this._lastWaterfallDatasets.hasOwnProperty(a)&&(this._lastWaterfallDatasets[a]=[])},closePlacement:function(b){var c=b.getWaterfall();b.getAdFill().publish("waterfallEnd",{waterfall:c});return b.hideAd().then(a.tools.delay(1,!0)).then(function(){var c=a.PlacementContainerLocator.getPlacementContainerByID(b.getOptions().kioskID);
if(c)a.destructors.destroyPlacementContainer(c);else throw new z("Unable to locate placement container for destruction");})},destroy:function(){this.$super()},getDatasetCollection:function(a){return this._lastWaterfallDatasets.hasOwnProperty(a)&&0<this._lastWaterfallDatasets[a].length?this._lastWaterfallDatasets[a]:!1},process:function(d){this.$super(d);var e=this;c.forEach(function(c){var k=e.getDatasetCollection(c);!1!==k&&(k.forEach(function(h){var l;if(h.dfpFrame){l=h.dfpFrame;var k=d.getAdFill().getAdElement().getScalingElement();
l=k&&k.querySelector('[id="'+l+'"]')?!0:!1}else l=h.container_id,l=d.getOptions().kioskID===l||b.call(e,h.frame_urls||[],d);l&&(!0===h.fallback?e.processWaterfallStep(d):h.zones?e.processIncomingWaterfall(d,h.zones,c):a.tools.debug.warn("/PlacementWaterfallCallbackInput/","Invalid dataset",h))}),e.clearDatasetCollection(c))})},processIncomingWaterfall:function(b,c,e){var k=b.getAdFill().getOptions().proportions,h=b.getWaterfall();c.forEach(function(a){h.addStep(a.name,a.zone,k,e)});a.tools.debug.log("/PlacementWaterfallCallbackInput/",
"Added "+c.length+" new steps ("+e+")");this.processWaterfallStep(b)},processWaterfallStep:function(a){var b=a.getWaterfall();b.step()?(a.getAdFill().empty(),a.getAdFill().setup(b,a.getSettings()).then(function(){a.getAdFill().updateLayout()})):this.closePlacement(a)}}}());a.PlacementSizeInput=a.PlacementSizeInput||a.PlacementInputAbstract.extend(function(){return{construct:function(e,b){this.$super(a.tools.mergeDefaults({order:0},e),b);this._lastSize={width:0,height:0};this.set("cuttingEnabled")},
process:function(e){this.$super(e);var b=e.getAnchor().getTargetElement(),c=m.getElementOffset(b),d=c.screen,f=parseInt(d.width,10),d=parseInt(d.height,10),f=f-(c.border.left+c.border.right+c.padding.left+c.padding.right),d=d-(c.border.top+c.border.bottom+c.padding.top+c.padding.bottom);c={width:f,height:d};a.tools.scope.enforceCaller(this,a.PlacementSizeInput,"Expected caller to be instance of PlacementSizeInput");if(!this.isNot("cuttingEnabled")){var g=this.getSettings(),f=g.get("ui.media.cutRightSideByElement",
!1),d=g.get("ui.media.cutBottomSideByElement",!1),g=g.get("ui.media.cutSizeFromParents",!1),k=e.getCuttingElement("right"),h=e.getCuttingElement("bottom"),l=e.getCuttingElement("parent");0===parseInt(g,10)?this.unset("cuttingEnabled"):(null===k&&!1!==f&&(k=a.tools.dom.queryFirst(f)),null===h&&!1!==d&&(h=a.tools.dom.queryFirst(d)),null===l&&!1!==g&&(l=a.tools.dom.cutting.locateParentElement(b,g)),e.setCuttingElement("right",k),e.setCuttingElement("bottom",h),e.setCuttingElement("parent",l),l&&(b=a.tools.dom.getIntersection(l,
b),c.width=b.intersect.width,c.height=b.intersect.height))}a.tools.isDifferentSize(c,this._lastSize)&&e.dispatch("placementSizeChanged",c);this._lastSize=c}}}());a.PlacementRefreshInput=a.PlacementRefreshInput||a.PlacementInputAbstract.extend(function(){function e(){a.tools.scope.enforceCaller(this,a.PlacementRefreshInput,"Context not met: ITGS.PlacementRefreshInput");var b=this._onscreenInterval;if(this.canRefresh("onscreen")){this._onscreenSeconds=!0===this._onscreenCheck?this._onscreenSeconds+
1:0;if(this._onscreenSeconds>=this._onscreenRefreshTimeout){this._onscreenSeconds=0;var d=this.getLastPlacement();if(d)this.markRefreshCount("onscreen"),d.hideAd().then(function(){d.refresh().then(function(){d.showAd()},function(){a.tools.debug.warn("/PlacementRefreshInput/","Refresh failed, disabling");clearInterval(b)})});else throw new z("No placement ready for on-screen refresh");}this._onscreenCheck=!0}else clearInterval(b)}var b=["onscreen","offscreen"];return{construct:function(a,b){this.$super(a,
b);this.addStatus("offscreenEnabled");this.addStatus("onscreenEnabled");this.addStatus("beenHidden");this.set("refreshingEnabled");!0===b.getBool("ui.media.Banner.bannerReloading.offScreen.hide",!1)&&this.set("offscreenEnabled");this._onscreenSeconds=0;this._onscreenCheck=!1;this._onscreenRefreshTimeout=b.getInt("ui.media.Banner.bannerReloading.onScreen.hide",0);this._refreshCounts={onscreen:{current:0,max:b.getInt("ui.media.Banner.bannerReloading.onScreen.maxRefreshCount",5)},offscreen:{current:0,
max:b.getInt("ui.media.Banner.bannerReloading.offScreen.maxRefreshCount",0)}};this._lastAnchorState=12},canRefresh:function(a){if(0>b.indexOf(a))throw new z("Invalid refresh context: "+a);a=this._refreshCounts[a];return 0<a.max?a.current<a.max:!0},destroy:function(){this._onscreenInterval&&clearInterval(this._onscreenInterval);this.$super()},markRefreshCount:function(a){if(0>b.indexOf(a))throw new z("Invalid refresh context: "+a);this._refreshCounts[a].current+=1},process:function(a){this.$super(a);
var b=this,f=a.getAnchor().isVisible();this.refreshEnabled(a)&&(this.is("offscreenEnabled")&&this.canRefresh("offscreen")&&this.processOffscreen(a,f),this.is("onscreenEnabled")&&!f&&(this._onscreenCheck=!1),!this._onscreenInterval&&10<=this._onscreenRefreshTimeout&&(this.set("onscreenEnabled"),this._onscreenInterval=setInterval(function(){e.call(b)},1E3)))},processOffscreen:function(a,b){var e=this;switch(this._lastAnchorState){case 12:this._lastAnchorState=!0===b?11:10;this.processOffscreen(a,b);
return;case 10:if(b){if(this.is("hiding")||a.is("animating"))return;this.has("beenHidden")&&(this.unset("beenHidden"),this.markRefreshCount("offscreen"),a.refresh().then(function(){a.showAd()}))}break;case 11:!b&&a.isNot("animating")&&(this.set("hiding"),a.hideAd().then(function(){e.set("beenHidden");e.unset("hiding")}))}this._lastAnchorState=!0===b?11:10},refreshEnabled:function(b){if(this.isNot("refreshingEnabled"))return!1;var d=b.getAnchor(),e=(b=b.getAdFill())?b.getAdElement():null;return d&&
!0!==d.getOptions().refreshEnabled||b&&!0!==b.getOptions().refreshEnabled||e&&!0!==e.getOptions().refreshEnabled?(this.unset("refreshingEnabled"),a.tools.debug.log("/PlacementRefreshInput/","Refreshing is not available for this placement setup"),!1):!0}}}());a.PlacementPositionInput=a.PlacementPositionInput||a.PlacementInputAbstract.extend(function(){return{construct:function(e,b){this.$super(a.tools.mergeDefaults({order:1},e),b);this._lastPosition={left:0,top:0};this.set("cuttingEnabled")},process:function(e){this.$super(e);
var b=e.getAnchor().getTargetElement(),c=a.tools.getElementOffset(b),d=a.tools.getElementOffset(e.getAnchor().getAnchorElement(),!0,!0),f=c.left,g=c.top,f=f+(c.border.left+c.padding.left),g=g+(c.border.top+c.padding.top),f=f-d.left,g=g-d.top;c={top:g,left:f};a.tools.scope.enforceCaller(this,a.PlacementPositionInput,"Expected caller to be instance of PlacementPositionInput");if(!this.isNot("cuttingEnabled")){var g=this.getSettings(),d=g.get("ui.media.cutLeftSideByElement",!1),f=g.get("ui.media.cutTopSideByElement",
!1),g=g.get("ui.media.cutSizeFromParents",!1),k=e.getCuttingElement("left"),h=e.getCuttingElement("top"),l=e.getCuttingElement("parent");0===parseInt(g,10)?this.unset("cuttingEnabled"):(null===k&&!1!==d&&(k=a.tools.dom.queryFirst(d)),null===h&&!1!==f&&(h=a.tools.dom.queryFirst(f)),null===l&&!1!==g&&(l=a.tools.dom.cutting.locateParentElement(b,g)),e.setCuttingElement("left",k),e.setCuttingElement("top",h),e.setCuttingElement("parent",l),l&&(b=a.tools.dom.getIntersection(l,b),c.left+=0>b.difference.left?
Math.abs(b.difference.left):0,c.top+=0>b.difference.top?Math.abs(b.difference.top):0))}a.tools.isDifferentPosition(c,this._lastPosition)&&e.dispatch("placementPositionChanged",c);this._lastPosition=c}}}());a.PlacementInterstitialInput=a.PlacementInterstitialInput||a.PlacementInputAbstract.extend(function(){return{construct:function(e,b){this.$super(a.tools.mergeDefaults({order:-2},e),b);this._lastSize={width:0,height:0};this._marginWidth=40;this._marginHeight=140},process:function(e){this.$super(e);
var b=window.innerWidth,c={width:2*a.Config.BANNER_SIZE_STANDARDS.MEDIUM_RECT.WIDTH,height:a.Config.BANNER_SIZE_STANDARDS.MEDIUM_RECT.HEIGHT};if(e.getAdFill()){var d=e.getAdFill().getOptions().proportions,f=e.getAnchor().getContainerBox(),g=e.getAnchor().getDisclaimer(),k=this._marginWidth,h=this._marginHeight,c={width:d.width,height:d.height};b<d.width+k&&(c=a.tools.ads.calculateActualAdSize({width:b-k,height:0},{width:d.width,height:d.height},!0).height,c={width:b-k,height:c});f.style.marginTop=
-(c.height/2)+"px";f.style.marginLeft=-(c.width/2)+"px";f.style.top="50%";f&&window.innerHeight<d.height+h&&(screen.height>b?(c={width:a.tools.ads.calculateActualAdSize({width:0,height:window.innerHeight-h},{width:d.width,height:d.height},!1).width,height:window.innerHeight-h},f.style.marginTop=-(c.height/2)+"px",f.style.marginLeft=-(c.width/2)+"px",f.style.top="50%"):(f.style.marginTop=h/2+"px",f.style.top=0));g.getContainer().style.bottom=c.height+"px"}a.tools.isDifferentSize(c,this._lastSize)&&
e.dispatch("placementSizeChanged",c);this._lastSize=c}}}());a.PlacementInScrollInput=a.PlacementInScrollInput||a.PlacementInputAbstract.extend(function(){return{construct:function(e,b){this.$super(a.tools.mergeDefaults({order:-2},e),b);this._lastSize={width:0,height:0}},process:function(e){this.$super(e);var b=window.innerWidth,c=window.innerHeight,d={width:2*a.Config.BANNER_SIZE_STANDARDS.MEDIUM_RECT.WIDTH,height:a.Config.BANNER_SIZE_STANDARDS.MEDIUM_RECT.HEIGHT};if(e.getAdFill()){var f=e.getAdFill().getOptions().proportions,
g=e.getAnchor().getDisclaimer().getContainer(),k=e.getAnchor().getTrickeryBox(),h=e.getAnchor().getSwipeGuide(),l=b>c,d={width:f.width,height:f.height};b<f.width+40&&(d=a.tools.ads.calculateActualAdSize({width:b-40,height:0},{width:f.width,height:f.height},!0).height,d={width:b-40,height:d});k&&(k.style.width=d.width+"px",k.style.height=d.height+"px",k.scrollTop=a.Config.INSCROLL_TRICKERY_CONTENT/2);h&&(h.style.left=l?"auto":"50%",h.style.right=l?"50%":"auto",h.style.top=l?"50%":"100%",h.style.marginRight=
l?-(d.width/2+80)+"px":0);g.style.bottom=d.height+g.clientHeight+"px";g.style.marginRight=-(d.width/2)+"px"}a.tools.isDifferentSize(d,this._lastSize)&&e.dispatch("placementSizeChanged",d);c!==this._lastHeight&&e.updateLayout();this._lastSize=d;this._lastHeight=c}}}());a.PlacementFixedSizeInput=a.PlacementFixedSizeInput||a.PlacementInputAbstract.extend(function(){return{construct:function(e,b){this.$super(a.tools.mergeDefaults({order:-2},e),b);this._lastSize={width:0,height:0}},process:function(e){this.$super(e);
var b=window.innerWidth,c=a.tools.environment.device.isMobile()?{width:b,height:a.Config.BANNER_SIZE_STANDARDS.MOBILE.HEIGHT}:{width:a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.WIDTH,height:a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.HEIGHT};e.getAdFill()&&(c=e.getAdFill().getOptions().proportions,a.tools.environment.device.isMobile()?(c=a.tools.ads.calculateActualAdSize({width:b,height:a.Config.BANNER_SIZE_STANDARDS.MOBILE.HEIGHT},{width:c.width,height:c.height},!0).height,c+=e.getAnchor().getDisclaimer().getHeight(),
c={width:b,height:c}):c={width:c.width,height:c.height});a.tools.isDifferentSize(c,this._lastSize)&&e.dispatch("placementSizeChanged",c);this._lastSize=c}}}());I("TimingReportController",function(){var e=function(){this._timingEvents=[];this._resources=[]};e.prototype.getResources=function(){return this._resources};e.prototype.getTimingEvents=function(){return this._timingEvents};e.prototype.registerEvent=function(b,c,d){if(!a.tools.environment.navigationTimingSupported()||0>=d)return!1;this._timingEvents.push({event:b,
properties:c,time:d});return!0};e.prototype.registerEventNow=function(a,c){return this.registerEvent(a,c,m.environment.getCurrentTimestamp())};e.prototype.registerInitialsEvents=function(){this.registerEvent("prevDomUnload",{},a.tools.dom.getNavigationPerfTimingValue("unloadEventStart"));this.registerEvent("pageNavStart",{},a.tools.dom.getNavigationPerfTimingValue("navigationStart"));this.registerEvent("domLoaded",{},a.tools.dom.getNavigationPerfTimingValue("domContentLoadedEventEnd"))};e.prototype.registerResource=
function(b){var c=a.tools.dom.getResourceEntryByRegex(b)[0],d={};void 0!==c&&!1!==c&&(a.Config.PERFORMANCE_RESOURCES_PROPS.forEach(function(a){d[a]=c[a]}),this._resources.push(d))};e.prototype.registerResources=function(){if(a.tools.environment.resourcePerfSupported())for(var b=[/\/kiosked-loader\.js/i,/(intags\.com|kiosked\.com)(\/sniffer\/get-script|\/widget\/sniff)\//i,/(intags|kiosked).+?ssp\/placement-identifier/i,/scripts\/kiosked-endpoint/i],c=0,d=b.length;c<d;c+=1)this.registerResource(b[c])};
return e});a.PlacementExternalSizeInput=a.PlacementExternalSizeInput||a.PlacementInputAbstract.extend(function(){return{construct:function(a,b){this.$super(a,b);this._lastSize={width:0,height:0}},process:function(e){this.$super(e);var b=e.getAnchor().getTargetElement(),b=m.getElementOffset(b),c=e.getAdFill(),c=a.tools.isset(c)?a.tools.ads.calculateActualAdSize(b.width,c.getOptions().proportions,!0).height:0,c=c+e.getAnchor().getDisclaimer().getHeightOutsideBanner();e.isNot("shown")&&(c=0);b={width:b.width,
height:c};a.tools.isDifferentSize(b,this._lastSize)&&(e.dispatch("placementSizeChanged",b),e.getAnchor().getAnchorElement().style.width=b.width+"px");this._lastSize=b}}}());(function(){var e,b=function(){this.supports={html5:"function"===typeof document.createElement("video").canPlayType,flash:a.tools.flash.flashSupported}};a.videoSupport={supports:function(a){e||(e=new b);return!0===e.supports[a]}}})();a.VASTVideoAdHTML5=a.VASTVideoAdHTML5||a.VASTVideoAdAbstract.extend(function(){function e(){a.tools.scope.enforceCaller(this,
a.VASTVideoAdHTML5,"Expected caller to be instance of VASTVideoAdHTML5");var b=this;this._videoMouseoverListener=a.tools.dom.addEvent(this._videoContentDiv,"mouseover",function(){b.enableVolume(!0)});this._videoMouseoutListener=a.tools.dom.addEvent(this._videoContentDiv,"mouseout",function(){b.enableVolume(!1)})}var b=!1;return{construct:function(b){this.$super(b);this._subscriptions=[];this._tempVideoItem=this._adsManager=this._adsLoader=null;a.tools.scope.enforceCaller(this,a.VASTVideoAdHTML5,"Expected caller to be instance of VASTVideoAdHTML5")},
destroy:function(){try{this._subscriptions.forEach(function(a){a.remove()})}catch(b){}this._subscriptions=null;this._tempVideoItem&&(a.tools.dom.destroy(this._tempVideoItem),this._tempVideoItem=null);this._adsManager=this._adsLoader=null;a.tools.scope.enforceCaller(this,a.VASTVideoAdHTML5,"Expected caller to be instance of VASTVideoAdHTML5");this._videoMouseoverListener&&this._videoMouseoverListener.remove();this._videoMouseoutListener&&this._videoMouseoutListener.remove();this.$super()},enableVolume:function(b){var d=
this.getAdsManager();if(!d)throw new z("No ads manager instantiated");b?(a.tools.debug.log("/VASTVideoAdHTML5/","Volume enabled"),d.setVolume(.8)):(a.tools.debug.log("/VASTVideoAdHTML5/","Volume disabled"),d.setVolume(0))},getAdsLoader:function(){return this._adsLoader},getAdsManager:function(){return this._adsManager},initialise:function(){return this.$super().then(function(){return new Promise(function(a,d){if(b)a();else{var e=document.createElement("script");e.setAttribute("src","//imasdk.googleapis.com/js/sdkloader/ima3.js");
e.onreadystatechange=e.onload=function(){var e=8,f=setInterval(function(){e-=1;"function"===typeof google.ima.AdsLoader?(b=!0,clearInterval(f),a()):0>=e&&(clearInterval(f),d("Failed to load ima"))},250)};document.head.appendChild(e)}})})},setupInContainer:function(b){this._videoContentDiv=a.tools.create("div");b.appendChild(this._videoContentDiv);this._tempVideoItem=document.createElement("video");b=new google.ima.AdDisplayContainer(this._videoContentDiv,this._tempVideoItem);google.ima.settings.setVpaidAllowed(google.ima.ImaSdkSettings.VpaidMode.ENABLED);
google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED);b.initialize();this._adsLoader=new google.ima.AdsLoader(b);this.getAdsLoader().addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.bindMember("_adManagerLoaded"),!1);this.getAdsLoader().addEventListener(google.ima.AdsManagerLoadedEvent.Type.AD_ERROR,this.bindMember("_adErrored"),!1);b=new google.ima.AdsRequest;b.adsResponse=this.getVASTResponseText();b.linearAdSlotWidth=640;b.linearAdSlotHeight=
360;b.nonLinearAdSlotWidth=640;b.nonLinearAdSlotHeight=150;this.getAdsLoader().requestAds(b)},_adManagerLoaded:function(a){this._adsManager=a.getAdsManager(this._tempVideoItem);this.getAdsManager().addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.bindMember("_adErrored"));this.getAdsManager().addEventListener(google.ima.AdEvent.Type.LOADED,this.bindMember("_adLoaded"));this.getAdsManager().addEventListener(google.ima.AdEvent.Type.STARTED,this.bindMember("_adStarted"));this.getAdsManager().addEventListener(google.ima.AdEvent.Type.COMPLETE,
this.bindMember("_adCompleted"));e.call(this);this.getAdsManager().init(this.getSize().width,this.getSize().height,google.ima.ViewMode.NORMAL);this.enableVolume(!1)},_adStarted:function(){this.$super();this._adsManager.start();this.enableVolume(!1)},_adLoaded:function(){this.$super();this._adsManager.start()}}}());a.VASTVideoAdFlash=a.VASTVideoAdFlash||a.VASTVideoAdAbstract.extend(function(){function e(){a.tools.scope.enforceCaller(this,a.VASTVideoAdFlash,"Expected caller to be instance of VASTVideoAdFlash");
var b=this;this._subscriptions.push(a.subscribe("flashAdLoaded",function(a){a===b.getFlashAdID()&&b._adLoaded()}));this._subscriptions.push(a.subscribe("flashAdStarted",function(a){a===b.getFlashAdID()&&b._adStarted()}));this._subscriptions.push(a.subscribe("flashAdCompleted",function(a){a===b.getFlashAdID()&&b._adCompleted()}));this._subscriptions.push(a.subscribe("flashAdError",function(a){a===b.getFlashAdID()&&b._adErrored()}))}function b(){return new Promise(function(a,b){var c=8,d=setInterval(function(){c-=
1;"function"===typeof window.swfobject.embedSWF?(clearInterval(d),a()):0>=c&&(clearInterval(d),b("Failed to load swfobject"))},250)})}function c(b){a.tools.scope.enforceCaller(this,a.VASTVideoAdFlash,"Expected caller to be instance of VASTVideoAdFlash");this.flashObj=b.ref;this.flashObj.onmouseover=function(){try{b.ref.setVolume(.8)}catch(a){}};this.flashObj.onmouseout=function(){try{b.ref.setVolume(0)}catch(a){}}}var d=!1;return{construct:function(a){this.$super(a);this._playerStates={loaded:!1,
started:!1,error:!1,playOnLoad:!1};this._subscriptions=[];e.call(this)},buildFlashObject:function(){return{id:this.getFlashAdID(),loaded:a.tools.curryWhole(this.getPlayerState,this)("loaded"),started:a.tools.curryWhole(this.getPlayerState,this)("started"),error:a.tools.curryWhole(this.getPlayerState,this)("error"),playOnLoad:a.tools.curryWhole(this.getPlayerState,this)("playOnLoad"),completedCallback:this.bindMember("_adCompleted"),startedCallback:this.bindMember("_adStarted"),loadedCallback:this.bindMember("_adLoaded"),
errorCallback:this.bindMember("_adErrored")}},destroy:function(){try{this._subscriptions.forEach(function(a){a.remove()})}catch(a){}this._subscriptions=null;this.$super()},getFlashAdID:function(){return"kskdVideo"+this.getKioskID()},getPlayerState:function(a){if(!this._playerStates.hasOwnProperty(a))throw new z("Invalid player state: "+a);return this._playerStates[a]},initialise:function(){return this.$super().then(function(){return new Promise(function(a,c){if(d)b().then(a,c);else{d=!0;var e=document.createElement("script");
e.setAttribute("src","//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js");e.onreadystatechange=e.onload=function(){b().then(a,c)};document.head.appendChild(e)}})})},setupInContainer:function(b){var d=b.parentNode.offsetWidth,e=d/640*360,h=this.buildFlashObject(),l={vastText:encodeURIComponent(this.getVASTResponseText()),adID:h.id},n={id:"kioskedAdPlayer_"+h.id,name:"kioskedAdPlayer",align:"middle",style:"max-width:"+d+"px !important;height:"+e+"px !important;position: absolute; left: 0px; bottom: 0px"},
m=a.tools.create("div"),A=a.tools.create("div");m.appendChild(A);A.setAttribute("id",h.id);b.appendChild(m);window.swfobject.embedSWF(a.Config.FLASH_PLAYER_LOCATION,h.id,d,e,"1.0","",l,{quality:"high",bgcolor:"#FFFFFF",allowscriptaccess:"always",allowfullscreen:"true"},n,a.tools.compatibility.bindFunction(c,this))}}}());a.tools.ads=a.tools.ads||function(){return{calculateActualAdSize:function(e,b,c){e=a.tools.ads.calculateScale(e,b,c);return{width:Math.floor(b.width*e),height:Math.floor(b.height*
e)}},calculateScale:function(e,b,c){c=a.tools.isset(c)?c:!0;return(c?e.width:e.height)/(c?b.width:b.height)}}}();a.VASTFormatMarshaler=a.VASTFormatMarshaler||a.AdComponentAbstract.extend(function(){return{construct:function(){this.$super();this._VASTResponseText=""},buildFlashPlayer:function(){a.tools.debug.log("/VASTFormatMarshaler/","Building Flash video");return new a.VASTVideoAdFlash(this.getVASTResponseText())},buildHTML5Player:function(){a.tools.debug.log("/VASTFormatMarshaler/","Building HTML5 video");
return new a.VASTVideoAdHTML5(this.getVASTResponseText())},getVASTResponseText:function(){return this._VASTResponseText},preparePlayerOfType:function(e){var b=a.videoSupport.supports("html5"),c=a.videoSupport.supports("flash");if(!c&&!b)return a.tools.debug.warn("/VASTFormatMarshaler/","Client does not support a valid video platform"),null;switch(e){case a.Config.VAST_VIDEO_FORMAT_FLASH:if(c)return this.buildFlashPlayer();a.tools.debug.log("/VASTFormatMarshaler/","Requested Flash content, but client does not support Flash players");
return b?this.buildHTML5Player():null;case a.Config.VAST_VIDEO_FORMAT_UNKNOWN:if(b)a.tools.debug.log("/VASTFormatMarshaler/","Requested unknown video format, trying HTML5");else if(c)return this.preparePlayerOfType(a.Config.VAST_VIDEO_FORMAT_FLASH);case a.Config.VAST_VIDEO_FORMAT_HTML5:if(b)return this.buildHTML5Player();a.tools.debug.log("/VASTFormatMarshaler/","Requested HTML5 content, but client does not support HTML5 video");return null;default:throw new z("Invalid video format");}},processVASTResponse:function(e){var b=
a.Config.VAST_VIDEO_FORMAT_UNKNOWN;0<=e.indexOf('type="application/x-shockwave-flash"')||0<=e.indexOf('type="video/x-flv"')?(b=a.Config.VAST_VIDEO_FORMAT_FLASH,a.tools.debug.log("/VASTFormatMarshaler/","VAST format is Flash")):/type ?= ?"(video|application)\/(mp4|ogg|webm|javascript)"/i.test(e)&&(b=a.Config.VAST_VIDEO_FORMAT_HTML5,a.tools.debug.log("/VASTFormatMarshaler/","VAST format is HTML5"));return b},setVASTResponseText:function(a){this._VASTResponseText=a}}}());a.VASTDelegate=a.VASTDelegate||
a.AdComponentAbstract.extend(function(){function e(b){return a.tools.communication.sendRequest({destination:b,method:"GET",withCredentials:!1}).then(function(a){var b=(new DOMParser).parseFromString(a,"text/xml");return 0<b.getElementsByTagName("VASTAdTagURI").length?(a=b.getElementsByTagName("VASTAdTagURI")[0].textContent,e(a)):a},function(a){throw new z("VAST request failed: "+a);})}return{construct:function(b){this.$super();this._vastURL=b;this._formatMarshaler=new a.VASTFormatMarshaler},destroy:function(){var a=
this.getFormatMarshaler();a&&(a.destroy(),this._formatMarshaler=null);this.$super()},getFormatMarshaler:function(){return this._formatMarshaler},getVASTURL:function(){return this._vastURL},prepareVideoPlayer:function(){var a=this;return e(this.getVASTURL()).then(function(c){a.getFormatMarshaler().setVASTResponseText(c);return c}).then(this.getFormatMarshaler().bindMember("processVASTResponse")).then(this.getFormatMarshaler().bindMember("preparePlayerOfType"))}}}());a.AdFillVerticalBanner=a.AdFillVerticalBanner||
a.AdFillBanner.extend(function(){return{construct:function(e,b){this.$super(e,a.tools.mergeDefaults({name:"AdFillVerticalBanner",orientation:"vertical"},b))},getRightPositionForOffScreen:function(){var a=this.getOptions().proportions,b=this.getPlacementSize().height/a.height;return 0-Math.ceil(a.width-b*a.width)-b*a.width},getRightPositionForOnScreen:function(){var a=this.getOptions().proportions,b=this.getPlacementSize().height/a.height;return 0-Math.ceil(a.width-b*a.width)},setup:function(a){var b=
this;return this.$super(a).then(function(){b.getAnchor().buildVisibilityDetectionFrame("vertical");var a=b.getAnchor().getVisibilityDetectionFrame();a&&b.getAnchor().appendAdElement(a)})},updateLayout:function(){this.$super();var a=this.getOptions().proportions,b=this.getPlacementSize(),b=!0===this.getOptions().scaleEnabled?b.height/a.height:1,c=this.getAdElement().getScalingElement();c.style.left="auto";c.style.setProperty("width",a.width+"px","important");c.style.setProperty("height",a.height+"px",
"important");c.style.WebkitTransform="scale("+b+")";c.style.MozTransform="scale("+b+")";c.style.msTransform="scale("+b+")";c.style.OTransform="scale("+b+")";c.style.transform="scale("+b+")";this.is("shown")?c.style.right=this.getRightPositionForOnScreen()+"px":c.style.right=this.getRightPositionForOffScreen()+"px";if(c=this.getAnchor().getVisibilityDetectionFrame())c.style.height=b*a.height+"px"}}}());a.AdFillVast=a.AdFillVast||a.AdFillBanner.extend(function(){return{construct:function(e,b){b=a.tools.mergeDefaults({name:"AdFillVast",
refreshEnabled:!1,vastURL:"",scaleEnabled:!0},b);this.$super(e,b)},setup:function(a,b){var c=this;return this.$super(a,b).then(function(){c.getAnchor().buildVisibilityDetectionFrame("horizontal");var a=c.getAnchor().getVisibilityDetectionFrame();null!==a&&c.getAnchor().appendAdElement(a)}).then(function(){var a=c.getAdElement();a&&(a.set("loaded"),a.onEvents("adCompleted","adErrored","adLoaded","adStarted").publishOn(c))})},updateLayout:function(){this.$super();var e=this.getOptions().proportions,
b=this.getPlacementSize(),b=!0===this.getOptions().scaleEnabled?a.tools.ads.calculateScale(b,e,!0):1,c=this.getAdElement(),d=c.getScalingElement(),f=this.getAnchor().getVisibilityDetectionFrame();if(d){var g=b;c.is("flash")&&(g=1,e.width*=b,e.height*=b);c.scaleElement(e,g)}this.getAnchor()instanceof a.PlacementBoxAnchor&&(d.style.bottom="0px",f.style.height=b*e.height+"px")}}}());(function(){function e(){return{fillClass:!1,proportions:{width:0,height:0},type:"",vastURL:"",zoneID:!1,provider:"",network:"",
viewability:!1,sizeRestraints:{minWidth:0,maxWidth:0}}}a.AdFillResolver=a.AdFillResolver||{createAdFillForConfiguration:function(b,c,d){d=a.tools.mergeDefaults({ignoreMediaSize:!1,kioskID:"",mediaSize:{width:0,height:0}},d);var e=!1;b instanceof a.PlacementLaunchpadAnchor&&(e=a.Config.PLACEMENT_TYPE.IN_SCREEN);e=a.AdFillResolver.getAspectFromSettings(c,d.mediaSize,d.ignoreMediaSize,e);if(0>=e.length)return a.tools.debug.warn("/AdFillResolver/","No aspect(s) found from settings - possible media-size mismatch"),
Promise.resolve(!1);var g=new a.Waterfall;e[0].fillClass===a.AdFillVast?(e.forEach(function(a){g.addStep("vast",a.vastURL,a.proportions,"vastpreroll")}),e=new e[0].fillClass(b,{kioskID:d.kioskID,viewabilityEnabled:e[0].viewability,scaleEnabled:!c.getBool("ui.media.Banner.noScale",!1)})):(e.forEach(function(a){g.addStep(a.network,a.zoneID,a.proportions,a.provider)}),e=new e[0].fillClass(b,{kioskID:d.kioskID,scaleEnabled:!c.getBool("ui.media.Banner.noScale",!1),viewabilityEnabled:e[0].viewability,sizeRestraints:e[0].sizeRestraints,
zIndex:c.get("ui.media.zIndex",!1)}));var k=a.InstanceControlManager.getSharedInstance();return k.registerCount(a.InstanceControlManager.InstanceType.AdFill,e.getOptions().name,d.kioskID)?Promise.resolve({adFill:e,waterfall:g}):k.waitForSlot(a.InstanceControlManager.InstanceType.AdFill,e.getOptions().name,d.kioskID).then(function(){return a.AdFillResolver.createAdFillForConfiguration(b,c,d)})},createAdFillForWaterfall:function(b,c,d){d=a.tools.mergeDefaults({kioskID:""},d);var e,g=b.getCurrentStep();
g&&(e=g.mediaType===a.Waterfall.MediaType.VIDEO||"vast"===g.network?a.AdFillVast:a.AdFillResolver.getAdFillClassFromFormat(b.getPlacementType(),g.proportions.width+"x"+g.proportions.height),e=new e(c,{kioskID:d.kioskID,viewabilityEnabled:!0}));g=a.InstanceControlManager.getSharedInstance();return g.registerCount(a.InstanceControlManager.InstanceType.AdFill,e.getOptions().name,d.kioskID)?Promise.resolve({adFill:e,waterfall:b}):g.waitForSlot(a.InstanceControlManager.InstanceType.AdFill,e.getOptions().name,
d.kioskID).then(function(){return a.AdFillResolver.createAdFillForWaterfall(b,c,d)})},getAdFillClassFromFormat:function(b,c){if(b===a.Config.PLACEMENT_TYPE.UNDEFINED)throw new z("Unknown placement type from waterfall: "+b);var d=a.Config.BANNER_SIZE_STANDARDS;if(b===a.Config.PLACEMENT_TYPE.IN_MEDIA)switch(c){case d.VERTICAL.WIDTH+"x"+d.VERTICAL.HEIGHT:return a.AdFillVerticalBanner;default:return a.AdFillHorizontalBanner}else if(b===a.Config.PLACEMENT_TYPE.IN_LINE)switch(c){case d.MEDIUM_RECT.WIDTH+
"x"+d.MEDIUM_RECT.HEIGHT:return a.AdFillRectBanner;default:return a.AdFillHorizontalBanner}else if(b===a.Config.PLACEMENT_TYPE.IN_SCREEN)switch(c){default:return a.AdFillHorizontalBanner}else if(b===a.Config.PLACEMENT_TYPE.INTERSTITIAL||b===a.Config.PLACEMENT_TYPE.IN_SCROLL)return a.AdFillRectBanner;return null},getAspectFromSettings:function(b,c,d,f){d=a.tools.isset(d)?d:!1;f=a.tools.isset(f)?f:!1;var g=e(),k=[],h=a.AdFillResolver.getProviderFromSettings(b),l=a.AdFillResolver.getAvailableZoneIDs(b),
n;for(n in l)l.hasOwnProperty(n)&&"string"===typeof l[n]&&0>=l[n].trim().length&&(l[n]=!1);n=a.AdFillResolver.getBannerSizeRestraints(b);var m=a.tools.environment.device.isMobile();g.network=g.provider=a.AdFillResolver.getProviderFromSettings(b);g.viewability=b.getBool("ui.media.Banner.viewabilityEnabled",!1);if("vastpreroll"===h)g.fillClass=a.AdFillVast,g.type="video",g.vastURL=l.videoZoneVastUrl,g.proportions.width=a.Config.BANNER_SIZE_STANDARDS.VIDEO.WIDTH,g.proportions.height=a.Config.BANNER_SIZE_STANDARDS.VIDEO.HEIGHT,
g.viewability=!0,k.push(g);else{l.dfpOverride&&5<l.dfpOverride.length&&k.push(a.tools.mergeDefaults(e(),{type:"horizontal",network:"dfp",provider:"dfp",fillClass:a.AdFillHorizontalBanner,zoneID:l.dfpOverride,proportions:{width:a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.WIDTH,height:a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.HEIGHT}}));!0===d?l.mobileVideoZoneId&&m?(g.type="mobileVideo",g.zoneID=l.mobileVideoZoneId,g.viewability=!0):l.mobileZoneId&&m?(g.type="mobile",g.zoneID=l.mobileZoneId):l.mediumMobileRectZoneId&&
m?(g.type="mediumMobileRect",g.zoneID=l.mediumMobileRectZoneId):this.mediumRectZoneId?(g.type="mediumRect",g.zoneID=l.mediumRectZoneId):this.horizontalZoneId?(g.type="horizontal",g.zoneID=l.horizontalZoneId):this.horizontalSmallZoneId&&(g.type="horizontalSmall",g.zoneID=l.horizontalSmallZoneId):l.mobileVideoZoneId&&m?(g.type="mobileVideo",g.zoneID=l.mobileVideoZoneId,g.viewability=!0):c.width>=n.mobileMin&&c.width<=n.mobileMax&&l.mobileZoneId&&m?(g.type="mobile",g.zoneID=l.mobileZoneId,g.sizeRestraints=
{minWidth:n.mobileMin,maxWidth:n.mobileMax}):c.width>=n.medMobileRectMin&&c.width<=n.medMobileRectMax&&l.mediumMobileRectZoneId&&m?(g.type="mediumMobileRect",g.zoneID=l.mediumMobileRectZoneId,g.sizeRestraints={minWidth:n.medMobileRectMin,maxWidth:n.medMobileRectMax}):c.width>=n.medMobileRectMin&&c.width<=n.medMobileRectMax&&l.interstitialZoneId?(g.type=a.Config.PLACEMENT_TYPE.INTERSTITIAL,g.zoneID=l.interstitialZoneId,g.sizeRestraints={minWidth:n.mobileMin,maxWidth:n.mobileMax}):c.width>=n.medRectMin&&
c.width<=n.medRectMax&&l.mediumRectZoneId?(g.type="mediumRect",g.zoneID=l.mediumRectZoneId,g.sizeRestraints={minWidth:n.mobileMin,maxWidth:n.mobileMax}):c.width>=n.horMin&&c.width<=n.horMax&&l.horizontalZoneId?(g.type="horizontal",g.zoneID=l.horizontalZoneId,g.sizeRestraints={minWidth:n.horMin,maxWidth:n.horMax}):c.width<=n.horSmallMax&&c.width>=n.horSmallMin&&l.horizontalSmallZoneId?(g.type="horizontalSmall",g.zoneID=l.horizontalSmallZoneId,g.sizeRestraints={minWidth:n.horSmallMin,maxWidth:n.horSmallMax}):
c.height<=n.vertMax&&c.height>=n.vertMin&&l.verticalZoneId&&(g.type="vertical",g.zoneID=l.verticalZoneId);f===a.Config.PLACEMENT_TYPE.IN_SCREEN&&(l.floorMobileOverride&&m?(g.zoneID=l.floorMobileOverride,g.type="mobile"):l.floorHorizontalOverride&&(g.zoneID=l.floorHorizontalOverride,g.type="horizontal"));switch(g.type){case "vertical":g.fillClass=a.AdFillVerticalBanner;g.proportions.width=a.Config.BANNER_SIZE_STANDARDS.VERTICAL.WIDTH;g.proportions.height=a.Config.BANNER_SIZE_STANDARDS.VERTICAL.HEIGHT;
break;case "mobileVideo":case "mediumRect":case "mediumMobileRect":g.proportions.width=a.Config.BANNER_SIZE_STANDARDS.MEDIUM_RECT.WIDTH;g.proportions.height=a.Config.BANNER_SIZE_STANDARDS.MEDIUM_RECT.HEIGHT;g.fillClass=a.AdFillRectBanner;break;case "interstitial":g.proportions.width=a.Config.BANNER_SIZE_STANDARDS.INTERSTITIAL.WIDTH;g.proportions.height=a.Config.BANNER_SIZE_STANDARDS.INTERSTITIAL.HEIGHT;g.fillClass=a.AdFillRectBanner;break;case "mobile":g.proportions.width=a.Config.BANNER_SIZE_STANDARDS.MOBILE.WIDTH;
g.proportions.height=a.Config.BANNER_SIZE_STANDARDS.MOBILE.HEIGHT;g.fillClass=a.AdFillHorizontalBanner;break;case "horizontalSmall":g.proportions.width=a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL_SMALL.WIDTH;g.proportions.height=a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL_SMALL.HEIGHT;g.fillClass=a.AdFillHorizontalBanner;break;case "horizontal":g.proportions.width=a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.WIDTH,g.proportions.height=a.Config.BANNER_SIZE_STANDARDS.HORIZONTAL.HEIGHT,g.fillClass=a.AdFillHorizontalBanner}0<
g.type.length&&g.zoneID?k.push(g):a.tools.debug.warn("/AdFillTypeResolver/","Aspect was not added to waterfall as it was incomplete.")}return k},getAvailableZoneIDs:function(a){var c=a.getSubset("ui.media.Banner");a=a.getSubset("ui.media.plugins.FloorBannerSlot");return{interstitialZoneId:c.get("interstitialZoneId",!1),mobileZoneId:c.get("mobileZoneId",!1),mediumMobileRectZoneId:c.get("mediumMobileRectZoneId",!1),mobileVideoZoneId:c.get("mobileVideoZoneVastUrl",!1),mediumRectZoneId:c.get("mediumRectZoneId",
!1),horizontalZoneId:c.get("horizontalZoneId",!1),horizontalSmallZoneId:c.get("horizontalSmallZoneId",!1),verticalZoneId:c.get("verticalZoneId",!1),videoZoneVastUrl:c.get("videoZoneVastUrl",!1),dfpOverride:c.get("dfp728ZoneId",!1),floorHorizontalOverride:a.get("zoneOverrides.horizontalZoneId",!1),floorMobileOverride:a.get("zoneOverrides.mobileZoneId",!1)}},getBannerSizeRestraints:function(a){a=a.getSubset("ui.media.Banner");return{horSmallMin:a.getInt("minMediaSize.horizontalSmallWidth",300),horSmallMax:a.getInt("maxMediaSize.horizontalSmallWidth",
489),medRectMin:a.getInt("minMediaSize.medRectWidth",350),medRectMax:a.getInt("maxMediaSize.medRectWidth",900),medMobileRectMin:a.getInt("minMediaSize.medMobileRectWidth",200),medMobileRectMax:a.getInt("maxMediaSize.medMobileRectWidth",700),horMin:a.getInt("minMediaSize.horizontalWidth",490),horMax:a.getInt("maxMediaSize.horizontalWidth",900),vertMin:a.getInt("minMediaSize.verticalHeight",330),vertMax:a.getInt("maxMediaSize.verticalHeight",650),mobileMin:a.getInt("minMediaSize.mobileWidth",250),mobileMax:a.getInt("maxMediaSize.mobileWidth",
900),videoMin:a.getInt("minMediaSize.videoWidth",490),videoMax:a.getInt("maxMediaSize.videoWidth",900)}},getProviderFromSettings:function(a){return a.get("ui.media.Banner.provider","revive").toLowerCase()}}})();a.AdFillRectBanner=a.AdFillRectBanner||a.AdFillBanner.extend(function(){return{construct:function(e,b){this.$super(e,a.tools.mergeDefaults({name:"AdFillRectBanner"},b))},setup:function(a,b){var c=this;return this.$super(a,b).then(function(){c.getAnchor().buildVisibilityDetectionFrame("horizontal");
var a=c.getAnchor().getVisibilityDetectionFrame();null!==a&&c.getAnchor().appendAdElement(a)})},updateLayout:function(){this.$super();var e=this.getOptions().proportions,b=this.getPlacementSize(),b=!0===this.getOptions().scaleEnabled?b.width/e.width:1,c=this.getAdElement(),d=c.getScalingElement(),f=this.getAnchor().getVisibilityDetectionFrame();d&&c.scaleElement(e,b);this.getAnchor()instanceof a.PlacementBoxAnchor&&(this.is("shown")?d.style.bottom="0px":d.style.bottom=b*e.height+"px",f.style.height=
b*e.height+"px")}}}());a.AdFillHorizontalBanner=a.AdFillHorizontalBanner||a.AdFillBanner.extend(function(){return{construct:function(e,b){this.$super(e,a.tools.mergeDefaults({name:"AdFillHorizontalBanner"},b))},getBottomPositionForOffScreen:function(){var a=this.getOptions().proportions;return 0-this.getPlacementSize().width/a.width*a.height},setup:function(a,b){var c=this;return this.$super(a,b).then(function(){c.getAnchor().buildVisibilityDetectionFrame("horizontal");var a=c.getAnchor().getVisibilityDetectionFrame();
null!==a&&c.getAnchor().appendAdElement(a)})},updateLayout:function(){this.$super();var e=this.getOptions().proportions,b=this.getPlacementSize(),b=!0===this.getOptions().scaleEnabled?a.tools.ads.calculateScale(b,e,!0):1,c=this.getAdElement(),d=c.getScalingElement(),f=this.getAnchor().getVisibilityDetectionFrame();d&&(c.scaleElement(e,b),d.style.position="absolute",this.getAnchor()instanceof a.PlacementBoxAnchor&&(this.is("shown")?d.style.bottom="0px":this.is("hidden")&&(d.style.bottom=this.getBottomPositionForOffScreen()+
"px"),f.style.height=b*e.height+"px"))}}}());a.DisclaimerBarInside=a.DisclaimerBarInside||a.DisclaimerBarAbstract.extend(function(){return{construct:function(a){this.$super(a)},build:function(){this.$super();this.unset("built");var e=this,b=this.getContainer(),c=this.getCloseButtonContainer(),d=this.getAdsLogoDisclaimerContainer(),f=this.getOptions();a.styling.selectStyle("BannerDisclaimerCloseButtonContainerLeft").applyToElement(c);a.styling.selectStyle("BannerDisclaimerAdsLogoContainerLeft").applyToElement(d);
var g=a.styling.getRenderedStyle("BannerDisclaimerAdsLogoContainerLeft"),k=a.styling.getRenderedStyle("BannerDisclaimerAdsLogoContainerLeft","hover");if(a.tools.environment.device.isMobile()){var h=function(a){a.preventDefault();m.animate(d,{duration:500,properties:{width:"96px"},easing:"inOutQuintic"});d.removeEventListener("touchstart",h);e.disclaimerTimeout=setTimeout(function(){m.animate(d,{duration:500,properties:{width:"20px"},easing:"inOutQuintic"});d.addEventListener("touchstart",h)},5E3)};
d.addEventListener("touchstart",h)}else d.addEventListener("mouseenter",function(){clearTimeout(e.disclaimerTimeout);m.animate(d,{duration:500,properties:{width:k.width},easing:"inOutQuintic"})}),d.addEventListener("mouseleave",function(){e.disclaimerTimeout=setTimeout(function(){m.animate(d,{duration:500,properties:{width:g.width},easing:"inOutQuintic"})},500)});this.buildCloseButton(c);this.buildAdsLogoDisclaimerContainer(d);b.appendChild(c);f.showDisclaimer&&b.appendChild(d);a.styling.selectStyle("BannerDisclaimerContainerInside").applyToElement(b);
!1!==this.getOptions().zIndex&&(this.getContainer().style.zIndex=this.getOptions().zIndex+1);this.set("built")},buildCloseButton:function(e){var b=document.createElement("div");a.styling.selectStyle("BannerDisclaimerCloseButtonIcon").applyToElement(b);e.appendChild(b)},buildAdsLogoDisclaimerContainer:function(e){var b=this.getOptions();this._adsLogo=m.create("a");this._adsLogo.href=b.disclaimerLink;this._adsLogo.target="_blank";a.styling.selectStyle("BannerDisclaimerAdsLogoInside").applyToElement(this._adsLogo);
e.appendChild(this._adsLogo)},getAdsLogo:function(){return this._adsLogo},destroy:function(){this.$super()}}}());a.DisclaimerBarBasic=a.DisclaimerBarBasic||a.DisclaimerBarAbstract.extend(function(){return{construct:function(a){this.$super(a)},build:function(){this.$super();this.unset("built");var e=this.getContainer(),b=this.getCloseButtonContainer(),c=this.getAdsLogoDisclaimerContainer(),d=this.getOptions();a.styling.selectStyle("BannerDisclaimerAdsLogoContainer").applyToElement(c);this.buildAdsLogoDisclaimerContainer(c);
!1!==d.closingButton&&(a.styling.selectStyle("BannerDisclaimerCloseButtonContainer").applyToElement(b),this.buildCloseButton(b));e.appendChild(b);d.showDisclaimer&&e.appendChild(c);a.styling.selectStyle("BannerDisclaimerContainer").applyToElement(e);!1!==this.getOptions().zIndex&&(this.getContainer().style.zIndex=this.getOptions().zIndex);this.set("built")},buildCloseButton:function(e){var b=document.createElement("div");a.styling.selectStyle("BannerDisclaimerCloseButtonIcon").applyToElement(b);e.appendChild(b)},
buildAdsLogoDisclaimerContainer:function(e){var b=this.getOptions();this._adsLogo=m.create("a");this._adsLogo.href=b.disclaimerLink;this._adsLogo.target="_blank";a.styling.selectStyle("BannerDisclaimerAdsLogo").applyToElement(this._adsLogo);e.appendChild(this._adsLogo)},getAdsLogo:function(){return this._adsLogo},destroy:function(){this.$super()}}}());a.WaterfallResolver=a.WaterfallResolver||function(){var e=function(a){this._waterfalls=[];var c=this;a.forEach(function(a){a.getWaterfallGroups().forEach(function(a){c._waterfalls=
c._waterfalls.concat(a.getWaterfalls())})})};e.prototype.getWaterfalls=function(){return this._waterfalls};e.prototype.selectByDevice=function(){var b=a.tools.environment.getDeviceNumericalType();this._waterfalls=this._waterfalls.filter(function(c){return c.testRule(a.Config.WATERFALL_RULE_FILTER.DEVICE,b)});return this};e.prototype.selectByLocation=function(b){b!==a.Config.COUNTRY_CODE_UNKNOWN&&(this._waterfalls=this._waterfalls.filter(function(c){return c.testRule(a.Config.WATERFALL_RULE_FILTER.LOCATION,
b)}));return this};e.prototype.selectByOperatingSystem=function(){var b=a.tools.environment.device.getOperatingSystem();this._waterfalls=this._waterfalls.filter(function(c){return c.testRule(a.Config.WATERFALL_RULE_FILTER.OS,b)});return this};e.prototype.selectByPlacementType=function(a){this._waterfalls=this._waterfalls.filter(function(c){return c.getPlacementType()===a});return this};e.prototype.selectByURI=function(){var b=a.tools.environment.getPageUrl();this._waterfalls=this._waterfalls.filter(function(c){return c.testRule(a.Config.WATERFALL_RULE_FILTER.URI,
b)});return this};return{prepareWaterfallResolver:function(a){return new e(a)}}}();a.WaterfallGroup=a.WaterfallGroup||a.AdComponentAbstract.extend(function(){function e(a){a=a.toLowerCase().split("x");var b={width:0,height:0};2===a.length&&(b.width=parseInt(a[0],10),b.height=parseInt(a[1],10));return b}function b(b){a.tools.scope.enforceCaller(this,a.WaterfallGroup,"Expected caller to be instance of WaterfallGroup");var d=this;b.sort(a.tools.array.createSorter.forObjectNumberProperty("orderInWaterfallGroup")).forEach(function(b){var c=
new a.Waterfall(b.name);(b.waterfallRules||[]).forEach(function(a){c.addRule(a.propertyKey,a.propertyValue,a.exclusive)});c.setOrder(b.orderInWaterfallGroup||0);c.setPlacementType(b.placementType.toLowerCase());(b.kPlacements||[]).sort(a.tools.array.createSorter.forObjectNumberProperty("order")).forEach(function(b){c.addStep(b.adNetworkId,b.networkInternalPlacementId,e(b.adSize||""),"kiosked",b.adType||a.Waterfall.MediaType.BANNER)});d.addWaterfall(c)})}return{construct:function(a){this.$super();
a=a||{};this._waterfalls=[];b.call(this,a.waterfalls||[])},addWaterfall:function(b){if(!0!==b instanceof a.Waterfall)throw new z("Expected parameter of type Waterfall");this._waterfalls.push(b)},getWaterfalls:function(){return this._waterfalls}}}());a.Waterfall=a.Waterfall||a.AdComponentAbstract.extend(function(){return{construct:function(e){this.$super();this._name=e||"Untitled waterfall";this._steps=[];this._rules=[];this._order=this._currentStep=0;this._placementType=a.Config.UNDEFINED},addRule:function(a,
b,c){this._rules.push({name:a,value:""+b,exclusive:c});return this},addStep:function(e,b,c,d,f){d=a.tools.isset(d)?d.toLowerCase():"appnexus";var g=this.getStepTemplate();g.mediaType=f||g.mediaType;g.network=e.toLowerCase();g.proportions=c;g.provider=d;g.zone=b;this._steps.push(g);return this},addStepData:function(e){this._steps.push(a.tools.mergeDefaults(this.getStepTemplate(),e));return this},containsNetwork:function(a){a=a.toLowerCase();for(var b=this.getSteps(),c=0,d=b.length;c<d;c+=1)if(b[c].network.toLowerCase()===
a)return!0;return!1},copy:function(){var e=new a.Waterfall(this.getName());e._steps=a.tools.deepClone(this.getSteps());e._rules=a.tools.deepClone(this.getRules());e._currentStep=this.getCurrentStepIndex();e.setOrder(this.getOrder());e.setPlacementType(this.getPlacementType());return e},getCurrentStep:function(){var a=this.getCurrentStepIndex(),b=this.getSteps();return a<b.length?b[a]:!1},getCurrentStepIndex:function(){return this._currentStep},getName:function(){return this._name},getOrder:function(){return this._order},
getPlacementType:function(){return this._placementType},getRules:function(){return this._rules},getSteps:function(){return this._steps},getStepTemplate:function(){return{advertiserID:"",mediaType:a.Waterfall.MediaType.BANNER,network:"",proportions:{width:0,height:0},provider:"",zone:""}},setOrder:function(a){this._order=a},setPlacementType:function(a){this._placementType=a},step:function(){var a=this.getCurrentStepIndex()+1,b=this.getSteps();return a<b.length?(this._currentStep+=1,this.getCurrentStep()):
!1},testRule:function(e,b){for(var c=this.getRules(),d=0,f=c.length;d<f;d+=1)if(c[d].name===e){var g;e===a.Config.WATERFALL_RULE_FILTER.URI?(g=new RegExp(c[d].value,"i"),g=c[d].exclusive?!g.test(b):g.test(b)):e===a.Config.WATERFALL_RULE_FILTER.DEVICE?(g=parseInt(c[d].value,10),g=c[d].exclusive?g!==b:g===b):g=c[d].exclusive?c[d].value!==b:c[d].value===b;if(!g)return!1}return!0}}}());a.Waterfall.MediaType={BANNER:"banner",VIDEO:"video"};a.AdZoneTemplate=a.AdZoneTemplate||a.AdComponentAbstract.extend(function(){function e(b){return b.map(function(b){return new a.WaterfallGroup(b)})}
return{construct:function(a){this.$super();a=a||{};this._waterfallGroups=e(a.waterfallGroups||[])},getWaterfallGroups:function(){return this._waterfallGroups}}}());a.AdZoneTemplate.extractFromData=function(e){return(a.tools.array.isArray(e)?e:[e]).map(function(b){return new a.AdZoneTemplate(b)})};a.stylesheets.images=a.stylesheets.images||{BannerCloseImage:{classToHeader:".kskdDiv.kskdBannerCloseImage",classToElement:"kskdDiv kskdBannerCloseImage",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABI1BMVEUAAAAAAAAAAAAAAAAAAAAAAACQkJCRkZGOjo6Pj4+QkJCRkZGLi4uRkZGSkpKTk5OUlJSIiIiJiYmKioqMjIyRkZGIiIiBgYGBgYFra2taWlpbW1tbW1tcXFxdXV1gYGBhYWFiYmJjY2NkZGRlZWVmZmbFxcXGxsbFxcWUlJSVlZWQkJCQkJD19fXb29vv7+/T09Pk5OTm5ubo6Ojp6enr6+vz8/P09PT29vb4+Pj5+fn6+vrh4eHi4uLj4+Pk5OTm5ubn5+fh4eHi4uLj4+Pk5OTm5ubn5+fr6+vt7e3v7+/x8fHy8vL09PT29vbm5ub+/v7m5ubn5+fo6Ojq6urs7Ozt7e3v7+/x8fHz8/P19fX39/f4+Pj6+vr8/Pz9/f3+/v5T3cwbAAAAUXRSTlMzPT5HSF1dXV5eXl5fX19fX2BgYGBgYWdof4KCg4ODg4ODg4OEhIaGh52eo6Td3t/j9PT09PT09PT09PT19fX19fX29vb29vb29vb29vb2/v7cj7FhAAABCElEQVR4Ae3K11LCQBTG8V0Ee1GwiJpYImKR3sFelF5SYkkJ7/8UfhNRr856rcP/Yvd8Mz/2rxoXT0z9jOVEnHLH/WFt8mss1Yb9IwKmPM+rzo1cFSNFwGjXdd3KLEOLFZzdKAEDsY7jOOUZxhbKODqxAKPkYdu27dL0WglfWyEdpNKyLKtYxNNSOBPED5rvfs09oYPcb7yhxq7Yoc36K6pv/OZWCy9+hXmxi+RN07x9xpOPCF3OMIwbWX7ClxPIcFbX9WuZc/kRRzZMufWMpmlXEmeMSw84MysETKqqerkNB7lzj5Ek4GlvcLEF9ynvBr0TAgbP0yPny/TZBKNk6NtBhoJs3B/oA8TkMV47G6sPAAAAAElFTkSuQmCC) !important",
"background-repeat":"no-repeat !important","background-size":"18px 18px !important"}},BannerCloseImageMobile:{classToHeader:".kskdDiv.kskdBannerCloseImageMobile",classToElement:"kskdDiv kskdBannerCloseImageMobile",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABI1BMVEUAAAAAAAAAAAAAAAAAAAAAAACQkJCRkZGOjo6Pj4+QkJCRkZGLi4uRkZGSkpKTk5OUlJSIiIiJiYmKioqMjIyRkZGIiIiBgYGBgYFra2taWlpbW1tbW1tcXFxdXV1gYGBhYWFiYmJjY2NkZGRlZWVmZmbFxcXGxsbFxcWUlJSVlZWQkJCQkJD19fXb29vv7+/T09Pk5OTm5ubo6Ojp6enr6+vz8/P09PT29vb4+Pj5+fn6+vrh4eHi4uLj4+Pk5OTm5ubn5+fh4eHi4uLj4+Pk5OTm5ubn5+fr6+vt7e3v7+/x8fHy8vL09PT29vbm5ub+/v7m5ubn5+fo6Ojq6urs7Ozt7e3v7+/x8fHz8/P19fX39/f4+Pj6+vr8/Pz9/f3+/v5T3cwbAAAAUXRSTlMzPT5HSF1dXV5eXl5fX19fX2BgYGBgYWdof4KCg4ODg4ODg4OEhIaGh52eo6Td3t/j9PT09PT09PT09PT19fX19fX29vb29vb29vb29vb2/v7cj7FhAAABCElEQVR4Ae3K11LCQBTG8V0Ee1GwiJpYImKR3sFelF5SYkkJ7/8UfhNRr856rcP/Yvd8Mz/2rxoXT0z9jOVEnHLH/WFt8mss1Yb9IwKmPM+rzo1cFSNFwGjXdd3KLEOLFZzdKAEDsY7jOOUZxhbKODqxAKPkYdu27dL0WglfWyEdpNKyLKtYxNNSOBPED5rvfs09oYPcb7yhxq7Yoc36K6pv/OZWCy9+hXmxi+RN07x9xpOPCF3OMIwbWX7ClxPIcFbX9WuZc/kRRzZMufWMpmlXEmeMSw84MysETKqqerkNB7lzj5Ek4GlvcLEF9ynvBr0TAgbP0yPny/TZBKNk6NtBhoJs3B/oA8TkMV47G6sPAAAAAElFTkSuQmCC) !important",
"background-repeat":"no-repeat !important","background-size":"20px 20px !important"}},BannerCloseImageInside:{classToHeader:".kskdDiv.kskdBannerCloseImageInside",classToElement:"kskdDiv kskdBannerCloseImageInside",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABAlBMVEUAAAAAAAAAAAAAAAAAAABQTk5STk5SUE5SUFBNS0tRT09TUU9TUVFNS0lNS0tPS0tPTU1ST09MSEZLSUhBPz45NjY6Nzc6ODc9Ojg9PDo/PDxAPT2Hg4OHhISGgoJlYWFlYmJjYF5kYGDe3Nu/vLzV1dW2s7PS0M/T0dHV09PY1tXb2Njk4+Pn5eXq6ejs6+vs7e3u7e3v7u7LyMjLycnMysrMy8vOzMvPzc3Qz8/S0NDT0dHV09PZ2Njb29ve3Nzi397k4uLm5eTo5+b7+/vT0dHV09PX1dXZ19fb2dnc29vf3t3i4ODk4+Pn5ubq6eju7Ovw7+/z8/P19vb4+fn7+/sPx4prAAAARXRSTlNmbnV2hYaGhoaHh4eHiIiIiIiNjqChoqKioqKjpKSltra6uuXm5+r29vb29vb29vb29vb4+Pj4+Pj4+Pj4+Pj4+Pj4+P4UwkMSAAAA/0lEQVR42u3PV1MCMRSG4Y2AogJrQaMUUeldUWlKL9tUtvH//4rfZGC8OuFah/ciOWfmuUiUff+qdPbwd4lk05S7m69boe1y2lrPUwTM+77/HN64Jyx5AsZnnuc1j4RrYpzFCciSU9d1G3jnSQPDNMkUUk4cx6mHzuu4Jgk4UibGtm3XajjGMgd5O1qJRjdwcjn8RkO4HV0OvtDgYpc7q36Kqsdyp1Ysy3r/wFFRZS5WNk2zx3kfVzkmcSXDMLqcMd7DUCKlWtR1vcMZ/s67GItRAuY0TXu7goO8bmPJEfB+sXwRTsjX5SJDwMBjQbiNLDwcKJQMwm1jwYCy7w/0Ay6pKfxVkoHjAAAAAElFTkSuQmCC) !important",
"background-repeat":"no-repeat !important","background-size":"18px 18px"}},BannerCloseImageInsideMobile:{classToHeader:".kskdDiv.kskdBannerCloseImageInsideMobile",classToElement:"kskdDiv kskdBannerCloseImageInsideMobile",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABAlBMVEUAAAAAAAAAAAAAAAAAAABQTk5STk5SUE5SUFBNS0tRT09TUU9TUVFNS0lNS0tPS0tPTU1ST09MSEZLSUhBPz45NjY6Nzc6ODc9Ojg9PDo/PDxAPT2Hg4OHhISGgoJlYWFlYmJjYF5kYGDe3Nu/vLzV1dW2s7PS0M/T0dHV09PY1tXb2Njk4+Pn5eXq6ejs6+vs7e3u7e3v7u7LyMjLycnMysrMy8vOzMvPzc3Qz8/S0NDT0dHV09PZ2Njb29ve3Nzi397k4uLm5eTo5+b7+/vT0dHV09PX1dXZ19fb2dnc29vf3t3i4ODk4+Pn5ubq6eju7Ovw7+/z8/P19vb4+fn7+/sPx4prAAAARXRSTlNmbnV2hYaGhoaHh4eHiIiIiIiNjqChoqKioqKjpKSltra6uuXm5+r29vb29vb29vb29vb4+Pj4+Pj4+Pj4+Pj4+Pj4+P4UwkMSAAAA/0lEQVR42u3PV1MCMRSG4Y2AogJrQaMUUeldUWlKL9tUtvH//4rfZGC8OuFah/ciOWfmuUiUff+qdPbwd4lk05S7m69boe1y2lrPUwTM+77/HN64Jyx5AsZnnuc1j4RrYpzFCciSU9d1G3jnSQPDNMkUUk4cx6mHzuu4Jgk4UibGtm3XajjGMgd5O1qJRjdwcjn8RkO4HV0OvtDgYpc7q36Kqsdyp1Ysy3r/wFFRZS5WNk2zx3kfVzkmcSXDMLqcMd7DUCKlWtR1vcMZ/s67GItRAuY0TXu7goO8bmPJEfB+sXwRTsjX5SJDwMBjQbiNLDwcKJQMwm1jwYCy7w/0Ay6pKfxVkoHjAAAAAElFTkSuQmCC) !important",
"background-repeat":"no-repeat !important","background-size":"20px 20px"}},BannerCloseImageInterstitial:{classToHeader:".kskdDiv.kskdBannerCloseImageInterstitial",classToElement:"kskdDiv kskdBannerCloseImageInterstitial",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAACI0lEQVR4Ae2WSY7aQBSG0xuW8SE6OUQUwza5SdzcATFLDEjEp0grh4AFLOEMLAABZgDhV8zw8pfkatlJIxSpTKLEln79pTdUfVVyGd4w81+lCOiPAkVAEVBIzz8IhPEDZEMT6ONvLGxCjtf7oA3ocrnYEEudz2cXfhMKNaZXy56+agM6HA4zTM5Kp9PJhV+FQs70algJczjagGzbtvb7vcAirHQ8Hl34L1CImciRv3a324l6vW7pfKmNWq2WlBNjMVbCrl34CxTGJmLkr9lutwK9EsbQfcuMarWa3Gw2AqfFSoB04aYUxuTPCTzoUTChXHujUqkkiUhg56wESBcif8x1XUKtggn1O2SUy+Xker0WgODXhByhxgcTLpCCelqtVoKI2C/EqFQqKZj7fam73e7n5XK5xWmwX4htOp3Op7v+dOAU4lhYwPk1IUdw8y5Ai8UiMZ/PBZyVHMcRUCCGGoKboQJhkcRsNhNwVppMJlQoFKxisfiEcSCHWoKboQBNp9OEPAU4K41GI8rn8+oFNuQYsUANegge1wqEnSfG47GAs9JwOKRcLvfzbTJkDLlALXoJHtcGhF1PMSkrDQYDSqfT1662kc1mLdQIfw/mmGgDarfbz5iQpfr9voJ5q/LXoGSt6mu1Wt+0AcVisffNZvN7r9dzUqnUlxswL1CZTMaSPY1G4xlzvNN9yx6hD0GY21Bez6PeWxb9yb+v/i+gCCgC+gEvfPmuo37EHAAAAABJRU5ErkJggg==) !important",
"background-repeat":"no-repeat !important"}},BannerCloseImageInterstitialMobile:{classToHeader:".kskdDiv.kskdBannerCloseImageInterstitial",classToElement:"kskdDiv kskdBannerCloseImageInterstitial",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAQAAADa613fAAAFTElEQVR42u3aWWxUVRgH8G860wJNakuABMQmDW1REh3ARBMgBoIBfQCVRQQSIdqqICRoRDQulAJGoyyRncSihGiN1iWhYoDQDpsS0heXGB8odJl27jozHWa56/n7QLe5Uwr15d6Qc/5v53zfyf3lPsw9J0OgeyPEIRzCIRzCIRzCIRzCIRzCIRzCIRzCIRzCIRzCIRzCIRxyT0IYMQLhQRzGRbzcN2OTRRZZZJJBOumkkUY66WSQ2bti93USqnERh1CJgRnXIFNxBhmYEFnNSCGsFiJMZHAalW5DprEmZjAwMDDJ3jkSiP0Rk3o7DXaOTXMRgkdZiNm9DwMGptgf3y3E/oQpgzotFsIM1yBmvc1sDITBTti77MAdIQF7t51gGNxrM/Mb1yDaVRs2rOxo1h6raFjIfdZeS8vussGgXXENsmdDugtOCEzb3GdNuC1kgrnfZM4eIBX+9HXXIGOLt7/T0wlYMLMpMPdb9w8JmWwecNZaAOKdNVuKil2DENGYDzcr7YAJA+agGDAOG6VOiFFqHHHWmQCU9vfeotFEbkKICt59Q7wBGI7o0Or00sEQvVSr03PqAPHGlk2UT+Q2hKjgzY1KO6A7okE7oU/qh0zSTmg5NYDcvmkDBW5t5DaEqGDj+niHzfRcTIM+TiON9HFaQ+6qzWId69fdehvegJCv8NVXkmGDaXDEypzUirWSTKNmOdcMluqsqqYxA7t4AEJUULS2KtOlIeNMJt2cDmUyznkNmfCal/KLBu/hCQhRYcmqNclODWlnrLTlnNOQ6ljx4piS7B08AiEqLFm+OnpdRxqpYZKGjmjr0lWFJc5+z0CIRhUteb7rXwspJG+TFCyE/3lmeUFRbreHIET+0YuXXvsTSOLmEEkCuPbHoiV5o4fq9RSEiAKPPdd0XjeSSDiShK43NT/+bN/vhmcgW6mGamhbb2qplrbTDtpB1XRqWzIzFCSZ/mVrFe2kHbSdaqm2v7eGamir9y4f4rOFMzE7gdzErMjp2CzPXT4IJJJEMskkk0IqRSlGcYrPSbYk0YM4ehyJowdJJK/GZ8cpRlFSSentlkgkwVuQ2JzY33EMn9hfsVnehuTFnoi2xnDnRK/F5kTzvArJj85Xu6LIiRk1c2fVcHSemu9BiBpQFyqCiuxEIaZaQi3nxVQUzjUloi5UAx6DKD5lsSwoyI4KVQudKp9ZPjP0q6qrcK7LEWWR4vMURFomhWUmY3BUJKyzJ8uCPr/PXxY825iwVGRXyEwKS0s8BJFWSu2OR4QCHY0/TQn6/EREPv+UYOPPOhQnBVKbtMIjEHGteF1CdhTYaPiuIkh5A2eviukN39uQ4awVW8U1HoCI1WKriOzIsFFfPzXo/JaaOr3+WwYZznqxVax2GSKsE9oEZEeCheMnKoNDfRZWBo9/bUGEs0doE15zERJZLXTkMjTr2FcVD9/u07jikWPHNVvKpbRHVrkG6f4tgoiD0aN9UVf2EA0zyqbVHUvo2ZQIIui+5Bqk5UcBArp7E4EEMXHkyMRyusOYWH70qHhTQqS/V4CAlgbXIFULLl8WWR9FRod68EDxZLqLUfzAoYOdUbmfIbLLl6oWuHdCDKx88sJFyRQRgYwb0ue7R42nuxyjJuzb2ybJiECEZF648MJ8Crh61F02LxQSU5LZ2r3rM38JjWD4x+7edT0iGWKquXnpPA+c2Z+e+8OXvze9vzkwjkY4AuM/ePvKuYa6p+Z64/KhkCppOk2k/zMm0Qyq6Ls25X8Y4BAO4RAO4RAO4RAO4RAO4RAO4RAO4RAO4RAO4RAO4RAO8XL+A9XK9xre5G9UAAAAAElFTkSuQmCC) !important",
"background-repeat":"no-repeat !important"}},BannerAdsLogoDefault:{classToHeader:".kskdDiv.kskdBannerAdsLogoDefault",classToElement:"kskdDiv kskdBannerAdsLogoDefault",properties:{"background-image":"url(data:image/png;base64,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) !important",
"background-repeat":"no-repeat !important"}},BannerAdsLogoMobile:{classToHeader:".kskdDiv.kskdBannerAdsLogoMobile",classToElement:"kskdDiv kskdBannerAdsLogoMobile",properties:{"background-image":"url(data:image/png;base64,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) !important",
"background-repeat":"no-repeat !important"}},BannerAdsLogoGreyDefault:{classToHeader:".kskdDiv.kskdBannerAdsLogoGreyDefault",classToElement:"kskdDiv kskdBannerAdsLogoGreyDefault",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAMAAABZ0JFjAAACfFBMVEUAAAB4eHj///94eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHhSpjOlAAAA03RSTlMAAAABAgMEBQYHCAkKCwwNDhAREhMUFRYXGBkaGxwdHh8gISIjJCUmJykqKywuLzAxMjM0NTY3ODk7PT9AQUJDREVHSElKS01OT1JUVVlaXF1eX2BhYmNmaGlqa2xtbnFydXZ3eHl6e3x9fn+AgoOFhoeIiYqLjI2Oj5CRkpOVlpeZmpydnp+goaKlpqeoqaqrrK+wsbK1tri5uru8vb6/wMHCw8THyMnLzM3Oz9DT1NbX29zd3t/g4eLj5OXm5+jp6uzt7u/w8vT19vf4+fr7/P3+t2ttXgAABM9JREFUeAHt1v1Xk38dx3FfwKaCoE7Fm6zEaUE3mstKK22VlRli5g2ZohFR5o0WWtS8sVlEmUpppUYlFN2s1LKWeGOZMBCBKfD8h7o+n2tjAzbznM73nHEOz5+2nV1nj3Ptfb2va1reJGnatElDnaJOUWUr2X31AYkeXNlZojes/5Pqre1hTF0HPLlJXdjBhNpLc5G68B9k6G5p7lG9HWSs3ZNz1FqytD/XqCXdZKmrOMeoO3G7XbWmDej42Dt3JWd3m1Kt/OGJIjmtuXCoQFtbtsq0tvGXf7nxjVWyrfj6jfYr9SskffDSF2X61OWdess3m92+Osuzt6m5uenk3vIxBDkFgn6lF0x7n0a9gq3DgTTD+emSSv6MrUWpbkKtpI39sPnNwwwvleb/HLeLsyVVDWIaOldQ0A0flbQHWNZOsq/tItH1FWOpfogqPajLRL2P7X1yqMMHZCpoxpZ+fCeEXCnrPwys1oLU4rhVIn+cRB+aC+xwpf0LekhWFyJZ79ox1Dog8BrUxMFyOvNJmXy/wC0+nmqlX5ZLNd96cqLmXB/wPdXDy4NVZ/uIl7lUI41vVi+0HTF9YUYInoVCF/5jjpuTTo0C4demdsqpUKZ3p87WOKqRDu+RS10HRHxmRh/D0LLT8HS2NG9bhSzVSPs2ylCPyC1kfyav6LKZhjRqpQMl5pPJ1xCjNWCpla0Qawlkptq2PicL9Q+O9EWVEtTvAO+QaQuwrx7oadpSLFnqTaD7/bLUqzucPuNNUvOK/g2306hhIj6olqkVp5ihVmKL+bNRvUaQhWpqVJJ6Hf4u28xhOLN8ENPAD5ZYqmm7XKrbt0epeU0wmKL6DKyFiJyqIezzR9xPoj4FIZyVWj/4SupAIEn9LdyW23M4r+BDbI+WJKkPF6VTr6aop2EkRa0DnyrdCytMTFLApdIQ9AX8rxiA8t9lpfaMwP3SBPWS4y6R6e3AYWnGp7//BKdvWWo30D7dUjvbnFrKU9Q2eJyiRokEg+b02f+/VU6pAYhUv4Kq/L3PMlMfVRwFfuNxqZ8Hjsv0Y2B98ScWSwUbH8OvDPWPpT8DTmW6rPI2AT8apQZJFPONoSrYEsOpISP16AbZ3noty7Ly/BpodKlzY0BomSouAn/K/z39Bxer5BZcc5eV7x7wWUMNlZmKDfVRWdkHjsWB945SwySrlsJ2l/stNeBXsC4KE/ZqgaTmkcZC2bZnuQUs/BewyVK1jdH636N+nGJGUetSFYjDgL+XRPEtIUY7Pir1xQjLFKFVqrbgFkON2lXYQGw8ld2GCndWy/RxTJeU6i6cNLf3IWgMAO+SaoZw694g7Y/jdqe4cATMTjMjsv0eyS4eI9HQofxRqoMLyFQHfgMmEk0uq1hrJMMA8OLwfF0G4l+ZpTlfik94XKkZ6V0jp30jz9Z522nzSlr9k36g69RiOa08+wTo++48Kcw/F8jpPA/etKMPt56PLP8bTgN3T63MSxUhKpvPUUmBCEQTt4AoGOkEKgw/xTZw/yW2riKl5Zsp27xCKX9RvmyFFeveVqBkS1eVe2Uq9ci2yPu/HwI1rkAw7WVQSqdmrSbXHq3J1k3PZKH+tVSThNpWqslB7drv0SSgDnf+9HPFUg5S8yZBU9Qp6hR1ivpfHa3Qjg6QagMAAAAASUVORK5CYII=) !important",
"background-repeat":"no-repeat !important","background-size":"auto 18px !important"}},BannerAdsLogoGreyMobile:{classToHeader:".kskdDiv.kskdBannerAdsLogoGreyMobile",classToElement:"kskdDiv kskdBannerAdsLogoGreyMobile",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAMAAABZ0JFjAAACfFBMVEUAAAB4eHj///94eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHhSpjOlAAAA03RSTlMAAAABAgMEBQYHCAkKCwwNDhAREhMUFRYXGBkaGxwdHh8gISIjJCUmJykqKywuLzAxMjM0NTY3ODk7PT9AQUJDREVHSElKS01OT1JUVVlaXF1eX2BhYmNmaGlqa2xtbnFydXZ3eHl6e3x9fn+AgoOFhoeIiYqLjI2Oj5CRkpOVlpeZmpydnp+goaKlpqeoqaqrrK+wsbK1tri5uru8vb6/wMHCw8THyMnLzM3Oz9DT1NbX29zd3t/g4eLj5OXm5+jp6uzt7u/w8vT19vf4+fr7/P3+t2ttXgAABM9JREFUeAHt1v1Xk38dx3FfwKaCoE7Fm6zEaUE3mstKK22VlRli5g2ZohFR5o0WWtS8sVlEmUpppUYlFN2s1LKWeGOZMBCBKfD8h7o+n2tjAzbznM73nHEOz5+2nV1nj3Ptfb2va1reJGnatElDnaJOUWUr2X31AYkeXNlZojes/5Pqre1hTF0HPLlJXdjBhNpLc5G68B9k6G5p7lG9HWSs3ZNz1FqytD/XqCXdZKmrOMeoO3G7XbWmDej42Dt3JWd3m1Kt/OGJIjmtuXCoQFtbtsq0tvGXf7nxjVWyrfj6jfYr9SskffDSF2X61OWdess3m92+Osuzt6m5uenk3vIxBDkFgn6lF0x7n0a9gq3DgTTD+emSSv6MrUWpbkKtpI39sPnNwwwvleb/HLeLsyVVDWIaOldQ0A0flbQHWNZOsq/tItH1FWOpfogqPajLRL2P7X1yqMMHZCpoxpZ+fCeEXCnrPwys1oLU4rhVIn+cRB+aC+xwpf0LekhWFyJZ79ox1Dog8BrUxMFyOvNJmXy/wC0+nmqlX5ZLNd96cqLmXB/wPdXDy4NVZ/uIl7lUI41vVi+0HTF9YUYInoVCF/5jjpuTTo0C4demdsqpUKZ3p87WOKqRDu+RS10HRHxmRh/D0LLT8HS2NG9bhSzVSPs2ylCPyC1kfyav6LKZhjRqpQMl5pPJ1xCjNWCpla0Qawlkptq2PicL9Q+O9EWVEtTvAO+QaQuwrx7oadpSLFnqTaD7/bLUqzucPuNNUvOK/g2306hhIj6olqkVp5ihVmKL+bNRvUaQhWpqVJJ6Hf4u28xhOLN8ENPAD5ZYqmm7XKrbt0epeU0wmKL6DKyFiJyqIezzR9xPoj4FIZyVWj/4SupAIEn9LdyW23M4r+BDbI+WJKkPF6VTr6aop2EkRa0DnyrdCytMTFLApdIQ9AX8rxiA8t9lpfaMwP3SBPWS4y6R6e3AYWnGp7//BKdvWWo30D7dUjvbnFrKU9Q2eJyiRokEg+b02f+/VU6pAYhUv4Kq/L3PMlMfVRwFfuNxqZ8Hjsv0Y2B98ScWSwUbH8OvDPWPpT8DTmW6rPI2AT8apQZJFPONoSrYEsOpISP16AbZ3noty7Ly/BpodKlzY0BomSouAn/K/z39Bxer5BZcc5eV7x7wWUMNlZmKDfVRWdkHjsWB945SwySrlsJ2l/stNeBXsC4KE/ZqgaTmkcZC2bZnuQUs/BewyVK1jdH636N+nGJGUetSFYjDgL+XRPEtIUY7Pir1xQjLFKFVqrbgFkON2lXYQGw8ld2GCndWy/RxTJeU6i6cNLf3IWgMAO+SaoZw694g7Y/jdqe4cATMTjMjsv0eyS4eI9HQofxRqoMLyFQHfgMmEk0uq1hrJMMA8OLwfF0G4l+ZpTlfik94XKkZ6V0jp30jz9Z522nzSlr9k36g69RiOa08+wTo++48Kcw/F8jpPA/etKMPt56PLP8bTgN3T63MSxUhKpvPUUmBCEQTt4AoGOkEKgw/xTZw/yW2riKl5Zsp27xCKX9RvmyFFeveVqBkS1eVe2Uq9ci2yPu/HwI1rkAw7WVQSqdmrSbXHq3J1k3PZKH+tVSThNpWqslB7drv0SSgDnf+9HPFUg5S8yZBU9Qp6hR1ivpfHa3Qjg6QagMAAAAASUVORK5CYII=) !important",
"background-repeat":"no-repeat !important","background-size":"auto 20px !important"}},BannerAdsLogoBackgroundDefault:{classToHeader:".kskdDiv.kskdBannerAdsLogoBackgroundDefault",classToElement:"kskdDiv kskdBannerAdsLogoBackgroundDefault",properties:{"background-image":"url(data:image/png;base64,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) !important",
"background-repeat":"no-repeat !important","background-size":"auto 18px !important"}},BannerAdsLogoBackgroundMobile:{classToHeader:".kskdDiv.kskdBannerAdsLogoBackgroundMobile",classToElement:"kskdDiv kskdBannerAdsLogoBackgroundMobile",properties:{"background-image":"url(data:image/png;base64,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) !important",
"background-repeat":"no-repeat !important","background-size":"auto 20px !important"}},InScrollSwipeGuideMobile:{classToHeader:".kskdDiv.kskdSwipeGuide",classToElement:"kskdDiv kskdSwipeGuide",properties:{"background-image":"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAA4CAMAAAAxbt2tAAABblBMVEUAAAD///8AAAD9/f0AAAADAwMAAAD+/v7///8AAAAAAAAAAAAAAAAAAAD///8QEBAAAAAAAAAAAAAEBAQAAAAAAAD///////8AAAAAAAAAAAAAAAD4+Pj///////8DAwP6+vru7u7////m5uaHh4dVVVX///////8AAAAAAAAAAAD///8AAAD29vb////h4eH////V1dX///+zs7NgYGD///9JSUlAQED///8wMDAbGxv////////////4+Pjw8PD////v7+/n5+fe3t7b29v///+rq6v///+Tk5P///9tbW3///9nZ2f///9PT0////86OjpBQUH8/PwkJCT///8AAAAAAAD///////////8AAAD////s7Ozp6eni4uLKysr////Pz8/Dw8P///+Li4v////GxsZycnJ9fX3JyclVVVX////////u7u60tLQHBwf///8EBATIyMj///////8uLi7////29vb///////9965InAAAAeXRSTlMA/QT8BhcJ/eJQNBMOC/ppIh5LRjou9/JIQCga8+vdX/ro5uCslXlpW1lXUizw7t/Y1M3EmJKMiIN/dV8XEfjw7evj29nGvr21rJ2bm5WRiYWEdXVvXlVMSUAmBeXl3tXR0Meysaamo6GYj46KiH5qYl9cWlhXHx0KxSreegAABCRJREFUWMO112lb2kAQAOAMkQTFRrkSWhEF5JQbBNTirVWr1ru1933fp/vvu0aUzEISAzhfyZN5Zt4sM8tZi7/xWi3+l7vGmHxOaDyf5K4rHn2WiBrS50fctcTvPLmM/G+u93FSBGimACie9DrDoQMICnAc9jTB/SABwgSQ4P3eZZhSgLQJUKZ6lGA2SHQjONuLHhVlVMLcHCpELnbdrRhmhsWJiUXA7LHuTrMDMYukdJBKHZSIiNgdXZz2uwuYORQ99g4Pe4+jIcy+cLfDBHEHehEvvx7y3xq02QZv+Ydeyzz60RHvIMHtOzLu0VKlf8Dex9Hosw/0V5Zwt+Q7t61mqGFmMbN5dHP4ho1Tw3Zj+ObRZkbE7DVrRyEM2gw8LO/5fU41QSOJ0+ffWwZemwPCsxaYRxnmnZTXJeBnBJc3tcOwj16V/XAUM0sTQx7KzD5G2T1DExJmHz28ErOCmSO7KjMbDfbdCGZXzNnvhQGVkCmPqcxMNNnHyhlUCITvGR+FsISYycq02+fEJeBCnD739ApB7FI4rj+b32BmeFxJekcEXAJbiDDiTVYeA2Z/ozPbYwruEbRnbs8OuFtKrB3zKjN3ctPtmPXYp3PMtFptYZ9aQI+MB6I6zLrs0cA4esXCFO5RWCaIuXCgw2zAflBA7EQON7t1uoGZ+aVqSofZkD1VXeIx+8Zp4x9PamV+2Mpszv6wlV2qqQpZgmJlRp/ZnH1mhaDIUpF/CmLOmDHX62bsGcSu/OP2ZS3zixl32oj5QRGg+MCIPe2eeaFll/e5L9AsIbJrcpq3iRrbJqd9N9IsBL5wPwMXJYy/NGGezF8u5pMm7C/HLwoJ/ORcEfE8Q8GE+WRVguaXsnpiwl44zyFGXJz9T47WMTf/8Ycxc9zBbGhxY/YfH+fnaA25P3ZO8CU3S6X33yizzYA5T4BdzPMG7DbK/u19qbSZ9Am0dT534qh/YEQwGlRZIC0BWaPhI4wM9B8l3L4zXJtgd7nsRj36FdRdzH8ZdevsvVf6G6pvUGadAGmjznUd+5iZn5/nMft+txftIME729Nq9Snw+D7W1TX8E7OzLZZTHk+qvMhsaJ86TvCdWc2ldbqaO510MV+XmMX8e0cJ6q9kQA15UqGfdh89vPRzrDwh6Ef5VQfsMaaEwLsxDz3+jcPrGXsXwIVYv49tK3iY5/bUYa4Z1Xs5PKqV7a4uwqFokq7m2uWfLubJaKibC/IHSfulrqs3sJYNjbJrv1/pg6UUbzWYkarKzIbKXo1ozN9aSvE1e8m8hYc5O6q3LtmzXy2lsBcat4tldTU3XMyXGzeMgt1SCqfnGS+KYmgnoTIzgdkTOyH6KP/M47SUQkgfl9fWthAzCsy+tbZWPk4LnKUYTPsTCTTMDUd1IuFPD3IWw3RQscNHt4b/31uGc3kExjoAAAAASUVORK5CYII=) !important",
"background-repeat":"no-repeat !important","background-size":"49px 26px !important"}}};a.AdElementDFP=a.AdElementDFP||a.AdElement.extend(function(){var a=0;return{construct:function(){this.$super();var b=a;a+=1;this._dfpIndex=b},getDFPIndex:function(){return this._dfpIndex}}}());a.PlacementStubAnchor=a.PlacementStubAnchor||a.PlacementAnchorAbstract.extend(function(){return{construct:function(e,b){this.$super(e,a.tools.mergeDefaults({anchorType:a.Config.PLACEMENT_ANCHOR_TYPE.STUB,placementPath:!1,
placementPosition:"after",placementType:a.Config.PLACEMENT_TYPE.IN_LINE},b))},buildVisibilityDetectionFrame:function(){null===this._visibilityDetectionFrame&&(this._visibilityDetectionFrame=a.tools.create("div"),this._visibilityDetectionFrame.className+=" kskdStubVis",this._visibilityDetectionFrame.style.zIndex=a.Config.BANNER_VIS_FRAME_Z_INDEX)},createAnchorElement:function(){this.$super();var a=this.getAnchorElement();T.style(a,{width:"auto",height:"auto",margin:"0 auto"});var b="after"===this.getOptions().placementPosition?
this.getTargetElement().nextSibling:this.getTargetElement();this.getTargetElement().parentNode.insertBefore(a,b)},createContainerElement:function(){this.$super();var e=this.getAdContainerElement(),b=this.getOptions().margin+"px auto";T.style(e,{position:"relative",bottom:"auto",left:"0px",right:"auto",top:"0px",height:"0px",margin:b});var c=this.getOptions(),b=c.placementPath,c=c.placementPosition;if(!1!==b){var d=a.tools.dom.xPath.getElement(b,e.parentNode);d?"before"===c?d.parentNode.insertBefore(e,
d):"after"===c&&d.parentNode.insertBefore(e,d.nextSibling):a.tools.debug.warn("/PlacementStubAnchor/","Failed to find node for xPath",b)}},prepareDisclaimer:function(){this.$super();var e=this.getDisclaimer();a.styling.selectStyle("BannerDisclaimerAdsLogoExternal").applyToElement(e.getAdsLogo());e.getContainer().style.top="0px"},updateLayout:function(a,b){this.$super(a,b);var c=this.getOptions(),d=this.getAdContainerElement();if(!0!==c.scaleEnabled){var c=b.height,f=this.getDisclaimer();f&&(c+=f.getHeightOutsideBanner());
d.style.maxWidth=b.width+"px";d.style.maxHeight=c+"px"}}}}());a.PlacementLaunchpadAnchor=a.PlacementLaunchpadAnchor||a.PlacementAnchorAbstract.extend(function(){return{construct:function(e,b){this.$super(e,a.tools.mergeDefaults({anchorType:a.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD,placementType:a.Config.PLACEMENT_TYPE.IN_SCREEN},b));this._fixedContainer=null},appendAdElement:function(a){this._fixedContainer.appendChild(a)},applySize:function(a){this.$super(a);this.getFixedContainerElement().style.height=
a.height+"px"},createAnchorElement:function(){this.$super();var a=this.getAnchorElement();document.body.appendChild(a)},createContainerElement:function(){this.$super();this._fixedContainer=m.create("div",{},document.body);a.styling.selectStyle("BannerFooterContainer").applyToElement(this._fixedContainer);this._fixedContainer.className+=" "+a.Config.FIXED_BANNER_DIV_CLASS;this._fixedContainer.style.zIndex=a.Config.FIXED_BANNER_Z_INDEX;this.getAnchorElement().appendChild(this._fixedContainer);this._fixedContainer.appendChild(this._adContainerElement);
this._adContainerElement.style.margin="0px auto";this._adContainerElement.style.position="relative"},getFixedContainerElement:function(){return this._fixedContainer},isVisible:function(){this.set("visible");this.set("beenVisible");return!0},prepareDisclaimer:function(){var e=this.getAdContainerElement();this._disclaimer=this.getOptions().disclaimer;a.styling.selectStyle("BannerDisclaimerAdsLogoFloor").applyToElement(this._disclaimer.getAdsLogo());e.parentNode.insertBefore(this._disclaimer.getContainer(),
e)}}}());a.PlacementInterstitialAnchor=a.PlacementInterstitialAnchor||a.PlacementAnchorAbstract.extend(function(){return{construct:function(e,b){this.$super(e,a.tools.mergeDefaults({anchorType:a.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL,placementType:a.Config.PLACEMENT_TYPE.INTERSTITIAL},b));this._containerBox=this._fixedContainer=null;this._closeButtonContainer=m.create("div")},appendAdElement:function(a){this._fixedContainer.appendChild(a)},applySize:function(a){this.$super(a);this.getFixedContainerElement().style.height=
a.height+"px"},createAnchorElement:function(){this.$super();var a=this.getAnchorElement();document.body.appendChild(a)},createContainerElement:function(){this.$super();var e=document.createDocumentFragment();this._fixedContainer=m.create("div",{},e);a.styling.selectStyle("InterstitialLightBox").applyToElement(this._fixedContainer);this.createCloseButton(this._closeButtonContainer);this._fixedContainer.appendChild(this._closeButtonContainer);this.getAnchorElement().appendChild(this._fixedContainer);
this._containerBox=m.create("div");a.styling.selectStyle("InterstitialContentBox").applyToElement(this._containerBox);this._containerBox.appendChild(this._adContainerElement);this._fixedContainer.appendChild(this._containerBox);document.body.appendChild(e);this._adContainerElement.style.margin="0px auto";this._adContainerElement.style.position="relative"},createCloseButton:function(e){a.styling.selectStyle("InterstitialContainerCloseButton").applyToElement(e);var b=document.createElement("div");a.styling.selectStyle("InterstitialCloseButtonIcon").applyToElement(b);
e.appendChild(b)},getCloseButtonContainer:function(){return this._closeButtonContainer},getContainerBox:function(){return this._containerBox},getFixedContainerElement:function(){return this._fixedContainer},isVisible:function(){this.set("visible");this.set("beenVisible");return!0},prepareDisclaimer:function(){var a=this.getAdContainerElement();this._disclaimer=this.getOptions().disclaimer;a.parentNode.insertBefore(this._disclaimer.getContainer(),a);this._disclaimer.getAdsLogoDisclaimerContainer().style.marginRight=
"-4px";this._disclaimer.getAdsLogoDisclaimerContainer().onclick=function(a){a.stopPropagation()}}}}());a.PlacementInScrollAnchor=a.PlacementInScrollAnchor||a.PlacementAnchorAbstract.extend(function(){return{construct:function(e,b){this.$super(e,a.tools.mergeDefaults({anchorType:a.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL,placementType:a.Config.PLACEMENT_TYPE.IN_SCROLL},b));this._containerWrapper=this._containerBox=this._fixedContainer=null;var c=document.body.scrollHeight*(this.getOptions().triggerPoint/
100);this.meta={winHeight:this.getHeight(),triggerPoint:c,shownOnce:!1,snappedToMiddle:!1,hasBeenMoved:!1,destroyed:!1,bodyOverflow:null,scrollLocked:!1,touchStartPos:0,previousMove:0,move:0,distanceFromTop:0,distanceFromBottom:0};this.meta.domPosition=this.meta.winHeight+this.meta.triggerPoint;this._scroller=null},buildVisibilityDetectionFrame:function(){this.$super();this._visibilityDetectionFrame=m.create("div",{});a.styling.selectStyle("InScrollVisibilityFrame").applyToElement(this._visibilityDetectionFrame)},
appendAdElement:function(a){this._containerBox.appendChild(a)},createAnchorElement:function(){this.$super();var a=this.getAnchorElement();document.body.appendChild(a)},createContainerElement:function(){this.$super();a.styling.selectStyle("InScrollAdContainerElement").applyToElement(this._adContainerElement);var e=document.createDocumentFragment();this._fixedContainer=m.create("div",{},e);a.styling.selectStyle("InScrollWrapper").applyToElement(this._fixedContainer);this.getAnchorElement().appendChild(this._fixedContainer);
this._containerWrapper=m.create("div");this._containerWrapper.style.cssText="background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,transparent), color-stop(45%,rgba(0,0,0,0.7)), color-stop(55%,rgba(0,0,0,0.7)), color-stop(100%,transparent));background: -webkit-linear-gradient(top, transparent 0%,rgba(0,0,0,0.7) 45%,rgba(0,0,0,0.7) 55%,transparent 100%);background: linear-gradient(transparent 0%, rgba(0,0,0,0.7) 45%, rgba(0,0,0,0.7) 55%,transparent 100%);";a.styling.selectStyle("InScrollContentWrapper").applyToElement(this._containerWrapper);
this._containerBox=m.create("div");a.styling.selectStyle("InScrollContentBox").applyToElement(this._containerBox);this._clickOverlay=m.create("div");a.styling.selectStyle("InScrollIFrameClickHandler").applyToElement(this._clickOverlay);this._swipeGuide=m.create("div");a.styling.selectStyle("InScrollSwipeGuide").applyToElement(this._swipeGuide);var b=m.create("div");b.style.height=a.Config.INSCROLL_TRICKERY_CONTENT+"px";this._trickery=m.create("div");this._trickery.appendChild(b);a.styling.selectStyle("InScrollTrickery").applyToElement(this._trickery);
this._adContainerElement.appendChild(this._clickOverlay);this._containerBox.appendChild(this._adContainerElement);this._containerBox.appendChild(this._swipeGuide);this._containerBox.appendChild(this._trickery);this._containerWrapper.appendChild(this._containerBox);this._fixedContainer.appendChild(this._containerWrapper);this.attachBodyEvents();document.body.appendChild(e)},getCloseButtonContainer:function(){return this._closeButtonContainer},getTrickeryBox:function(){return this._trickery||null},
getSwipeGuide:function(){return this._swipeGuide||null},getContainerBox:function(){return this._containerBox},getFixedContainerElement:function(){return this._fixedContainer},prepareDisclaimer:function(){this._disclaimer=this.getOptions().disclaimer;this._disclaimer.getContainer().style.opacity=1;this._disclaimer.getContainer().style.right="50%";this._disclaimer.getContainer().style.zIndex=100;this._disclaimer.getAdsLogoDisclaimerContainer().style.marginRight="-4px";this._disclaimer.getContainer().addEventListener("touchstart",
function(b){b.stopPropagation();a.tools.dom.triggerEvent(b.target,"click")});var e=this.getAdContainerElement();e.parentNode.insertBefore(this._disclaimer.getContainer(),e)},attachBodyEvents:function(){window.addEventListener("resize",this.handleResize.bind(this));this._fixedContainer.style.top=this.meta.domPosition+"px";var e=this,b=window;"undefined"!==typeof window.ITGSInScrollOverride&&!0===window.ITGSInScrollOverride instanceof HTMLElement&&(b=window.ITGSInScrollOverride);this._scroller=new a.ScrollerComponent(b,
function(a){a>=e.meta.triggerPoint&&!e.meta.shownOnce&&(e.meta.shownOnce=!0,e.prepareDOMForScroll())});this._scroller.start()},prepareDOMForScroll:function(){this.meta.destroyed||(document.body.addEventListener("touchstart",a.tools.preventDefault),this._fixedContainer.style.display="block",this._fixedContainer.style.pointerEvents="all",this._fixedContainer.style.top=0,this._fixedContainer.style.bottom=0,this._fixedContainer.addEventListener("touchstart",this.touchStart.bind(this)),this._fixedContainer.addEventListener("touchmove",
this.touchMove.bind(this)),this._fixedContainer.addEventListener("touchend",this.touchEnd.bind(this)),this._scroller.destroy())},teardownDOMScroll:function(e){e=!1!==e;document.body.removeEventListener("touchstart",a.tools.preventDefault);document.body.style.overflow=this.meta.bodyOverflow;this._fixedContainer.style.display="none";this._fixedContainer.style.pointerEvents="none";this._fixedContainer.removeEventListener("touchstart",this.touchStart);this._fixedContainer.removeEventListener("touchmove",
this.touchMove);this._fixedContainer.removeEventListener("touchend",this.touchEnd);e&&a.destructors.destroyPlacementContainer(a.PlacementContainerLocator.getPlacementContainerByID(this.getOptions().kioskID))},hasSnappedToMiddle:function(){var e=this;this.meta.bodyOverflow=document.body.style.overflow;document.body.style.overflow="hidden";a.tools.dom.destroy(this._clickOverlay);setTimeout(function(){e.meta.scrollLocked=!1;e._swipeGuide.style.opacity=.7},a.Config.INSCROLL_DISMISS_POSSIBLE)},destroy:function(){this.teardownDOMScroll(!1);
m.dom.destroy(this._fixedContainer);this.meta.destroyed=!0;this.$super()},touchStart:function(a){this.meta.scrollLocked||(this.meta.touchStartPos=a.touches[0].clientY,this.meta.move=0,this._containerWrapper.style.transition=null,this._containerWrapper.style.webkitTransition=null)},touchMove:function(a){a=a.touches[0].clientY-this.meta.touchStartPos;(0>a&&!this.meta.hasBeenMoved||this.meta.hasBeenMoved)&&!this.meta.scrollLocked&&3<Math.abs(a)&&(this.meta.move=this.meta.previousMove+a/2,this._containerWrapper.style.transform=
"translate3d(0, "+this.meta.move+"px, 0)",this._containerWrapper.style.webkitTransform="translate3d(0, "+this.meta.move+"px, 0)",this.meta.distanceFromTop=this.meta.winHeight-Math.abs(this.meta.move),this.meta.distanceFromBottom=Math.abs(this.meta.move),this.meta.hasBeenMoved=!0)},touchEnd:function(){var e=Math.abs(this.meta.move)>Math.abs(this.meta.previousMove),b=Math.abs(this.meta.previousMove-this.meta.move),c=0<Math.abs(this.meta.move);this.meta.previousMove=c?this.meta.move:this.meta.previousMove;
c?this.meta.snappedToMiddle?b>a.Config.INSCROLL_DISMISS_TRESHOLD&&e?this.snapOut():this.snapToMiddle(!0):0<this.meta.distanceFromBottom&&(this.meta.scrollLocked=!0,this.snapToMiddle(!0)):c||!this.meta.snappedToMiddle||this.meta.scrollLocked||this.shakeContainer()},snapToMiddle:function(a){var b=this,c=!1;a="undefined"!==typeof a?a:!0;this.recalculateSizes();this.meta.previousMove=-this.meta.winHeight;a&&(c=function(){b.meta.snappedToMiddle||(b.hasSnappedToMiddle(),b.meta.snappedToMiddle=!0)});this.moveVertically(this.meta.previousMove,
a,c,600)},snapOut:function(){var a=this;this.recalculateSizes();this.meta.previousMove=-(2*this.meta.winHeight);this.moveVertically(this.meta.previousMove,!0,function(){a.teardownDOMScroll()},300)},shakeContainer:function(){var a=-(this.meta.winHeight+20),b=this;this.meta.scrollLocked=!0;this.moveVertically(a,!0,function(){b._containerWrapper.style.transform="translate3d(0, "+b.meta.previousMove+"px, 0)";b._containerWrapper.style.webkitTransform="translate3d(0, "+b.meta.previousMove+"px, 0)";b.meta.scrollLocked=
!1},200)},moveVertically:function(e,b,c,d){d=d||300;this._containerWrapper.style.transform="translate3d(0, "+e+"px, 0)";this._containerWrapper.style.webkitTransform="translate3d(0, "+e+"px, 0)";if(!0===b&&(this._containerWrapper.style.transition="transform "+d+"ms",this._containerWrapper.style.webkitTransition="-webkit-transform "+d+"ms",c))var f=a.tools.dom.addEvents(this._containerWrapper,"transitionend webkitTransitionEnd",function(){f.forEach(function(a){a.remove()});c()})},recalculateSizes:function(){this.meta.winHeight=
this.getHeight();this.meta.domPosition=this.meta.winHeight+this.meta.triggerPoint},handleResize:function(){this.recalculateSizes();this.meta.snappedToMiddle?(this._containerWrapper.style.transition=null,this._containerWrapper.style.webkitTransition=null,this.snapToMiddle(!1)):this.meta.shownOnce||(this.meta.triggerPoint=document.body.scrollHeight*(this.getOptions().triggerPoint/100),this._fixedContainer.style.top=this.meta.domPosition+"px");this._fixedContainer.style.height=this.meta.winHeight+"px";
this._containerWrapper.style.height=this.meta.winHeight+"px"},getHeight:function(){var e=a.tools.isLandscapeOrientation(),b=screen.availHeight,c=screen.availWidth;return e&&b>c?c:b}}}());a.PlacementBoxAnchor=a.PlacementBoxAnchor||a.PlacementAnchorAbstract.extend(function(){function e(b,c){a.tools.scope.enforceCaller(this,a.PlacementBoxAnchor,"Context not met: PlacementBoxAnchor");try{var d=window.getComputedStyle(c).cursor;""!==d&&"auto"!==d?b.style.cursor=d:"a"===c.tagName.toLowerCase()&&(b.style.cursor=
"pointer")}catch(e){a.tools.debug.warn("/PlacementBoxAnchor/","Failed handling cursor for target element")}a.tools.dom.addEvent(b,"click",function(b){a.tools.dom.triggerEvent(c,"click")})}return{construct:function(b,c){this.$super(b,a.tools.mergeDefaults({anchorType:a.Config.PLACEMENT_ANCHOR_TYPE.BOX,placementType:a.Config.PLACEMENT_TYPE.IN_MEDIA},c));this._insertionElement=this.getTargetElement().parentNode;this._insertionTargetElement=this.getTargetElement();this._orientation="";try{"a"===this._insertionElement.tagName.toLowerCase()&&
(this._insertionTargetElement=this._insertionElement,this._insertionElement=this._insertionElement.parentNode)}catch(d){a.tools.debug.warn("/PlacementBoxAnchor/","Failed detecting insertion-element tag name")}},buildVisibilityDetectionFrame:function(b){null===this._visibilityDetectionFrame&&(this._visibilityDetectionFrame=a.tools.create("div"),this._visibilityDetectionFrame.className+=" kskdVis",this._visibilityDetectionFrame.style.zIndex=a.Config.BANNER_VIS_FRAME_Z_INDEX,this._orientation=b,"vertical"===
b?T.style(this._visibilityDetectionFrame,{position:"absolute",right:"0px",top:"0px",bottom:"0px"}):T.style(this._visibilityDetectionFrame,{position:"absolute",bottom:"0px",left:"0px",right:"0px"}))},createAnchorElement:function(){this.$super();var a=this.getAnchorElement();a.id="kskd"+this.getOptions().kioskID;this.getInsertionElement().insertBefore(a,this.getInsertionTargetElement().nextSibling)},createContainerElement:function(){this.$super();e.call(this,this.getAdContainerElement(),this.getInsertionTargetElement())},
getInsertionElement:function(){return this._insertionElement},getInsertionTargetElement:function(){return this._insertionTargetElement},prepareDisclaimer:function(){this.$super();this.getDisclaimer().getContainer().style.bottom="0px"},updateLayout:function(b,c){this.$super(b,c);var d,e=this.getVisibilityDetectionFrame();e&&("vertical"===this._orientation?(d=a.tools.ads.calculateScale(b,c,!1),e.style.width=d*c.width+"px"):(d=a.tools.ads.calculateScale(b,c,!0),e.style.height=c.height*d+"px"))}}}());
a.tools.hashing=a.tools.hashing||function(){var a={};(function(a){function c(a,b){var c=(a&65535)+(b&65535);return(a>>16)+(b>>16)+(c>>16)<<16|c&65535}function d(a,b,d,e,f,g){a=c(c(b,a),c(e,g));return c(a<<f|a>>>32-f,d)}function e(a,b,c,f,g,h,l){return d(b&c|~b&f,a,b,g,h,l)}function g(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function k(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function h(a,b){a[b>>5]|=128<<b%32;a[(b+64>>>9<<4)+14]=b;var h,l,n,m,u,s=1732584193,q=-271733879,r=-1732584194,t=271733878;
for(h=0;h<a.length;h+=16)l=s,n=q,m=r,u=t,s=e(s,q,r,t,a[h],7,-680876936),t=e(t,s,q,r,a[h+1],12,-389564586),r=e(r,t,s,q,a[h+2],17,606105819),q=e(q,r,t,s,a[h+3],22,-1044525330),s=e(s,q,r,t,a[h+4],7,-176418897),t=e(t,s,q,r,a[h+5],12,1200080426),r=e(r,t,s,q,a[h+6],17,-1473231341),q=e(q,r,t,s,a[h+7],22,-45705983),s=e(s,q,r,t,a[h+8],7,1770035416),t=e(t,s,q,r,a[h+9],12,-1958414417),r=e(r,t,s,q,a[h+10],17,-42063),q=e(q,r,t,s,a[h+11],22,-1990404162),s=e(s,q,r,t,a[h+12],7,1804603682),t=e(t,s,q,r,a[h+13],12,
-40341101),r=e(r,t,s,q,a[h+14],17,-1502002290),q=e(q,r,t,s,a[h+15],22,1236535329),s=g(s,q,r,t,a[h+1],5,-165796510),t=g(t,s,q,r,a[h+6],9,-1069501632),r=g(r,t,s,q,a[h+11],14,643717713),q=g(q,r,t,s,a[h],20,-373897302),s=g(s,q,r,t,a[h+5],5,-701558691),t=g(t,s,q,r,a[h+10],9,38016083),r=g(r,t,s,q,a[h+15],14,-660478335),q=g(q,r,t,s,a[h+4],20,-405537848),s=g(s,q,r,t,a[h+9],5,568446438),t=g(t,s,q,r,a[h+14],9,-1019803690),r=g(r,t,s,q,a[h+3],14,-187363961),q=g(q,r,t,s,a[h+8],20,1163531501),s=g(s,q,r,t,a[h+13],
5,-1444681467),t=g(t,s,q,r,a[h+2],9,-51403784),r=g(r,t,s,q,a[h+7],14,1735328473),q=g(q,r,t,s,a[h+12],20,-1926607734),s=d(q^r^t,s,q,a[h+5],4,-378558),t=d(s^q^r,t,s,a[h+8],11,-2022574463),r=d(t^s^q,r,t,a[h+11],16,1839030562),q=d(r^t^s,q,r,a[h+14],23,-35309556),s=d(q^r^t,s,q,a[h+1],4,-1530992060),t=d(s^q^r,t,s,a[h+4],11,1272893353),r=d(t^s^q,r,t,a[h+7],16,-155497632),q=d(r^t^s,q,r,a[h+10],23,-1094730640),s=d(q^r^t,s,q,a[h+13],4,681279174),t=d(s^q^r,t,s,a[h],11,-358537222),r=d(t^s^q,r,t,a[h+3],16,-722521979),
q=d(r^t^s,q,r,a[h+6],23,76029189),s=d(q^r^t,s,q,a[h+9],4,-640364487),t=d(s^q^r,t,s,a[h+12],11,-421815835),r=d(t^s^q,r,t,a[h+15],16,530742520),q=d(r^t^s,q,r,a[h+2],23,-995338651),s=k(s,q,r,t,a[h],6,-198630844),t=k(t,s,q,r,a[h+7],10,1126891415),r=k(r,t,s,q,a[h+14],15,-1416354905),q=k(q,r,t,s,a[h+5],21,-57434055),s=k(s,q,r,t,a[h+12],6,1700485571),t=k(t,s,q,r,a[h+3],10,-1894986606),r=k(r,t,s,q,a[h+10],15,-1051523),q=k(q,r,t,s,a[h+1],21,-2054922799),s=k(s,q,r,t,a[h+8],6,1873313359),t=k(t,s,q,r,a[h+15],
10,-30611744),r=k(r,t,s,q,a[h+6],15,-1560198380),q=k(q,r,t,s,a[h+13],21,1309151649),s=k(s,q,r,t,a[h+4],6,-145523070),t=k(t,s,q,r,a[h+11],10,-1120210379),r=k(r,t,s,q,a[h+2],15,718787259),q=k(q,r,t,s,a[h+9],21,-343485551),s=c(s,l),q=c(q,n),r=c(r,m),t=c(t,u);return[s,q,r,t]}function l(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function n(a){var b,c=[];c[(a.length>>2)-1]=void 0;for(b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(a.charCodeAt(b/
8)&255)<<b%32;return c}function m(a){return l(h(n(a),8*a.length))}function A(a,b){var c,d=n(a),e=[],f=[];e[15]=f[15]=void 0;16<d.length&&(d=h(d,8*a.length));for(c=0;16>c;c+=1)e[c]=d[c]^909522486,f[c]=d[c]^1549556828;c=h(e.concat(n(b)),512+8*b.length);return l(h(f.concat(c),640))}function x(a){var b="",c,d;for(d=0;d<a.length;d+=1)c=a.charCodeAt(d),b+="0123456789abcdef".charAt(c>>>4&15)+"0123456789abcdef".charAt(c&15);return b}a.md5=function(a,b,c){b?c?a=A(unescape(encodeURIComponent(b)),unescape(encodeURIComponent(a))):
(a=A(unescape(encodeURIComponent(b)),unescape(encodeURIComponent(a))),a=x(a)):a=c?m(unescape(encodeURIComponent(a))):x(m(unescape(encodeURIComponent(a))));return a}})(a);return{md5:function(b,c,d){return a.md5(b,c,d)}}}();(function(){var e=["externalbannerslot","floorbannerslot","vastpreroll","bannerslot"];a.AnchorTypeResolver=a.AnchorTypeResolver||{convertAnchorTypeToPlacementType:function(b){return b===a.Config.PLACEMENT_ANCHOR_TYPE.STUB?a.Config.PLACEMENT_TYPE.IN_LINE:b===a.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD?
a.Config.PLACEMENT_TYPE.IN_SCREEN:b===a.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL?a.Config.PLACEMENT_TYPE.INTERSTITIAL:b===a.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL?a.Config.PLACEMENT_TYPE.IN_SCROLL:a.Config.PLACEMENT_TYPE.IN_MEDIA},fetchSinglePluginName:function(a){a=a.split(",");for(var c=0,d=a.length;c<d;c+=1){var f=a[c].trim().toLowerCase();if(0<=e.indexOf(f))return f}return""},resolveAnchorTypeForSettings:function(b){var c=!1;b=b.get("ui.media.overridePlugins","bannerslot").trim();0<b.length&&
(0<=b.indexOf(",")&&(b=a.AnchorTypeResolver.fetchSinglePluginName(b)),c="externalbannerslot"===b.toLowerCase()?a.Config.PLACEMENT_ANCHOR_TYPE.STUB:"floorbannerslot"===b.toLowerCase()?a.Config.PLACEMENT_ANCHOR_TYPE.LAUNCHPAD:"vastpreroll"===b.toLowerCase()?a.Config.PLACEMENT_ANCHOR_TYPE.STUB:"interstitial"===b.toLowerCase()?a.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL:"inscroll"===b.toLowerCase()?a.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL:a.Config.PLACEMENT_ANCHOR_TYPE.BOX);return c}}})();a.PlacementInputManager=
a.PlacementInputManager||a.AdComponentAbstract.extend(function(){function e(){a.tools.scope.enforceCaller(this,a.PlacementInputManager,"Expected caller to be instance of PlacementInputManager");if(!this.isNot("started")){var b=this,c=Promise.resolve();this.forEachInput(function(a){c=c.then(function(){a.process(b.getPlacement())})});c.then(function(){setTimeout(a.tools.compatibility.bindFunction(e,b),b._processInterval)})}}return{construct:function(){this.$super();this.addStatusSet(["stopped","started",
"destroy"],"stopped");this._placement=null;this._inputs=[];this._processVisibilityTimer=this._processInterval=null},addInput:function(b){if(!0!==b instanceof a.PlacementInputAbstract)throw new z("Input is not of correct type");this._inputs.push(b);this.sortInputs()},destroy:function(){this.set("destroy");clearInterval(this._processVisibilityTimer);this.forEachInput(function(a){a.destroy()});this._inputs=null;this.$super()},forEachInput:function(a){var c=this.getInputs(),d=c.length;if("function"!==
typeof a)throw Error("Callback is not a function");for(var e=0;e<d;e+=1)a(c[e])},getInputs:function(){return this._inputs},getPlacement:function(){return this._placement},setPlacement:function(b){this._placement=b;this._processInterval=b.getSettings().getInt("ui.media.adjustInterval",a.Config.PLACEMENT_INPUT_MGR_INTERVAL)},sortInputs:function(){this._inputs.sort(function(a,c){var d=a.getOptions().order,e=c.getOptions().order;return d>e?-1:e>d?1:0})},start:function(){var b=this.getPlacement();if(!0!==
b instanceof a.Placement)throw new z("Placement not set");if(this.isNot("stopped"))return!1;this.set("started");setImmediate(a.tools.compatibility.bindFunction(e,this));this._processVisibilityTimer=setInterval(function(){b.detectVisibility()},a.Config.BANNER_VIS_UPDATE_INTERVAL);return!0},stop:function(){if(this.isNot("started"))return!1;this.set("stopped");return!0}}}());a.Placement=a.Placement||a.EventDispatcher.extend(function(){function e(){a.tools.scope.enforceCaller(this,a.Placement,"Expected caller to be instance of Placement");
var c=this;this.addListener("placementPositionChanged",function(a){c.getAnchor().applyPosition(a)});this.addListener("placementSizeChanged",function(b){var d;null===c.getAdFill()?f.call(c,b).then(function(){d=c.getWaterfall();c.getAnchor().updateLayout(b,d.getCurrentStep().proportions);c.updateLayout()},function(b){a.tools.debug.warn("/Placement/","Build did not complete: "+b);c.publish("buildFailed")}):(c.getAdFill().setPlacementSize(b),(d=c.getWaterfall())&&c.getAnchor().updateLayout(b,d.getCurrentStep().proportions),
c.updateLayout())});this.addListener("bannerCloseButtonPressed",function(b){b.placement===c&&c.hideAd().then(function(){a.destructors.destroyPlacement(c)})});var d=this.getAnchor().getOptions().anchorType===a.Config.PLACEMENT_ANCHOR_TYPE.INTERSTITIAL,e=this.getAnchor().getOptions().anchorType===a.Config.PLACEMENT_ANCHOR_TYPE.IN_SCROLL,d=d||e?this.getAnchor().getCloseButtonContainer():this.getAnchor().getDisclaimer().getCloseButtonContainer();this.addListener("onclick",function(b){a.tools.preventDefault(b,
!0);c.dispatch("bannerCloseButtonPressed",{placement:c})},d);a.GrandCentralStationLocator.getGrandCentralStation().subscribe("iframeLoaded",a.tools.compatibility.bindFunction(b,this))}function b(a){a===this.getOptions().kioskID&&(this._iframeLoadCount+=1,2<=this._iframeLoadCount&&this.set("iframeLoadedTwice"))}function c(b,c,d){return c.waterfallTemplate?a.AdFillResolver.createAdFillForWaterfall(c.waterfallTemplate.copy(),b,c):a.AdFillResolver.createAdFillForConfiguration(b,c.settings,{kioskID:c.kioskID,
mediaSize:d})}function d(b,c,d){var e=b.getAnchor().getAnchorElement(),f=b.getWaterfall().getCurrentStep().proportions,g=b.getAdFill().getOptions().orientation,k=b.getAdFill().getOptions().scaleEnabled;c=k?a.tools.ads.calculateActualAdSize(c,f,"horizontal"===g).height:f.height;e=a.tools.dom.getAbsoluteOffsetRect(e);b._RTBPosition=a.tools.dom.calculateRTBPosition(e,c,d);d=d?a.tools.getWindowSize().height:e.top;b._coordinates={x:e.left,y:d-c};b.getAnchor().setRTBPosition(b.getRTBPosition())}function f(b){a.tools.scope.enforceCaller(this,
a.Placement,"Expected caller to be instance of Placement");var e=this;return new Promise(function(f,g){c(e.getAnchor(),e.getOptions(),b).then(function(c){var m=a.GrandCentralStationLocator.getGrandCentralStation();c?(m.publish("validInventory",e),e.hasNot("sentCreated")&&(e.set("sentCreated"),m.publish("validContainer",e)),e._adFill=c.adFill,e._waterfall=c.waterfall,k.call(e),c=e.getAnchor().getOptions().placementType===a.Config.PLACEMENT_TYPE.IN_SCREEN||e.getAnchor().getOptions().placementType===
a.Config.PLACEMENT_TYPE.INTERSTITIAL,d(e,b,c),e.loadAd().then(function(){e.getAdFill().setPlacementSize(b);f()}),e._adFill.subscribe("adCompleted",function(){e.hideAd().then(function(){a.destructors.destroyPlacement(e)})}),e._adFill.subscribe("adErrored",function(){e.deregisterInstance();e.hideAd().then(function(){a.destructors.destroyPlacement(e)})}),e.getAdFill().subscribe("waterfallTrickle",function(b){var c=b.waterfall.getCurrentStep();b=a.GrandCentralStationLocator.getGrandCentralStation();a.tools.debug.log("/PlacementWaterfallCallbackInput/",
"Waterfall step initiated:",c.network+"@"+c.zone);e.getSettings().getBool("ui.media.Banner.waterfallAnalyticsEnabled",!1)&&(c=e.getWaterfallTrickleData(),c[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]="waterfallTrickle",b.dispatch(a.Config.ANALYTICS_EVENT_NAME,c));b.dispatch("timingEvent",{name:"waterfallTrickle",properties:{kioskID:e.getOptions().kioskID}})}),e.getAdFill().subscribe("waterfallEnd",function(b){e.deregisterInstance();var c=b.waterfall.getSteps().length;a.tools.debug.log("/PlacementWaterfallCallbackInput/",
"Fallback initiated at end of waterfall, closing...");var d=e.getSettings().getBool("ui.media.Banner.waterfallAnalyticsEnabled",!1);b=a.GrandCentralStationLocator.getGrandCentralStation();d&&(d=e.getOptions(),c=a.tools.mergeDefaults(e.getContainerImpressionData(),{"waterfall.publisherID":d.publisherID,"waterfall.siteID":d.siteID,"waterfall.total":c,"page.uri":a.tools.environment.getPageUrl()}),c[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]="waterfallEnd",b.dispatch(a.Config.ANALYTICS_EVENT_NAME,c));b.dispatch("timingEvent",
{name:"waterfallEnd",properties:{kioskID:e.getOptions().kioskID}})})):g("No adfill available")})})}function g(){a.tools.scope.enforceCaller(this,a.Placement,"Expected caller to be instance of Placement");var b=this,c=this.getContainerImpressionData();this._containerImpressionTimer=setTimeout(function(){b&&b.getWaterfall()&&b.is("sendingContainerImpression")&&(b.set("sentContainerImpression"),c[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]="containerImpression",a.GrandCentralStationLocator.getGrandCentralStation().dispatch(a.Config.ANALYTICS_EVENT_NAME,
c),b.unlock("containerImpression"))},1E3)}function k(){a.tools.scope.enforceCaller(this,a.Placement,"Expected caller to be instance of Placement");if(this.hasNot("sentContainerOpportunity")){this.set("sentContainerOpportunity");var b=this.getContainerImpressionData();b[a.Config.ANALYTICS_EVENT_NAME_PROPERTY]="containerOpportunity";a.GrandCentralStationLocator.getGrandCentralStation().dispatch(a.Config.ANALYTICS_EVENT_NAME,b)}}return{construct:function(b,c){this.$super();c=c||{};var d=this._options=
a.tools.mergeDefaults({categories:!1,kioskedZoneID:"",kioskID:""+b.getOptions().kioskID,settings:null,publisherID:null,siteID:null,settingsMeta:{}},c);if(0>=d.kioskID.length)throw new z("Kiosk ID was empty");if(!0!==d.settings instanceof a.SettingsOBC)throw new z("Settings option was not an instance of SettingsOBC");this.addStatusSet(["shown","hidden","animating"],"hidden");this.addStatus("shownFromVisibility");this.addStatusSet(["openedByAnimation","openedInstantly"],"openedByAnimation");this.addStatus("sentContainerOpportunity");
"opened"===this.getSettings().get("ui.media.Banner.presentation","animate")&&this.set("openedInstantly");this._containerImpressionTimer=null;this.addStatusSet(["waitingContainerImpression","sendingContainerImpression","sentContainerImpression"],"waitingContainerImpression");this._anchor=b;this._waterfall=this._adFill=null;this._refreshCount=0;this._wasVisible=!1;this._cuttingElements={left:null,right:null,top:null,bottom:null,parent:null};this._coordinates={x:0,y:0};this._RTBPosition=a.Config.RTB_POS.UNKNOWN;
this._iframeLoadCount=0;e.call(this);a.GrandCentralStationLocator.getGrandCentralStation().dispatch("timingEvent",{name:"placementCreated",properties:{kioskID:this._options.kioskID}})},deregisterInstance:function(){a.tools.debug.warn("/Placement/","Was unsuccessful in presenting an ad, will de-register");var b=a.InstanceControlManager.getSharedInstance(),c=this.getOptions(),d=this.getAnchor(),e=this.getAdFill(),f=a.SnifferControllerLocator.getSnifferController();b&&(d&&b.deregisterCount(a.InstanceControlManager.InstanceType.Anchor,
d.getOptions().anchorType,c.kioskID),e&&b.deregisterCount(a.InstanceControlManager.InstanceType.AdFill,e.getOptions().name,c.kioskID));f&&f.deactivateItemByZoneID(c.kioskedZoneID)},destroy:function(){var b=this,c=a.tools.compatibility.bindFunction(this.$super,this);return this.lockMany("animation","containerImpression","visibilityShowAction").then(function(){return b.destroyMembers("_anchor","_adFill","_waterfall","_cuttingElements").then(c)})},detectVisibility:function(){var a=this.getAnchor().isVisible(),
b=this;this._wasVisible!==a&&(this._wasVisible=a,this.publish("visibilityChanged",{visible:a}));if(a){if(null!==this.getAdFill()&&null!==this.getAdFill().getAdElement()){var c=this.getAdFill(),d=c.getAdElement();this.hasNot("shownFromVisibility")&&(this.set("shownFromVisibility"),this.lock("visibilityShowAction").then(function(){b.loadAd().then(function(){d.waitForLoad().then(function(){b.unlock("visibilityShowAction")}).then(b.bindMember("showAd"))})}));this.is("waitingContainerImpression")&&d.waitForLoad().then(function(){c.is("loaded")&&
b.is("waitingContainerImpression")&&(b.set("sendingContainerImpression"),b.lock("containerImpression").then(function(){g.call(b)}))})}}else this.is("sendingContainerImpression")&&(this.set("waitingContainerImpression"),this._containerImpressionTimer&&(clearTimeout(this._containerImpressionTimer),b.unlock("containerImpression")))},getAdFill:function(){return this._adFill},getAnchor:function(){return this._anchor},getContainerImpressionData:function(){var b=this.getWaterfall(),c=this.getOptions(),d=
a.tools.environment.getPlacementIndex(this),e=this.getAnchor().getOptions().placementType,f=this.getAdFill().getOptions().orientation,g=b.getCurrentStep().zone||"",k=this.getRefreshCount(),b=b.getCurrentStep().provider||"",m=this.getRTBPosition(),v=this.getCoordinates(),d=a.tools.mergeDefaults({"cntr.id":"","cntr.type":"banner","cntr.slot":0,"cntr.first":!1,"cntr.segment":"","cntr.categories":[],"cntr.subcategories":[],"cntr.keywords":[],"cntr.placement_type":"","cntr.banner.zone_type":"","cntr.banner.zone_id":"",
"cntr.banner.provider":"","cntr.refresh_count":0},{"cntr.id":c.kioskedZoneID,"cntr.type":"banner","cntr.slot":d,"cntr.first":0===d,"cntr.segment":"","cntr.categories":[],"cntr.subcategories":[],"cntr.keywords":[],"cntr.placement_type":e,"cntr.banner.zone_type":f,"cntr.banner.zone_id":g,"cntr.banner.provider":b,"cntr.refresh_count":k,"cntr.rtb_pos":m,"cntr.coordinates":v}),e=a.SnifferControllerLocator.getSnifferController().getSettingsMetaAbTesting();e.status===a.Config.SETTINGS_AB_TEST_OVERRIDE_NONE?
d["cntr.segment"]="default":e.status===a.Config.SETTINGS_AB_TEST_OVERRIDE_FAIL?d["cntr.segment"]="override":e.status===a.Config.SETTINGS_AB_TEST_OVERRIDE_FULL&&(d["cntr.segment"]=e.test);c.categories&&(c.categories.iabtier1&&a.tools.array.isArray(c.categories.iabtier1)&&(d["cntr.categories"]=c.categories.iabtier1),c.categories.iabtier2&&a.tools.array.isArray(c.categories.iabtier2)&&(d["cntr.subcategories"]=c.categories.iabtier2),c.categories.focus100k&&a.tools.array.isArray(c.categories.focus100k)&&
(d["cntr.keywords"]=c.categories.focus100k));return d=a.tools.mergeDefaults(d,a.tools.environment.getAnalyticsPageData())},getCoordinates:function(){return this._coordinates},getCuttingElement:function(a){return this._cuttingElements[a]},getOptions:function(){return this._options},getRefreshCount:function(){return this._refreshCount},getRTBPosition:function(){return this._RTBPosition},getSettings:function(){return this.getOptions().settings},getWaterfall:function(){return this._waterfall},getWaterfallTrickleData:function(){var b=
this.getOptions(),c=this.getWaterfall(),d=c.getCurrentStep();return a.tools.mergeDefaults(this.getContainerImpressionData(),{"waterfall.publisherID":b.publisherID,"waterfall.siteID":b.siteID,"waterfall.network":d.network,"waterfall.placementID":d.zone,"waterfall.step":c.getCurrentStepIndex(),"page.uri":a.tools.environment.getPageUrl()})},hideAd:function(){if(this.isNot("shown"))return Promise.resolve();var b=this.getAnchor(),c=this.getAdFill(),d=c.getOptions().orientation,e=this.getSettings().getInt("ui.media.Banner.animationSpeedOut",
a.Config.BANNER_ANIMATION_SPEED_OUT),f=this;this.set("animating");c.set("animating");var g=a.tools.ads.calculateActualAdSize(c.getPlacementSize(),c.getOptions().proportions,!0);return this.lock("animation").then(function(){if(b instanceof a.PlacementBoxAnchor){var f,k;"horizontal"===d?(f="bottom",k=0-g.height+"px"):"vertical"===d&&(f="right",k=-g.width+"px");var m={};m[f]=k;return Promise.all([a.tools.animate(c.getAdElement().getScalingElement(),{duration:e,properties:m,easing:"inOutQuintic"}),a.tools.animate(b.getDisclaimer().getContainer(),
{duration:e,properties:{bottom:"0px",opacity:0},easing:"inOutQuintic"})])}if(b instanceof a.PlacementStubAnchor)return a.tools.animate(b.getAdContainerElement(),{duration:e,properties:{height:"0px"},easing:"inOutQuintic"});if(b instanceof a.PlacementLaunchpadAnchor)return Promise.all([a.tools.animate(b.getFixedContainerElement(),{duration:e,properties:{bottom:0-g.height+"px"},easing:"inOutQuintic"}),a.tools.animate(b.getDisclaimer().getContainer(),{duration:e,properties:{bottom:"0px",opacity:0},easing:"inOutQuintic"})]);
if(b instanceof a.PlacementInterstitialAnchor)return Promise.all([a.tools.animate(b.getContainerBox(),{duration:e,properties:{opacity:0},easing:"inOutQuintic"}),a.tools.animate(b.getFixedContainerElement(),{duration:e,properties:{opacity:0},easing:"inOutQuintic"}),a.tools.animate(b.getDisclaimer().getContainer(),{duration:e,properties:{opacity:0},easing:"inOutQuintic"})]);if(b instanceof a.PlacementInScrollAnchor)return Promise.resolve()}).then(function(){f.set("hidden");c.set("hidden");f.unlock("animation")})},
loadAd:function(){var a=this;return new Promise(function(b){(function u(){var c=a.getAdFill();c&&(c.is("loaded")||c.is("idle"))?c.is("loaded")?c.getAdElement().applyInitialisation().then(b):c.setup(a.getWaterfall(),a.getSettings()).then(b):setTimeout(u,80)})()})},refresh:function(){var a,b=this;a=this.getAdFill();var c=this.getWaterfall();return c&&a?(a.destroy(),c.destroy(),a=a.getPlacementSize(),f.call(this,a).then(function(){b._refreshCount+=1;return Promise.all([b.loadAd(),b.getAdFill().waitForLoad(),
b.getAdFill().getAdElement().waitForLoad()]).then(function(){b.set("waitingContainerImpression")})})):Promise.reject()},setCuttingElement:function(a,b){this._cuttingElements[a]=b},showAd:function(){if(this.isNot("hidden"))return Promise.resolve();var b=this.getAnchor(),c=this.getAdFill(),d=c.getOptions().orientation,e=this.getSettings().getInt("ui.media.Banner.animationSpeedIn",a.Config.BANNER_ANIMATION_SPEED_IN),f=1E3*this.getSettings().getInt("ui.media.Banner.interstitialClosing",a.Config.INTERSTITIAL_CLOSING),
g=this.getSettings().getInt("ui.media.overlays.Disclaimer.showDelay",0),k=this;this.is("openedInstantly")&&(e=0);this.set("animating");c.set("animating");var m="horizontal"===d,v=a.tools.ads.calculateActualAdSize(c.getPlacementSize(),c.getOptions().proportions,m),y=function(){return a.tools.promiseRace([new Promise(function(b){g=g>=a.Config.DISCLAIMER_DELAY_MAX?a.Config.DISCLAIMER_DELAY_MAX:g;window.setTimeout(b,g)}),new Promise(function(a){if(k.has("iframeLoadedTwice"))a();else var b=k.subscribe("statusSet",
function(c){0<=c.indexOf("iframeLoadedTwice")&&(b(),a())}).remove})])};return this.loadAd().then(function(){return k.lock("animation")}).then(a.tools.delay(1,!0)).then(function(){if(b instanceof a.PlacementBoxAnchor){var g,k;"horizontal"===d?(g="bottom",k="0px"):"vertical"===d&&(g="right",k=c.getRightPositionForOnScreen()+"px");var m={};m[g]=k;return a.tools.animate(c.getAdElement().getScalingElement(),{duration:e,properties:m,easing:"inOutQuintic"}).then(y).then(function(){var c=b.getDisclaimer();
if("horizontal"===d)c.getContainer().style.bottom=v.height+"px";else if("vertical"===d){var f=c.getAdsLogoDisclaimerContainer().offsetHeight,g=c.getCloseButtonContainer().offsetWidth+c.getAdsLogoDisclaimerContainer().offsetWidth,k=Math.floor(v.width-g+g/2+f/2);T.style(c.getContainer(),{top:g/2+f/2+"px",right:k+"px",width:g+"px",transform:"rotate(270deg)",msTransform:"rotate(270deg)",webkitTransform:"rotate(270deg)",webkitTransformOrigin:"50% 50%",marginTop:"-"+f+"px"})}return a.tools.animate(c.getContainer(),
{duration:e,properties:{opacity:1},easing:"inOutQuintic"})})}if(b instanceof a.PlacementStubAnchor)return v.height+=b.getDisclaimer().getHeightOutsideBanner(),a.tools.animate(b.getAdContainerElement(),{duration:e,properties:{height:v.height+"px"},easing:"inOutQuintic"}).then(y).then(function(){b.getDisclaimer().getContainer().style.bottom=v.height+"px";return a.tools.animate(b.getDisclaimer().getContainer(),{duration:e,properties:{opacity:1},easing:"inOutQuintic"})});if(b instanceof a.PlacementLaunchpadAnchor)return b.getFixedContainerElement().style.bottom=
"-"+v.height+"px",a.tools.animate(b.getFixedContainerElement(),{duration:e,properties:{bottom:0},easing:"inOutQuintic"}).then(y).then(function(){b.getDisclaimer().getContainer().style.bottom=v.height+"px";return a.tools.animate(b.getDisclaimer().getContainer(),{duration:e,properties:{opacity:1},easing:"inOutQuintic"})});if(b instanceof a.PlacementInterstitialAnchor)return a.tools.animate(b.getFixedContainerElement(),{duration:e,properties:{opacity:1},easing:"inOutQuintic"}).then(function(){return a.tools.animate(b.getContainerBox(),
{duration:e,properties:{opacity:1},easing:"inOutQuintic"})}).then(function(){setTimeout(function(){b.getCloseButtonContainer().style.display="block"},f);return y().then(function(){return a.tools.animate(b.getDisclaimer().getContainer(),{duration:e,properties:{opacity:1},easing:"inOutQuintic"})})});if(b instanceof a.PlacementInScrollAnchor)return Promise.resolve()}).then(function(){k.set("shown");c.set("shown");a.GrandCentralStationLocator.getGrandCentralStation().dispatch("timingEvent",{name:"placementShown",
properties:{kioskID:k.getOptions().kioskID}});k.unlock("animation")})},updateLayout:function(){if(this.is("shown")){var b=this.getAnchor(),c=this.getAdFill(),d=c.getOptions().orientation,e="horizontal"===d,e=a.tools.ads.calculateActualAdSize(c.getPlacementSize(),c.getOptions().proportions,e);b instanceof a.PlacementBoxAnchor?"horizontal"===d?(c.getAdElement().getScalingElement().style.bottom="0px",b.getDisclaimer().getContainer().style.bottom=e.height+"px"):"vertical"===d&&(c.getAdElement().getScalingElement().style.right=
c.getRightPositionForOnScreen()+"px",c=b.getDisclaimer().getAdsLogoDisclaimerContainer().offsetHeight,d=b.getDisclaimer().getCloseButtonContainer().offsetWidth+b.getDisclaimer().getAdsLogoDisclaimerContainer().offsetWidth,e=Math.floor(e.width-d+d/2+c/2),T.style(b.getDisclaimer().getContainer(),{top:d/2+c/2+"px",right:e+"px",width:d+"px",transform:"rotate(270deg)",msTransform:"rotate(270deg)",webkitTransform:"rotate(270deg)",webkitTransformOrigin:"50% 50%",marginTop:"-"+c+"px"})):b instanceof a.PlacementStubAnchor?
(e.height+=b.getDisclaimer().getHeightOutsideBanner(),b.getAdContainerElement().style.height=e.height+"px",b.getDisclaimer().getContainer().style.bottom=e.height+"px"):b instanceof a.PlacementLaunchpadAnchor?(b.getFixedContainerElement().style.bottom="0px",b.getDisclaimer().getContainer().style.bottom=e.height+"px"):b instanceof a.PlacementInScrollAnchor&&b.handleResize()}}}}());(function(){var e="ADVERTISER_ID CACHEBUSTER DFP_INSTANCE_COUNT DOMAIN HEIGHT ID KIOSK_ID NETWORK_NAME PLACEMENT_TYPE SIZE WIDTH FLD_STATUS".split(" "),
b={advertiserID:"ADVERTISER_ID",dfpCount:"DFP_INSTANCE_COUNT",domain:"DOMAIN",height:"HEIGHT",kioskID:["KIOSK_ID","CACHEBUSTER"],network:"NETWORK_NAME",placementType:"PLACEMENT_TYPE",width:"WIDTH",zoneID:"ID",fldStatus:"FLD_STATUS"};a.AdContentTokenResolver=a.AdContentTokenResolver||{convertFriendlyToRaw:function(c){var d={},f=[],g;for(g in b)if(b.hasOwnProperty(g)){var k=b[g];a.tools.array.isArray(k)||(k=[k]);k.forEach(function(a){d[a]=c[g];f.push(a)})}d.SIZE=""+(d.WIDTH||"0")+"x"+(d.HEIGHT||"0");
f.push("SIZE");if(f.length!==e.length)throw new z("Invalid number of friendly properties to raw: "+f.length+"/"+e.length);return d},resolveContent:function(b,d){var e=a.AdContentTokenResolver.convertFriendlyToRaw(d);return a.tools.formatting.tokenReplaceString(b,e)}}})();a.MessageSources.FrameMessageSource=a.MessageSources.FrameMessageSource||a.MessageSources.MessageSourceAbstract.extend(function(){return{construct:function(a){this.$super(m.mergeDefaults({name:"FrameMessageSource",sourceFrame:null},
a||{}))},canReceiveMessage:function(){var a=this.getOptions();return null!==a.sourceFrame&&"function"===typeof a.sourceFrame.postMessage},sendMessage:function(a){var b=!1;try{var c=JSON.stringify(a);c&&(this.getOptions().sourceFrame.postMessage(c,"*"),b=!0)}catch(d){m.debug.error("/FrameMessageSource/","Failed sending message",a,d)}return b}}}());var T=function(){return{domainName:null,designs:{},style:function(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d="[object Array]"===Object.prototype.toString.call(b[c])?
b[c]:[b[c]],f;for(f in d)if(a&&"style"in a&&c in a.style)try{a.style[c]=d[f]}catch(g){a.setAttribute("style",d[f])}}},setStyle:function(a,b,c){c?this.style(a,this.designs[c].getDesignStyle(b)):this.style(a,this[b])},getStyle:function(a,b){var c,d=null;c=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(a,""):a.currentStyle?a.currentStyle:a.style;if(c[b]&&"none"!==c[b])d=c[b];else{var f=b.slice(0,1).toUpperCase()+b.slice(1);c["Webkit"+f]?d=c["Webkit"+
f]:c["Ms"+f]?d=c["Ms"+f]:c["Moz"+f]?d=c["Moz"+f]:c["O"+f]&&(d=c["O"+f])}return d},getDesignStyle:function(a,b){return this.designs[a].getDesignStyle(b)}}}();a.tools.flash=a.tools.flash||function(){var a=new function(){var a=this;a.installed=!1;a.raw="";a.major=-1;a.minor=-1;a.revision=-1;a.revisionStr="";var c=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(a){return d(a)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function(a){var b="6,0,21";try{a.AllowScriptAccess="always",b=d(a)}catch(c){}return b}},
{name:"ShockwaveFlash.ShockwaveFlash",version:function(a){return d(a)}}],d=function(a){var b=-1;try{b=a.GetVariable("$version")}catch(c){}return b};a.majorAtLeast=function(c){return a.major>=c};a.minorAtLeast=function(c){return a.minor>=c};a.revisionAtLeast=function(c){return a.revision>=c};a.versionAtLeast=function(c){for(var d=[a.major,a.minor,a.revision],e=Math.min(d.length,arguments.length),h=0;h<e;h+=1)if(d[h]>=arguments[h]){if(!(h+1<e&&d[h]===arguments[h]))return!0}else return!1};a.FlashDetect=
function(){var d,e,k,h,l,m;if(navigator.plugins&&0<navigator.plugins.length){if((m=navigator.mimeTypes)&&m["application/x-shockwave-flash"]&&m["application/x-shockwave-flash"].enabledPlugin&&m["application/x-shockwave-flash"].enabledPlugin.description){d=m=m["application/x-shockwave-flash"].enabledPlugin.description;m=d.split(/ +/);var u=m[2].split(/\./);m=m[3];e=parseInt(u[0],10);k=parseInt(u[1],10);h=m;l=parseInt(m.replace(/[a-zA-Z]/g,""),10)||a.revision;a.raw=d;a.major=e;a.minor=k;a.revisionStr=
h;a.revision=l;a.installed=!0}}else if(-1===navigator.appVersion.indexOf("Mac")&&"execScript"in window)for(m=-1,u=0;u<c.length&&-1===m;u+=1){d=-1;try{d=new ActiveXObject(c[u].name)}catch(z){d={activeXError:!0}}d.activeXError||(a.installed=!0,m=c[u].version(d),-1!==m&&(d=m,h=d.split(","),e=parseInt(h[0].split(" ")[1],10),k=parseInt(h[1],10),l=parseInt(h[2],10),h=h[2],a.raw=d,a.major=e,a.minor=k,a.revision=l,a.revisionStr=h))}}()};a.JS_RELEASE="1.0.4";return{flashSupported:a.installed}}();(function(){function e(b){b=
a.tools.trim(b);return 0<b.length?("."===b[0]&&(b=b.substr(1)),"."===b[b.length-1]&&(b=b.substr(0,b.length-1)),b.split(".")):[b]}a.SettingsOBC=a.SettingsOBC||function(b){this._settingsObj=b=b||{};if("object"!==typeof this._settingsObj)throw new a.Exceptions.InvalidTypeException("object",typeof this._settingsObj,this);if(this._settingsObj instanceof a.SettingsOBC)throw new a.Exceptions.InvalidTypeException("object","ITGS.SettingsOBC",this);b=this._settingsObj;var c={},d,e,g,k;for(k in b)if(b.hasOwnProperty(k)){d=
c;e=k.split(".");for(var h=e.pop();e.length;)g=e.shift(),d=d[g]=d[g]||{};d[h]=b[k]}this._settingsObj=c;this._settingsObj=a.tools.deepFreeze(this._settingsObj)};a.SettingsOBC.prototype.clone=function(){return new a.SettingsOBC(this.getSettingsObject())};a.SettingsOBC.prototype.get=function(a,c){if(-1!==a.indexOf(".")){var d=e.call(this,a);if(this._settingsObj.hasOwnProperty(d[0])){var f=this.getSubset(d[0]),d=d.splice(1),d=d.join(".");return f.get(d,c)}return c}return this._settingsObj.hasOwnProperty(a)?
this._settingsObj[a]:c};a.SettingsOBC.prototype.getBool=function(b,c){var d=this.get(b,c),e;"true"===d||"false"===d?e="true"===d:(!0===d||!1===d)&&(e=d);a.tools.isset(e)||(e=a.tools.isset(c)?!!c:!!d);return"undefined"===typeof e?!1:e};a.SettingsOBC.prototype.getInt=function(b,c){c=a.tools.isset(c)?c:0;var d=parseInt(this.get(b,c),10);return isNaN(d)||void 0===d?c:d};a.SettingsOBC.prototype.getSettingsObject=function(){return a.tools.deepClone(this._settingsObj)};a.SettingsOBC.prototype.getSubset=
function(b){if(-1!==b.indexOf(".")){var c=e(b);return this._settingsObj.hasOwnProperty(c[0])?(b=this.getSubset(c[0]),c=c.splice(1),c=c.join("."),b.getSubset(c)):new a.SettingsOBC({})}return this._settingsObj.hasOwnProperty(b)?new a.SettingsOBC(this._settingsObj[b]):new a.SettingsOBC({})};a.SettingsOBC.prototype.isSet=function(a){if(-1!==a.indexOf(".")){var c=e(a);if(this._settingsObj.hasOwnProperty(c[0]))return a=this.getSubset(c[0]),c=c.splice(1),c=c.join("."),a.isSet(c)}else return this._settingsObj.hasOwnProperty(a);
return!1};a.SettingsOBC.prototype.mergeSettings=function(b,c){if(b instanceof a.SettingsOBC)return this.mergeSettings(b.getSettingsObject(),c);var d=a.tools.deepClone(this._settingsObj,!1);c=a.tools.isset(c)?!!c:!0;if("object"===typeof b)return d=c?a.tools.mergeDefaults(d,b):a.tools.mergeDefaults(b,d),new a.SettingsOBC(d);throw new a.Exceptions.InvalidTypeException("object",typeof b,this);}})();a.resources={"networks/appnexus.html":"PCEtLSBCRUdJTiBBUFBORVhVUyBUQUcgLSBbU0laRV0gW0RPTUFJTl0gPCAtIERPIE5PVCBNT0RJRlkgLS0+CjxTQ1JJUFQgU1JDPSJodHRwOi8vaWIuYWRueHMuY29tL3R0aj9pZD1bSURdJmNiPVtDQUNIRUJVU1RFUl0iIFRZUEU9InRleHQvamF2YXNjcmlwdCI+PC9TQ1JJUFQ+CjwhLS0gRU5EIFRBRyAtLT4=",
"networks/appnexus_secure.html":"PCEtLSBCRUdJTiBTRUNVUkUgQVBQTkVYVVMgVEFHIC0gW1NJWkVdIFtET01BSU5dIDwgLSBETyBOT1QgTU9ESUZZIC0tPgo8U0NSSVBUIFNSQz0iaHR0cHM6Ly9zZWN1cmUuYWRueHMuY29tL3R0aj9pZD1bSURdJmNiPVtDQUNIRUJVU1RFUl0iIFRZUEU9InRleHQvamF2YXNjcmlwdCI+PC9TQ1JJUFQ+CjwhLS0gRU5EIFRBRyAtLT4=","networks/criteo.html":"PCEtLSBbRE9NQUlOXSAtIENyaXRlbyB0YWcgLSBbU0laRV0gLS0+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICAgIGRvY3VtZW50Lk1BWF9jdDAgPScnOwogICAgdmFyIG0zX3UgPSAobG9jYXRpb24ucHJvdG9jb2w9PSdodHRwczonPydodHRwczovL2Nhcy5jcml0ZW8uY29tL2RlbGl2ZXJ5L2Fqcy5waHA/JzonaHR0cDovL2Nhcy5jcml0ZW8uY29tL2RlbGl2ZXJ5L2Fqcy5waHA/Jyk7CiAgICB2YXIgbTNfciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSo5OTk5OTk5OTk5OSk7CiAgICBkb2N1bWVudC53cml0ZSAoIjxzY3IiKyJpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9JyIrbTNfdSk7CiAgICBkb2N1bWVudC53cml0ZSAoInpvbmVpZD1bSURdIik7ZG9jdW1lbnQud3JpdGUoIiZub2Rpcz0xIik7CiAgICBkb2N1bWVudC53cml0ZSAoJyZjYj0nICsgbTNfcik7CiAgICBpZiAoZG9jdW1lbnQuTUFYX3VzZWQgIT0gJywnKSBkb2N1bWVudC53cml0ZSAoIiZleGNsdWRlPSIgKyBkb2N1bWVudC5NQVhfdXNlZCk7CiAgICBkb2N1bWVudC53cml0ZSAoZG9jdW1lbnQuY2hhcnNldCA/ICcmY2hhcnNldD0nK2RvY3VtZW50LmNoYXJzZXQgOiAoZG9jdW1lbnQuY2hhcmFjdGVyU2V0ID8gJyZjaGFyc2V0PScrZG9jdW1lbnQuY2hhcmFjdGVyU2V0IDogJycpKTsKICAgIGRvY3VtZW50LndyaXRlICgiJmxvYz0iICsgZXNjYXBlKHdpbmRvdy5sb2NhdGlvbikpOwogICAgaWYgKGRvY3VtZW50LnJlZmVycmVyKSBkb2N1bWVudC53cml0ZSAoIiZyZWZlcmVyPSIgKyBlc2NhcGUoZG9jdW1lbnQucmVmZXJyZXIpKTsKICAgIGlmIChkb2N1bWVudC5jb250ZXh0KSBkb2N1bWVudC53cml0ZSAoIiZjb250ZXh0PSIgKyBlc2NhcGUoZG9jdW1lbnQuY29udGV4dCkpOwogICAgaWYgKCh0eXBlb2YoZG9jdW1lbnQuTUFYX2N0MCkgIT0gJ3VuZGVmaW5lZCcpICYmIChkb2N1bWVudC5NQVhfY3QwLnN1YnN0cmluZygwLDQpID09ICdodHRwJykpIHsKICAgICAgICBkb2N1bWVudC53cml0ZSAoIiZjdDA9IiArIGVzY2FwZShkb2N1bWVudC5NQVhfY3QwKSk7CiAgICB9CiAgICBpZiAoZG9jdW1lbnQubW1tX2ZvKSBkb2N1bWVudC53cml0ZSAoIiZtbW1fZm89MSIpOwogICAgZG9jdW1lbnQud3JpdGUgKCInPjwvc2NyIisiaXB0PiIpOwo8L3NjcmlwdD4KPCEtLSBFbmQgdGFnIC0tPg==",
"networks/dfp.html":"PCEtLSBCRUdJTiBERlAgVEFHIC0gW1NJWkVdIFtET01BSU5dIDwgLSBETyBOT1QgTU9ESUZZIC0tPgo8c3R5bGUgdHlwZT0idGV4dC9jc3MiPgogICAgI2tpb3NrZWQtZGZwLVtLSU9TS19JRF0gewogICAgICAgIHdpZHRoOiBbV0lEVEhdcHg7CiAgICAgICAgaGVpZ2h0OiBbSEVJR0hUXXB4OwogICAgICAgIGJvdHRvbTogMHB4OwogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIH0KICAgICNraW9za2VkLWRmcC1bS0lPU0tfSURdICpbaWRePSdnb29nbGVfYWRzX2lmcmFtZSddIHsKICAgICAgICB3aWR0aDogW1dJRFRIXXB4ICFpbXBvcnRhbnQ7CiAgICB9Cjwvc3R5bGU+CjxkaXYgaWQ9Imtpb3NrZWQtZGZwLVtLSU9TS19JRF0iPgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgogICAgICAgIHdpbmRvdy5JVEdTLmdwdEFkU2xvdHMgPSB3aW5kb3cuSVRHUy5ncHRBZFNsb3RzIHx8IFtdOwogICAgICAgIGdvb2dsZXRhZy5jbWQucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHdpbmRvdy5JVEdTLmdwdEFkU2xvdHNbW0RGUF9JTlNUQU5DRV9DT1VOVF1dID0gZ29vZ2xldGFnLmRlZmluZVNsb3QoCiAgICAgICAgICAgICAgICAiW0lEXSIsIFtbV0lEVEhdLCBbSEVJR0hUXV0sICJraW9za2VkLWRmcC1bS0lPU0tfSURdIgogICAgICAgICAgICApLmFkZFNlcnZpY2UoZ29vZ2xldGFnLnB1YmFkcygpKTsKICAgICAgICAgICAgZ29vZ2xldGFnLnB1YmFkcygpLnVwZGF0ZUNvcnJlbGF0b3IoKTsKICAgICAgICAgICAgZ29vZ2xldGFnLnB1YmFkcygpLmVuYWJsZVNpbmdsZVJlcXVlc3QoKTsKICAgICAgICAgICAgZ29vZ2xldGFnLmVuYWJsZVNlcnZpY2VzKCk7CiAgICAgICAgfSk7CiAgICAgICAgZ29vZ2xldGFnLmNtZC5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZ29vZ2xldGFnLnB1YmFkcygpLnJlZnJlc2goW2dwdEFkU2xvdHNbW0RGUF9JTlNUQU5DRV9DT1VOVF1dXSk7CiAgICAgICAgfSk7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICAgICAgZ29vZ2xldGFnLmNtZC5wdXNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGdvb2dsZXRhZy5kaXNwbGF5KCJraW9za2VkLWRmcC1bS0lPU0tfSURdIik7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sIDEpOwogICAgPC9zY3JpcHQ+CjwvZGl2Pgo8IS0tIEVORCBUQUcgLS0+",
"networks/districtm.html":"PCEtLSBEaXN0cmljdCBNIFRhZyAtIFtTSVpFXSAtIEFURiAtIEVOIC0tPgo8ZGl2IGNsYXNzPSdkaXN0cmljdG0nPjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48IS0tCi8qIFtET01BSU5dIC0gUnVuT2ZTaXRlICovCmRtX2FkX3Nsb3QgPSBbSURdOwpkbV9hZF93aWR0aCA9IFtXSURUSF07CmRtX2FkX2hlaWdodCA9IFtIRUlHSFRdOwpkbV9sYW5ndWFnZSA9ICdFTic7Ci8vLS0+Cjwvc2NyaXB0PgogICAgPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnCiAgICAgICAgICAgIHNyYz0nLy9zdGF0aWMuZGlzdHJpY3RtLmNhLzE4L2RtX2FkdGFnW0FEVkVSVElTRVJfSURdLmpzJz4KICAgIDwvc2NyaXB0PjwvZGl2Pgo8IS0tIEVuZCBvZiBEaXN0cmljdCBNIFRhZyAtLT4=",
"networks/iow.html":"PCEtLSBCZWdpbiBJT1cgdGFnIC0gW1NJWkVdIC0gW0RPTUFJTl0gLS0+CjxkaXYgc3R5bGU9IndpZHRoOiBbV0lEVEhdcHg7IGhlaWdodDogW0hFSUdIVF1weCIgaWQ9Imtza2RfaW93X1tLSU9TS19JRF0iPjwvZGl2Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICBJVEdTLnIoImxvY2F0b3JzL0lPV01hbmFnZXJMb2NhdG9yIiwgZnVuY3Rpb24oSU9XTWFuYWdlckxvY2F0b3IpIHsKICAgICAgICB2YXIgbWdyID0gSU9XTWFuYWdlckxvY2F0b3IuZ2V0SU9XTWFuYWdlcigpLAogICAgICAgICAgICBwcm94eSA9IG1nci5nZXRQcm94eSgpOwogICAgICAgIHByb3h5LnJlcXVlc3RTbG90KCJbUExBQ0VNRU5UX1RZUEVdIiwgIltJRF0iLCAiW0ZMRF9TVEFUVVNdIik7CiAgICAgICAgcHJveHkucmVuZGVyU2xvdCgKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJrc2tkX2lvd19bS0lPU0tfSURdIiksCiAgICAgICAgICAgICAgICAiW1BMQUNFTUVOVF9UWVBFXSIsCiAgICAgICAgICAgICAgICAiW0lEXSIsCiAgICAgICAgICAgICAgICAiW0tJT1NLX0lEXSIsCiAgICAgICAgICAgICAgICBbRkxEX1NUQVRVU10KICAgICAgICApOwogICAgfSk7Cjwvc2NyaXB0Pgo8IS0tIEVuZCBJT1cgdGFnIC0tPg==",
"networks/openx.html":"PCEtLS8qIE9wZW5YIEphdmFTY3JpcHQgdGFnICovLS0+CjxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4KICAgIGlmICghd2luZG93Lk9YX2FkcykgeyBPWF9hZHMgPSBbXTsgfQogICAgT1hfYWRzLnB1c2goeyAiYXVpZCIgOiAiW0lEXSIgfSk7Cjwvc2NyaXB0Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICBkb2N1bWVudC53cml0ZSgnPHNjcicrJ2lwdCBzcmM9Ii8vdXMtYWRzLm9wZW54Lm5ldC93LzEuMC9qc3RhZyI+PFwvc2NyJysnaXB0PicpOwo8L3NjcmlwdD4KPG5vc2NyaXB0PjxpZnJhbWUgaWQ9IjAwY2MzOGE3MTIiIG5hbWU9IjAwY2MzOGE3MTIiIHNyYz0iaHR0cDovL3VzLWFkcy5vcGVueC5uZXQvdy8xLjAvYWZyP2F1aWQ9W0lEXSZjYj1bQ0FDSEVCVVNURVJdIiBmcmFtZWJvcmRlcj0iMCIgc2Nyb2xsaW5nPSJubyIgd2lkdGg9IltXSURUSF0iIGhlaWdodD0iW0hFSUdIVF0iPjxhIGhyZWY9Imh0dHA6Ly91cy1hZHMub3BlbngubmV0L3cvMS4wL3JjP2NzPTAwY2MzOGE3MTImY2I9W0NBQ0hFQlVTVEVSXSIgPjxpbWcgc3JjPSJodHRwOi8vdXMtYWRzLm9wZW54Lm5ldC93LzEuMC9haT9hdWlkPVtJRF0mY3M9MDBjYzM4YTcxMiZjYj1bQ0FDSEVCVVNURVJdIiBib3JkZXI9IjAiIGFsdD0iIj48L2E+PC9pZnJhbWU+PC9ub3NjcmlwdD4K",
"networks/revive.html":"PCEtLSBCZWdpbiBSZXZpdmUgdGFnIC0gW1NJWkVdIC0gW0RPTUFJTl0gLS0+CjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz48IS0tLy88IVtDREFUQVsKICAgIHZhciBtM191ID0gKGxvY2F0aW9uLnByb3RvY29sPT0naHR0cHM6Jz8naHR0cHM6Ly9hZC5raW9za2VkLmNvbS93d3cvZGVsaXZlcnkvYWpzLnBocCc6J2h0dHA6Ly9hZC5raW9za2VkLmNvbS93d3cvZGVsaXZlcnkvYWpzLnBocCcpOwogICAgaWYgKCFkb2N1bWVudC5NQVhfdXNlZCkgZG9jdW1lbnQuTUFYX3VzZWQgPSAnLCc7CiAgICBkb2N1bWVudC53cml0ZSAoIjxzY3IiKyJpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0JyBzcmM9JyIrbTNfdSk7CiAgICBkb2N1bWVudC53cml0ZSAoIj96b25laWQ9W0lEXSIpOwogICAgZG9jdW1lbnQud3JpdGUgKCcmYW1wO2NiPVtDQUNIRUJVU1RFUl0nKTsKICAgIGlmIChkb2N1bWVudC5NQVhfdXNlZCAhPSAnLCcpIGRvY3VtZW50LndyaXRlICgiJmFtcDtleGNsdWRlPSIgKyBkb2N1bWVudC5NQVhfdXNlZCk7CiAgICBkb2N1bWVudC53cml0ZSAoZG9jdW1lbnQuY2hhcnNldCA/ICcmYW1wO2NoYXJzZXQ9Jytkb2N1bWVudC5jaGFyc2V0IDogKGRvY3VtZW50LmNoYXJhY3RlclNldCA/ICcmYW1wO2NoYXJzZXQ9Jytkb2N1bWVudC5jaGFyYWN0ZXJTZXQgOiAnJykpOwogICAgZG9jdW1lbnQud3JpdGUgKCImYW1wO2xvYz0iICsgZXNjYXBlKHdpbmRvdy5sb2NhdGlvbikpOwogICAgaWYgKGRvY3VtZW50LnJlZmVycmVyKSBkb2N1bWVudC53cml0ZSAoIiZhbXA7cmVmZXJlcj0iICsgZXNjYXBlKGRvY3VtZW50LnJlZmVycmVyKSk7CiAgICBpZiAoZG9jdW1lbnQuY29udGV4dCkgZG9jdW1lbnQud3JpdGUgKCImY29udGV4dD0iICsgZXNjYXBlKGRvY3VtZW50LmNvbnRleHQpKTsKICAgIGlmIChkb2N1bWVudC5tbW1fZm8pIGRvY3VtZW50LndyaXRlICgiJmFtcDttbW1fZm89MSIpOwogICAgZG9jdW1lbnQud3JpdGUgKCInPjxcL3NjciIrImlwdD4iKTsKLy9dXT4tLT48L3NjcmlwdD4KPG5vc2NyaXB0PgogICAgPGEgaHJlZj0naHR0cDovL2FkLmtpb3NrZWQuY29tL3d3dy9kZWxpdmVyeS9jay5waHA/bj1hYjAyZjhjYyZhbXA7Y2I9W0NBQ0hFQlVTVEVSXScgdGFyZ2V0PSdfYmxhbmsnPgogICAgICAgIDxpbWcgc3JjPSdodHRwOi8vYWQua2lvc2tlZC5jb20vd3d3L2RlbGl2ZXJ5L2F2dy5waHA/em9uZWlkPVtJRF0mYW1wO2NiPVtDQUNIRUJVU1RFUl0mYW1wO249YWIwMmY4Y2MnIGJvcmRlcj0nMCcgYWx0PScnIC8+CiAgICA8L2E+Cjwvbm9zY3JpcHQ+CjwhLS0gRW5kIFJldml2ZSB0YWcgLS0+",
"networks/technorati.html":"PCEtLSBCRUdJTiBURUNITk9SQVRJIE1FRElBIFRBRyBGT1IgW0RPTUFJTl1fW1NJWkVdLCBBZCBTaXplOiBbU0laRV0gLS0+CjxzY3JpcHQgdHlwZT0ndGV4dC9qYXZhc2NyaXB0Jz4KICAgIGRvY3VtZW50LndyaXRlKCc8c2NyaScgKyAncHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9IicKICAgICsgKGRvY3VtZW50LmxvY2F0aW9uLnByb3RvY29sID09ICdodHRwczonID8gJ2h0dHBzOi8vdWF0LXNlY3VyZS50ZWNobm9yYXRpbWVkaWEuY29tJyA6ICdodHRwOi8vYWQtY2RuLnRlY2hub3JhdGltZWRpYS5jb20nKQogICAgKyAnLzAwLzIxLzI0L3VhdF80MjQyMS5qcz9hZF9zaXplPVtTSVpFXSI+PC9zY3JpJyArICdwdD4nKTsKPC9zY3JpcHQ+CjwhLS0gRU5EIFRFQ0hOT1JBVEkgTUVESUEgVEFHIEZPUiBbRE9NQUlOXV9bU0laRV0sIEFkIFNpemU6IFtTSVpFXSAtLT4=",
"networks/test.html":"PCEtLSBLaW9za2VkOiBCRUdJTiBTYW1wbGUgYmFubmVyIC0tPgo8ZGl2IGlkPSJrc2tkVGVzdERpdl9bS0lPU0tfSURdIj48L2Rpdj4KPHNjcmlwdCB0eXBlPSd0ZXh0L2phdmFzY3JpcHQnPgogICAgdmFyIGRpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJrc2tkVGVzdERpdl9bS0lPU0tfSURdIik7CiAgICBkaXYuc3R5bGUud2lkdGggPSAiMTAwMHB4IjsKICAgIGRpdi5zdHlsZS5oZWlnaHQgPSAiMTAwMHB4IjsKICAgIGRpdi5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAiYmx1ZSI7CiAgICBpZiAoIltJRF0iID09ICJmYWxsYmFjazpjbG9zZSIpIHsKCiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKCiAgICAgICAgICAgIC8vIEtpb3NrZWQgRmFsbGJhY2sgOjogKEMpIENvcHlyaWdodCBLaW9za2VkIEx0ZC4KICAgICAgICAgICAgdmFyIGN1cnJlbnRUYXJnZXRXaW5kb3cgPSB3aW5kb3csCiAgICAgICAgICAgICAgICAgICAgd2luZG93U291cmNlcyA9IFtdLAogICAgICAgICAgICAgICAgICAgIGlmcmFtZUtza2RJRCA9ICIiOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGlmcmFtZUtza2RJRCA9IHdpbmRvdy5mcmFtZUVsZW1lbnQuZ2V0QXR0cmlidXRlKCJkYXRhLWtpb3NraWQiKTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KCiAgICAgICAgICAgIGRvIHsKICAgICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRlbnRVUkwgPSBjdXJyZW50VGFyZ2V0V2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRVUkwubGVuZ3RoID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dTb3VyY2VzLnB1c2goY29udGVudFVSTCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXRXaW5kb3cgPSBjdXJyZW50VGFyZ2V0V2luZG93LnBhcmVudDsKICAgICAgICAgICAgICAgIHZhciBwYWNrZXQgPSB7CiAgICAgICAgICAgICAgICAgICAgbmFtZTogImZhbGxiYWNrX2luaXRpYXRlZCIsCiAgICAgICAgICAgICAgICAgICAgd2luZG93X2NoYWluOiB3aW5kb3dTb3VyY2VzLAogICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcklEOiBpZnJhbWVLc2tkSUQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXRXaW5kb3cucG9zdE1lc3NhZ2UoImtpb3NrZWRfd2luZG93X21lc3NhZ2U6IiArIEpTT04uc3RyaW5naWZ5KHBhY2tldCksICcqJyk7CiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhcmdldFdpbmRvdy5wb3N0TWVzc2FnZSgia3NrZF93aW5kb3dfbWVzc2FnZToiICsgSlNPTi5zdHJpbmdpZnkocGFja2V0KSwgJyonKTsKICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CiAgICAgICAgICAgIH0gd2hpbGUgKGN1cnJlbnRUYXJnZXRXaW5kb3cgIT09IHdpbmRvdy50b3ApOwoKICAgICAgICB9LCA0NTApOwoKICAgIH0KPC9zY3JpcHQ+CjwhLS0gS2lvc2tlZDogRU5EIFNhbXBsZSBiYW5uZXIgLS0+",
"helpers/iframe-padding.html":"PHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgIGJvZHkgewogICAgICAgIG1hcmdpbjogMDsKICAgIH0KPC9zdHlsZT4="}})();
