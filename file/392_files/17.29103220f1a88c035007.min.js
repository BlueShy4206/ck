webpackJsonp([17,39],{274:[2002,906],684:[2196,897,898],685:[2205,767],686:[2209,767],765:function(t,e,s){(function(e){"use strict";var i=e.React||s(1),o=s(12),n={render:function(){var t=["darla-container","Pos-r","Z-0","Pos(r)","Z(0)"],e=["Pos-a","T-0","B-0","Start-0","End-0","Ov-h","Pos(a)","T(0)","B(0)","Start(0)","End(0)","Ov(h)"];this.state.backgroundColorClass&&t.push(this.state.backgroundColorClass);var s=this.props.collapsed?{}:o({},this.props.style),n=this.props.style&&this.props.style.width;this.props.collapsed?(s.height=0,void 0!==this.state.aspectRatio&&null!==this.state.aspectRatio&&(s.paddingTop=0)):void 0!==this.props.height&&null!==this.props.height?s.height=this.props.height:void 0!==this.state.aspectRatio&&null!==this.state.aspectRatio?(s.height=0,s.paddingTop=100/this.state.aspectRatio+"%"):s.height="100%",this.props.collapsed?s.width=0:n?s.width=n:void 0!==this.props.width&&null!==this.props.width?s.width=this.props.width:s.width="100%",void 0!==this.props.metaSize&&this.props.metaSize&&!this.props.collapsed&&(s.width="100%",s.height="100%",e=[]);var a=this.getStore("AdStore"),r=this.getStore("DarlaTaskStore").getState(),p="dest";return a.isParallelAdRender()&&1===r.currentPage&&(p="destMirror"),i.createElement("div",{id:this.props.pos+"-sizer",className:t.join(" "),style:s},i.createElement("div",{id:this.props.pos+"-wrapper",className:e.join(" ")},i.createElement("div",{id:p+this.props.pos,key:p+this.props.pos})))}};t.exports=n}).call(e,function(){return this}())},766:133,767:[2089,904,905],822:function(t,e,s){(function(e){"use strict";var i=e.React||s(1),o=s(679),n=s(894),a=s(896),r=s(895),p=s(13),l=s(6)("DARLA:Ad"),c=s(685),d=s(686),h=i.createClass({displayName:"Ads",mixins:[p],statics:{storeListeners:[o]},propTypes:{pos:i.PropTypes.string.isRequired,style:i.PropTypes.object.isRequired},contextTypes:{session:i.PropTypes.object.isRequired},getDefaultProps:function(){return{style:{}}},getInitialState:function(){return this._subscribers=null,this.getState(this.props.pos)},onChange:function(){this.isMounted()&&this.setState(this.getState(this.props.pos))},getState:function(t){var e=this.getStore(o),s=e.getPosConfig(t)||{};return{pos:t,config:s}},componentWillMount:function(){this.onChange()},componentDidMount:function(){var t=this.getStore(o);t.isParallelAdRender()&&(window.requestAnimationFrame?window.requestAnimationFrame(this._repositionAd):setTimeout(this._repositionAd,0),c("resize",this._repositionAd),c("orientationchange",this._repositionAd),window.addEventListener("scroll",this._repositionAd),window._DarlaEvents&&window._DarlaEvents.on("adresize",this._repositionAd))},_repositionAd:function(){var t=this.props.pos,e=document.getElementById("destMirror"+t),s=document.getElementById("destContainer"+t);if(s&&e){var i=e.getBoundingClientRect(),o=document.body.getBoundingClientRect(),n=document.getElementById(t+"-wrapper");if(s.style.position="absolute",s.style.top=i.top-o.top+"px",s.style.left=i.left-o.left+"px",t.match(/^(SPL|SPRZ)/)&&(s.style.width=n.offsetWidth+"px",s.style.height=n.offsetHeight+"px"),t.match(/^(MAST)/)){var a=document.getElementById(t+"-sizer");e.style.width=s.offsetWidth+"px",e.style.height=s.offsetHeight+"px",a.style.marginLeft&&(e.style.marginLeft=a.style.marginLeft),a.style.marginRight&&(e.style.marginRight=a.style.marginRight)}0===n.offsetWidth?s.style.display="none":"none"===s.style.display&&(s.style.display="block"),l("dimensions for ad "+t),l(i.top,i.left)}},componentWillUnmount:function(){var t=this.getStore(o);if(t.isParallelAdRender()){d("resize",this._repositionAd),d("orientationchange",this._repositionAd),window.removeEventListener("scroll",this._repositionAd),window._DarlaEvents&&window._DarlaEvents.removeListener("adresize",this._repositionAd);var e=document.getElementById("destContainer"+this.props.pos);e&&(e.style.display="none")}},componentWillReceiveProps:function(t){this.props.pos!==t.pos&&this.setState(this.getState(t.pos))},render:function(){var t=this.state.config;if(t.failed&&t.fallback){var e=t.fallback;return i.createElement("a",{href:e.link,title:""},i.createElement("img",{src:e.image,height:t.h,width:t.w,alt:"",title:"",style:this.props.style}))}var s=this.getStore(o),p=s.isParallelAdRender()?this._repositionAd:null,l=this.props.pos.match(/^(SPL|SPRZ)/)?i.createElement(a,{style:this.props.style,metaSize:t.metaSize,uhSlot:t.uhslot,onResize:p}):i.createElement(n,{height:t.h,width:t.w,style:this.props.style,metaSize:t.metaSize});return t.enable?i.createElement(r,{position:this.state.pos,staticLayout:t.staticLayout,key:"pos-"+this.state.pos,onDarlaRender:this.props.onDarlaRender},l):null}});t.exports=h}).call(e,function(){return this}())},852:function(t,e,s){"use strict";var i=s(8);t.exports=function(t){var e=t.getStore("PageStore"),s=t.getStore("RouteStore"),o=i(e,["pagesConfig","contentSpaceIds"],[]),n=i(s.getCurrentRoute().toJS(),["params","site"],"");return o[n]}},893:function(t,e){"use strict";t.exports={ready:function(t,e,s){t.dispatch("DARLA_POSITION_CONTAINER_READY",{position:e.position,instanceId:e.instanceId,isCollapsed:e.isCollapsed,isStaticLayout:e.isStaticLayout}),s&&s()},collapse:function(t,e,s){t.dispatch("DARLA_POSITIONS_COLLAPSE",e.positions),s&&s()},destroyed:function(t,e,s){t.dispatch("DARLA_POSITION_CONTAINER_DESTROYED",{position:e.position,instanceId:e.instanceId}),s&&s()}}},894:function(t,e,s){(function(e){"use strict";var i=e.React||s(1),o=s(765),n=s(13),a=i.createClass({displayName:"DarlaContainer",mixins:[o,n],getInitialState:function(){return{}}});t.exports=a}).call(e,function(){return this}())},895:function(t,e,s){(function(e){"use strict";function i(t,e){var s=e.DarlaTaskStore?e.DarlaTaskStore.readyPositions[t.position]:null;if(s){var i=s.instances.reduce(function(t,s,i){return t>=0?t:s.instanceId===e.darlaPositionInstanceId?i:t},-1);if(i>=0){var o=s.instances[i];return o}}return null}function o(t,e){var s=i(t,e);return s?s.taskCompleted:!1}function n(){return d++,d}var a=e.React||s(1),r=s(13),p=s(825),l=s(893),c=s(744),d=(s(679),-1),h=a.createClass({displayName:"DarlaPositionControllerContents",mixins:[r],statics:{storeListeners:[p]},getInitialState:function(){return{darlaPositionInstanceId:n(),mounted:!1,DarlaTaskStore:this.getStore(p).getState()}},onChange:function(){this.isMounted()&&this.setState({DarlaTaskStore:this.getStore(p).getState()})},render:function(){return a.addons.cloneWithProps(a.Children.only(this.props.children),{pos:this.props.position,collapsed:this.getStore("DarlaTaskStore").isPositionCollapsed(this.props.position,this.state.darlaPositionInstanceId)})},componentDidMount:function(){var t=this;this.executeAction(l.ready,{position:t.props.position,instanceId:t.state.darlaPositionInstanceId,isStaticLayout:t.props.staticLayout}),this.setState({mounted:!0})},componentWillUnmount:function(){var t=this;c.nukePosition(this.props.position),this.executeAction(l.destroyed,{position:t.props.position,instanceId:t.state.darlaPositionInstanceId})},componentWillUpdate:function(t,e){this.props.onDarlaRender&&!this.taskCompleted()&&o(t,e)&&!this.getStore("DarlaTaskStore").isPositionCollapsed(t.position,e.state.darlaPositionInstanceId)&&this.props.onDarlaRender()},taskCompleted:function(){return o(this.props,this.state)}}),u=a.createClass({displayName:"DarlaPositionController",render:function(){return this.props.position?a.createElement(h,this.props):null}});t.exports=u}).call(e,function(){return this}())},896:function(t,e,s){(function(e){"use strict";var i=8,o=2.4,n=16/9,a=e.React||s(1),r=s(765),p=s(13),l=s(910).WindowScroll,c={map:s(654)},d=a.createClass({displayName:"SplashContainer",mixins:[r,l,p],getInitialState:function(){var t=o;return"SPRZ"===this.props.pos&&(t=i),{onSplashMsg:this.onSplashMsg.bind(this),backgroundColorClass:"Bg-n Bg(n)",aspectRatio:t,overlayFadeEnabled:!1}},componentDidMount:function(){"undefined"!=typeof window&&window._DarlaEvents&&window._DarlaEvents.on("splashmsg",this.state.onSplashMsg)},componentWillUnmount:function(){"undefined"!=typeof window&&window._DarlaEvents.removeListener("splashmsg",this.state.onSplashMsg)},componentWillReceiveProps:function(t){"SPRZ"!==t.pos&&this._collapse()},onWindowScroll:function(){this.state.overlayFadeEnabled&&(this.setState({overlayFadeEnabled:!1}),this._setUHDisplay(!0))},onSplashMsg:function(t){var e=t.pos;if(e===this.props.pos){var s=t.msg,i="splash-";s===i+"expand"?this._expand():s===i+"collapse"?this._collapse():s===i+"mousemove"&&this.state.overlayFadeEnabled&&this._mousemove()}},_getUHSlot:function(){var t=this.props.uhSlot?this.props.uhSlot:"YDC-UHSlot";return c.map(t.split(","),function(t){return document.getElementById(t)})},_setUHDisplay:function(t){var e=this._getUHSlot();e&&c.map(e,function(e){e&&(e.style.display=t?"block":"none")})},_expand:function(){var t=this;"undefined"!=typeof window&&setTimeout(function(){t.setState({overlayFadeEnabled:!0})},300),this._setUHDisplay(!1),"SPRZ"!==this.props.pos&&this.getDOMNode().scrollIntoView(),this.setState({aspectRatio:n}),this.props.onResize&&setTimeout(this.props.onResize,50)},_collapse:function(){var t;this._setUHDisplay(!0),t="SPRZ"===this.props.pos?i:o,this.setState({aspectRatio:t,overlayFadeEnabled:!1}),this.props.onResize&&setTimeout(this.props.onResize,50)},_mousemove:function(){var t=this._getUHSlot();t&&(this._setUHDisplay(!0),setTimeout(function(){this.state.overlayFadeEnabled&&this._setUHDisplay(!1)}.bind(this),3e3))}});t.exports=d}).call(e,function(){return this}())},897:699,898:700,899:[2141,900],900:266,901:255,902:[2019,901,274,274,766],903:[2036,899],904:[2056,274,274,902,766,903,274,907],905:[2074,274],906:227,907:[2105,908],908:[2122,909],909:264,910:[2192,912,911,914,915,913],911:[2213,684],912:[2217,684],913:[2221,684],914:[2225,685,686],915:[2229,685,686],1508:function(t,e,s){"use strict";t.exports={controllerViews:{Ads:s(1509),AdsMiniHome:s(1511),AdsContentPage:s(1510)}}},1509:function(t,e,s){"use strict";var i,o=s(13),n=s(6)("Ads:component:Ads.jsx"),a=s(1),r=s(822),p=s(1151),l=s(1153),c="renderMiniHomeAds",d=s(8);i=a.createClass({displayName:"Ads",mixins:[o],propTypes:{componentConfig:a.PropTypes.object},componentDidMount:function(){var t=d(this.props.componentConfig.toJS(),["positions"]),e=Object.keys(t);this.executeAction(p,{taskId:c,eventName:"fetchAll",positions:e,spaceid:964316389,overrides:{ps:["WFPAD","WPS","RICH"],sa:{},sp:this.props.spaceid},siteAttrs:{}})},componentWillUnmount:function(){this.executeAction(l.remove,{taskId:c})},render:function(){var t=[],e=d(this.props.componentConfig.toJS(),["positions"]),s={position:"static"};return n(e),Object.keys(e).forEach(function(e){"RICH"!==e?t.push(a.createElement("div",{key:e},a.createElement("h3",null,e),a.createElement(r,{pos:e}),a.createElement("hr",null))):t.push(a.createElement("div",{key:e},a.createElement("h3",null,e),a.createElement(r,{pos:e,style:s}),a.createElement("hr",null)))}),a.createElement("div",{id:this.props.id},t)}}),t.exports=i},1510:function(t,e,s){"use strict";var i,o,n=s(822),a=s(1151),r=s(1153),p="renderContentPageAds",l=s(6)("Ads:components:AdsContentPage.jsx"),c=s(13),d=s(1),h=s(852);i=d.createClass({displayName:"AdsGroup",mixins:[c],componentDidMount:function(){this.props.positions.length&&(this.TASK_ID=p+Date.now(),this.executeAction(a,{taskId:this.TASK_ID,eventName:"fetchAllContentPage",spaceid:this.props.spaceid,positions:this.props.positions,overrides:{ps:this.props.positions,sa:{},sp:this.props.spaceid},siteAttrs:{}}))},componentWillUnmount:function(){this.props.positions.length&&this.executeAction(r.remove,{taskId:this.TASK_ID})},shouldComponentUpdate:function(t,e){return this.props.spaceid!==t.spaceid},render:function(){var t=this.props.positions.map(function(t){return d.createElement(n,{pos:t,style:{position:"inherit"}})});return l(this.props.spaceid),d.createElement("div",null,t)}}),o=d.createClass({displayName:"AdsContentPage",mixins:[c],statics:{componentConfig:{name:"componentAdsContentPage"}},componentWillMount:function(){this.spaceid=h(this.context)},shouldComponentUpdate:function(){var t=h(this.context);return t&&t!==this.spaceid?(this.spaceid=t,!0):!1},render:function(){return d.createElement("div",{id:this.props.id,className:"ads-content-page"},d.createElement(i,{key:this.spaceid,spaceid:this.spaceid,positions:this.props.componentConfig.get("positions").toJS()}))}}),t.exports=o},1511:function(t,e,s){"use strict";var i,o,n=s(822),a=s(1151),r=s(1153),p="renderMiniHomeAds",l=s(6)("AdsMiniHome:AdsMiniHomeComponent"),c=s(13),d=s(1),h=s(125);i=d.createClass({displayName:"AdsGroup",mixins:[c],componentDidMount:function(){this.TASK_ID=p+Date.now(),this.executeAction(a,{taskId:this.TASK_ID,eventName:"fetchAllMiniHome",spaceid:this.props.spaceid,positions:this.props.positions,overrides:{ps:this.props.positions,sa:{},sp:this.props.spaceid},siteAttrs:{}})},componentWillUnmount:function(){this.executeAction(r.remove,{taskId:this.TASK_ID})},shouldComponentUpdate:function(t,e){return this.props.spaceid!==t.spaceid},render:function(){var t={margin:"auto"},e={position:"inherit"},s=this.props.positions.map(function(s){return d.createElement(n,{pos:s,style:"RICH"===s?e:t})});return l(this.props.spaceid),d.createElement("div",null,s)}}),o=d.createClass({displayName:"AdsMiniHome",mixins:[c],statics:{componentConfig:{name:"componentAdsMiniHome"}},componentWillMount:function(){this.pageStore=this.getStore(h);var t=this.pageStore.getPageConfig()||{};this.spaceid=t.spaceid},shouldComponentUpdate:function(){var t=this.pageStore.getPageConfig()||{},e=t.spaceid;return e!==this.spaceid?(this.spaceid=e,!0):!1},render:function(){return d.createElement("div",{id:this.props.id,className:"ads-minihome"},d.createElement(i,{key:this.spaceid,spaceid:this.spaceid,positions:this.props.componentConfig.get("positions").toJS()}))}}),t.exports=o}});