!function i(e,t,n){function r(s,c){if(!t[s]){if(!e[s]){var o="function"==typeof require&&require;if(!c&&o)return o(s,!0);if(a)return a(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=t[s]={exports:{}};e[s][0].call(d.exports,function(i){var t=e[s][1][i];return r(t?t:i)},d,d.exports,i,e,t,n)}return t[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(i,e,t){"use strict";e.exports=function(i,e){for(var t,n=/<%([^%>]+)?%>/g,r=/(^( )?(if|for|else|switch|case|break|{|}))(.*)?/g,a="var r=[];\n",s=0,c=function o(i,e){return a+=e?i.match(r)?i+"\n":"r.push("+i+");\n":""!=i?'r.push("'+i.replace(/"/g,'\\"')+'");\n':"",o};t=n.exec(i);)c(i.slice(s,t.index))(t[1],!0),s=t.index+t[0].length;return c(i.substr(s,i.length-s)),a+='return r.join("");',new Function(a.replace(/[\r\t\n]/g,"")).apply(e)}},{}],2:[function(i,e,t){"use strict";e.exports=function(){var i=['<a style="display: block; width: 20px; height: 20px; position: absolute; right: 0; top: 0; z-index: 1000;" ','href="http://www.appier.com/en/retargeting_privacy.html" target="_blank">','<span style="display: inline-block; background: rgba(255,255,255,0.7); width: 14px; height: 14px; margin: 0 0 6px 6px;">','<svg width="14px" height="14px" viewBox="0 0 512 512" enable-background="new 0 0 512 512">','<path fill="#1092cc" d="M256,90c91.74,0,166,74.244,166,166c0,91.741-74.245,166-166,166c-91.741,0-166-74.245-166-166',"C90,164.259,164.244,90,256,90 M256,50C142.229,50,50,142.229,50,256s92.229,206,206,206s206-92.229,206-206S369.771,50,256,50","L256,50z M258.025,379.511c-14.546,0-26.343-11.797-26.343-26.349c0-14.543,11.797-26.336,26.343-26.336","c14.549,0,26.342,11.793,26.342,26.336C284.367,367.714,272.574,379.511,258.025,379.511z M278.735,301.646v4.739","c0,0-39.494,0-43.423,0v-4.739c0-13.408,1.956-30.61,17.523-45.565c15.569-14.958,35.024-27.312,35.024-45.996","c0-20.655-14.335-31.581-32.409-31.581c-30.116,0-32.085,31.234-32.827,38.112H180.39c1.125-32.57,14.891-78.127,75.315-78.127",'c52.363,0,75.905,35.07,75.905,67.957C331.61,258.793,278.735,267.886,278.735,301.646z"></path>',"</svg>","</span>","</a>"].join("");$(".appier-ad").append(i)}},{}],3:[function(i,e,t){"use strict";e.exports=function n(i,e,t){t=(t||0)+1;var r,a,s;r=i.width(),a=e.width(),a>0?a>2*r?e.css({"max-width":"100%","z-index":1}):a>r?(s=Math.round((r-a)/2),e.css({left:s,"z-index":1})):e.css({"z-index":1}):3>t?setTimeout(function(){n(i,e,t)},100):e.css({"z-index":1})}},{}],4:[function(i,e,t){"use strict";e.exports={getDiscountRate:function(i,e,t){var n=i.split(","),r=e.split(",");if(i=n.join(""),e=r.join(""),"savingPriceRate"===t){var a=Math.floor((i-e)/i*100),s='<div class="discountRateWrap savingPriceRate'+("0"===a||""===a?" hide":"")+'"><span class="discountRate">-'+a+"%</span></div>";return{discountRate:a,discountDom:s}}if("discountPercentage"===t){var a=Math.floor(e/i*100).toString(),s='<div class="discountRateWrap discountPercentage'+("100"===a||"0"===a||""===a?" hide":"")+'"><span class="discountRate">'+a.split("0")[0]+"折</span></div>";return{discountRate:"100"!==a?a.split("0")[0]:"100",discountDom:s}}}}},{}],5:[function(i,e,t){"use strict";e.exports=function(i,e,t,n){if("XDomainRequest"in window&&null!==window.XDomainRequest){var r=new XDomainRequest;r.open("get",i),r.onload=function(){var i=new ActiveXObject("Microsoft.XMLDOM"),t=$.parseJSON(r.responseText);i.async=!1,(null==t||"undefined"==typeof t)&&(t=$.parseJSON(data.firstChild.textContent)),e(t)},r.onprogress=function(){},r.ontimeout=function(){},r.onerror=function(){t()},setTimeout(function(){r.send()},0)}else n?$.ajax({url:i,dataType:"json",type:"GET",success:function(i,t){e(i)},error:function(i){t()},xhrFields:{withCredentials:!0}}):$.ajax({url:i,dataType:"json",type:"GET",success:function(i,t){e(i)},error:function(i){t()}})}},{}],6:[function(i,e,t){"use strict";e.exports=function(i,e){for(var t=i;t.length<e;)t=t.concat(i);return t}},{}],7:[function(i,e,t){"use strict";e.exports=function(i,e){if(i=i||0,i>1e6&&"IDR"!==e)return i/1e6+"M";var t=i.toString().split("."),n="IDR"===e?".":",";return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,n),t.join(".")}},{}],8:[function(i,e,t){"use strict";e.exports=function(e,t,n,r,a,s,c,o,u,d,p,l,f){var g,h=i("./crossDomainAjax.js"),v=["xst="+e,"skey="+n];r&&v.push("xuid="+r),a&&v.push("idfa="+a),s&&v.push("gu="+s),c&&v.push("adxidfa="+c),o&&v.push("cid="+o),u&&v.push("crid="+u),v.push("uuid="+p),g=v.join("&");var m="//dync.c.appier.net/w/"+t+"/r?"+g;"static"===window.CREATIVE_INFO.MODE?h(d,l,function(){},!1):(h(d,f,function(){},!1),h(m,l,function(){},!0))}},{"./crossDomainAjax.js":5}],9:[function(i,e,t){"use strict";e.exports=function(e,t,n,r,a){function s(i){for(var e,t,n=i.length;n;e=Math.floor(Math.random()*n),t=i[--n],i[n]=i[e],i[e]=t);return i}var c=i("./TemplateEngine.js"),o=void 0,u=void 0,d="logo_"+n,p="";window.CLICK_THROUHG_URL=(window.CLICK_THROUHG_URL||"").replace("$su$_bi_$su$",r.bidobjid),t=(t||"").replace("$su$_bi_$su$",r.bidobjid),t.length&&"&"!==t.charAt(0)&&(t="&"+t),a[d]&&a[d].landurl&&(u=c(a[d].landurl,{richmedia:r})),a[d]&&a[d].img&&(e=a[d].img);var l=$.map(a.value,function(i){return o=c(a.land_append,{item:i,richmedia:r}),i.img&&!i.img.match(/^http/)&&(i.img="http:"+i.img),i.origprice=i.origprice||i.price,p=(i.url||"").indexOf("?")?i.url:i.url+"?",i.click_url=(window.CLICK_THROUHG_URL||"")+encodeURIComponent(p+t)+o,i});return"static"===window.CREATIVE_INFO.MODE&&(l=s(l)),{APPEND_GA:t,LOGO_IMAGE:e,data:l}}},{"./TemplateEngine.js":1}],10:[function(i,e,t){"use strict";e.exports=function(e,t,n,r){var a=i("./TemplateEngine.js"),s=new Image;if(s.src=a(t.show_beacon_template,{richmedia:n,layout_id:e}),r){var c=new Image;c.src=r}}},{"./TemplateEngine.js":1}],11:[function(i,e,t){"use strict";e.exports=function(i){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),t=[],n=0;for(i=i||22,n=0;i>n;n++)t[n]=e[0|64*Math.random()];return t.join("")}},{}],12:[function(i,e,t){"use strict";function n(i){var e=A.getDiscountRate(i[0].origprice,i[0].price,"discountPercentage").discountDom,t=['<div id="appier-ad-300-250-discountPercentage" class="appier-ad" uuid="'+V+'">','<a class="logo" target="_blank" href="'+U+'">','<img src="'+F+'">',"</a>",'<a class="view clearfix" href="#" target="_blank">','<div class="img-wrap">',e,'<img src="">',"</div>",'<div class="info-wrap">','<div class="title"></div>','<div class="price-wrap">','<p style="text-align:center;">','<span class="current-price text"></span>',"</p>","</div>",'<div class="btn-wrap">','<button class="btn">立即購買</button>',"</div>","</div>","</a>",'<div class="items clearfix">',"<% for(var i =0; i < 4; i++){ %>",'<div class="item-wrap">','<a href="<% this[i].click_url %>" target="_blank" class="item" style="background-image:url(<% this[i].img %>)">','<% if(true) { function getDiscountRate(orinPrice, newPrice) {var _orinPrice = orinPrice.split(","),_newPrice = newPrice.split(",");orinPrice = _orinPrice.join(""),newPrice = _newPrice.join("");return ( Math.floor(newPrice / orinPrice * 100) ).toString();}} %>',"<% if(true) { var _discountRate = getDiscountRate(this[i].origprice, this[i].price); } %>",'<% if(true) { var discountRateClass = _discountRate !== "100" ? "show" : "hide"; } %>','<div class="discountRateWrap discountPercentage <% discountRateClass %>" ><span class="discountRate"><% _discountRate.split("0")[0] %>折</span></div>',"</a>","</div>","<% } %>","</div>","</div>"].join(""),n=I(t,i);$("body").append(n),P()}function r(){j.on("mouseenter",function(){var i=$(this),e=i.data(),t=b.find(".img-wrap"),n=b.find("img"),r="$";j.removeClass("selected"),i.addClass("selected"),b.find(".title").text(e.title),n.attr("src",e.img).attr("style",""),b.attr("href",e.click_url),e.origprice===e.price?(b.find(".origin-price").text("").hide(),b.find(".current-price").html('<span class="currency">'+r+"</span>"+M(e.price))):b.find(".current-price").html('<span class="currency">'+r+"</span>"+M(e.price));var a=A.getDiscountRate(M(e.origprice),M(e.price),"discountPercentage").discountRate;"100"===a||""===a?b.find(".discountRateWrap").hide():b.find(".discountRateWrap").show().find(".discountRate").text(a+"折"),n.load(y(t,n))})}function a(){j.eq(0).mouseenter()}function s(){x=$("#appier-ad-300-250-discountPercentage"),b=x.find(".view"),_=x.find(".items"),j=x.find(".item"),R=x.find(".btn")}function c(i){var e,t;j.each(function(n){e=$(this),e.data(i[n]),t=e.find("img"),t.load(y(e,t))})}function o(i){w=setTimeout(function(){u(i)},3e3)}function u(i){var e,t;clearTimeout(w),H||(H=!0,!i.error&&i.value&&i.value.length>0&&(i.value=C(i.value,S),e=D(F,q,N,z,i),t=e.data,F=e.LOGO_IMAGE,q=e.APPEND_GA,t=t.map(function(i){return i.price.indexOf(".")>-1&&(i.price=M(i.price.slice(0,i.price.indexOf(".")))),i}),n(t),s(),c(t),T(N,i,z),r(),a()))}function d(){try{var i=z=JSON.parse($("#richmedia-info").text().trim());L=i.SITE_ID?i.SITE_ID:L,N=i.XST?i.XST:N,l=i.xuid?i.xuid:l,f=i.idfa?i.idfa:f,g=i.googleuid?i.googleuid:g,h=i.adxidfa?i.adxidfa:h,q=i.append_ga?i.append_ga:"",v=i.cid,m=i.crid}catch(e){}z.bidobjid&&0!==z.bidobjid.length||(z.bidobjid=V)}function p(){d(),O(N,L,k,l,f,g,h,v,m,G,V,u,o)}var l,f,g,h,v,m,w,x,b,_,j,R,E=i("../../lib/ssidGenerator.js"),I=i("../../lib/TemplateEngine.js"),O=i("../../lib/loadContent.js"),T=i("../../lib/showBeacon.js"),C=i("../../lib/ensureDataLength.js"),D=i("../../lib/preprocessData.js"),P=i("../../lib/appendPrivacyLink.js"),y=i("../../lib/centerImage.js"),M=i("../../lib/getNumberWithCommas.js"),A=i("../../lib/commonFunction.js"),L=window.CREATIVE_INFO.SITE_ID,N="w_300x250_basic",k=window.CREATIVE_INFO.SKEY,G=window.CREATIVE_INFO.DEFAULT_JSON,S=4,F=window.CREATIVE_INFO.LOGO_IMAGE,U=window.CREATIVE_INFO.LOGO_URL,q="",z={},H=!1,V=E();p()},{"../../lib/TemplateEngine.js":1,"../../lib/appendPrivacyLink.js":2,"../../lib/centerImage.js":3,"../../lib/commonFunction.js":4,"../../lib/ensureDataLength.js":6,"../../lib/getNumberWithCommas.js":7,"../../lib/loadContent.js":8,"../../lib/preprocessData.js":9,"../../lib/showBeacon.js":10,"../../lib/ssidGenerator.js":11}]},{},[12]);